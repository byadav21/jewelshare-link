import{j as e}from"./query-vendor-BLxHmmGk.js";import{r as n,u as $e}from"./react-vendor-BeR0k5Z3.js";import{B as f,C as T,s as te,i as z,k as G,l as V,g as _}from"./index-CX6yiz0b.js";import{L as E}from"./label-DbIM3Eg1.js";import{I as re}from"./input-CiHC6UAI.js";import{S as O,a as H,b as q,c as W,d as J}from"./select-CYWHo3cU.js";import{X as ce,b as y,d as Y,ac as Z,A as pe,Z as ne,a1 as Ee,D as Ne,ad as Le,ae as Me,af as S,k as he,ag as ie,ah as ze,ai as _e,aj as Be,ab as Re,u as x}from"./ui-vendor-DjQqXt9S.js";import{A as le}from"./AnimatedCounter-56nA6TfH.js";import{S as B}from"./ScrollReveal-D3It02AA.js";import{T as Ue,a as Ge,b as ge,c as je}from"./tabs-30ai4xjf.js";import{B as b}from"./badge-45Abp579.js";import{S as Ve}from"./separator-D0WC8Ha9.js";import{E as Oe,a as He}from"./jspdf.plugin.autotable-41Os2KV8.js";import{D as qe,b as We,c as Je,d as Ye,e as Ze}from"./dialog-KVJ8gRMk.js";import{A as Qe,a as Ke}from"./alert-DIsJjuyH.js";import{A as oe}from"./index-BkbA5Y1F.js";import{k as l}from"./proxy-8agjeDDu.js";import{c as fe}from"./confetti.module-B5JVzsfH.js";import{B as Xe}from"./BackToHomeButton-C1MOpu96.js";import"./supabase-vendor-VSDMYZ1k.js";import"./index-BdQq_4o_.js";import"./index-BC78nHQ6.js";import"./index-D6fUEw85.js";import"./index-DjQc2W_p.js";import"./index-DVcnno33.js";import"./index-DhS5fNEb.js";const es=({remainingCalculations:r,totalLimit:g})=>{const[c,j]=n.useState(!1),A=$e(),N=(g-r)/g*100;return e.jsxs(e.Fragment,{children:[e.jsx(oe,{children:e.jsx(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsxs(Qe,{className:`relative overflow-hidden border-2 ${r===0?"border-destructive/50 bg-destructive/5":r<=2?"border-orange-500/50 bg-orange-500/5":"border-primary/50 bg-primary/5"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/5 to-transparent animate-pulse"}),e.jsxs("div",{className:"relative flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-[200px]",children:[e.jsx(l.div,{animate:{rotate:r<=2?[0,-10,10,-10,0]:0},transition:{duration:.5,repeat:r<=2?1/0:0,repeatDelay:2},children:r===0?e.jsx(ce,{className:"h-5 w-5 text-destructive"}):e.jsx(y,{className:"h-5 w-5 text-primary"})}),e.jsx(Ke,{className:"m-0",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"font-semibold",children:r===0?e.jsx("span",{className:"text-destructive",children:"Daily Limit Reached!"}):e.jsxs("span",{children:[r," calculation",r!==1?"s":""," remaining today"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx(l.div,{className:`h-full ${r===0?"bg-destructive":r<=2?"bg-orange-500":"bg-primary"}`,initial:{width:0},animate:{width:`${N}%`},transition:{duration:.5}})}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[g-r,"/",g," used"]})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>j(!0),className:"group",children:["Compare Plans",e.jsx(Y,{className:"ml-1 h-4 w-4 group-hover:translate-x-0.5 transition-transform"})]}),e.jsxs(f,{size:"sm",onClick:()=>A("/auth"),className:"group bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",children:[e.jsx(Z,{className:"mr-1 h-4 w-4"}),"Sign In for Unlimited",e.jsx(pe,{className:"ml-1 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]})]})})}),e.jsx(qe,{open:c,onOpenChange:j,children:e.jsxs(We,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Je,{children:[e.jsxs(Ye,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(ne,{className:"h-6 w-6 text-primary"}),"Choose Your Diamond Calculator Experience"]}),e.jsx(Ze,{children:"Compare features and choose what works best for you"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[e.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsx(T,{className:"p-6 h-full border-2 border-muted hover:border-muted-foreground/20 transition-colors",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(b,{variant:"outline",className:"mb-3",children:"Guest Access"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Free"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Try before you commit"})]}),e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"text-3xl font-bold",children:["5",e.jsx("span",{className:"text-lg text-muted-foreground",children:"/day"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{included:!0,text:"Basic diamond price calculations"}),e.jsx(m,{included:!0,text:"4Cs specifications (Carat, Color, Clarity, Cut)"}),e.jsx(m,{included:!0,text:"Price adjustments (discount/markup)"}),e.jsx(m,{included:!0,text:"Compare up to 4 diamonds"}),e.jsx(m,{included:!1,text:"Unlimited calculations"}),e.jsx(m,{included:!1,text:"Save calculation history"}),e.jsx(m,{included:!1,text:"Export unlimited comparisons"}),e.jsx(m,{included:!1,text:"Priority support"})]})]}),e.jsx(f,{variant:"outline",className:"w-full mt-6",disabled:!0,children:"Current Plan"})]})})}),e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(T,{className:"p-6 h-full border-2 border-primary bg-gradient-to-br from-primary/5 via-transparent to-primary/5 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0",children:e.jsxs(b,{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"Recommended"]})}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-4 mt-6",children:[e.jsxs(b,{variant:"default",className:"mb-3 bg-gradient-to-r from-primary to-primary/80",children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),"Full Access"]}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Unlimited"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Professional diamond pricing tools"})]}),e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"text-3xl font-bold flex items-baseline gap-2",children:[e.jsx("span",{className:"text-primary",children:"∞"}),e.jsx("span",{className:"text-lg text-muted-foreground",children:"unlimited"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{included:!0,text:"Unlimited diamond calculations",highlight:!0}),e.jsx(m,{included:!0,text:"All 4Cs specifications",highlight:!0}),e.jsx(m,{included:!0,text:"Advanced price adjustments",highlight:!0}),e.jsx(m,{included:!0,text:"Compare unlimited diamonds",highlight:!0}),e.jsx(m,{included:!0,text:"Save calculation history",highlight:!0}),e.jsx(m,{included:!0,text:"Export all comparisons as PDF",highlight:!0}),e.jsx(m,{included:!0,text:"Access to all platform features",highlight:!0}),e.jsx(m,{included:!0,text:"Priority support",highlight:!0})]})]}),e.jsxs(f,{className:"w-full mt-6 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 group",onClick:()=>{j(!1),A("/auth")},children:[e.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Sign In Now",e.jsx(pe,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Free to sign up • No credit card required"})]})]})})]})]})})]})},m=({included:r,text:g,highlight:c})=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`mt-0.5 ${r?"text-primary":"text-muted-foreground"}`,children:r?e.jsx(Ne,{className:"h-4 w-4"}):e.jsx(ce,{className:"h-4 w-4"})}),e.jsx("span",{className:`text-sm ${r?c?"font-medium":"":"text-muted-foreground line-through"}`,children:g})]}),ss=({show:r,onClose:g})=>{const[c,j]=n.useState(0);n.useEffect(()=>{if(r){const d=Date.now()+3e3,P={startVelocity:30,spread:360,ticks:60,zIndex:9999},k=(v,w)=>Math.random()*(w-v)+v,$=setInterval(()=>{const v=d-Date.now();if(v<=0){clearInterval($);return}const w=50*(v/3e3);fe({...P,particleCount:w,origin:{x:k(.1,.3),y:Math.random()-.2},colors:["#FFD700","#FFA500","#FF6347","#9370DB","#00CED1"]}),fe({...P,particleCount:w,origin:{x:k(.7,.9),y:Math.random()-.2},colors:["#FFD700","#FFA500","#FF6347","#9370DB","#00CED1"]})},250),D=setTimeout(()=>j(1),800),L=setTimeout(()=>j(2),1600),F=setTimeout(()=>j(3),2400);return()=>{clearInterval($),clearTimeout(D),clearTimeout(L),clearTimeout(F)}}},[r]);const A=[{Icon:Me,text:"Unlimited calculations",color:"text-primary"},{Icon:ne,text:"Compare unlimited diamonds",color:"text-orange-500"},{Icon:Z,text:"Save calculation history",color:"text-yellow-500"},{Icon:y,text:"Export all comparisons",color:"text-purple-500"}];return e.jsx(oe,{children:r&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9998] flex items-center justify-center bg-background/80 backdrop-blur-sm",onClick:g,children:e.jsx(l.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",duration:.5},onClick:N=>N.stopPropagation(),children:e.jsxs(T,{className:"relative overflow-hidden border-2 border-primary shadow-2xl max-w-md mx-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-purple-500/10 to-orange-500/10 animate-pulse"}),e.jsx(l.div,{className:"absolute top-4 left-4",animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:2,repeat:999999,ease:"easeInOut"},children:e.jsx(y,{className:"h-6 w-6 text-yellow-500"})}),e.jsx(l.div,{className:"absolute top-4 right-4",animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:2,repeat:999999,ease:"easeInOut",delay:1},children:e.jsx(y,{className:"h-6 w-6 text-purple-500"})}),e.jsxs("div",{className:"relative p-8 text-center space-y-6",children:[e.jsx(l.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(l.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:999999,ease:"easeInOut"},className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary via-purple-500 to-orange-500 flex items-center justify-center",children:e.jsx(Le,{className:"h-10 w-10 text-white"})}),e.jsx(l.div,{className:"absolute -inset-2 rounded-full border-4 border-primary/30",animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:999999,ease:"easeInOut"}})]})}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs(b,{className:"mb-3 bg-gradient-to-r from-primary to-purple-500 text-white",children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),"Unlimited Access Unlocked!"]}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-primary via-purple-500 to-orange-500 bg-clip-text text-transparent",children:"Welcome Back!"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"You now have unlimited access to all diamond calculator features"})]}),e.jsx("div",{className:"space-y-3",children:A.map((N,d)=>{const P=N.Icon;return e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:c>d?1:.3,x:c>d?0:-20,scale:c===d+1?[1,1.05,1]:1},transition:{delay:.6+d*.1,scale:{duration:.3}},className:`flex items-center gap-3 p-3 rounded-lg border transition-all duration-300 ${c>d?"border-primary/50 bg-primary/5":"border-muted bg-muted/30"}`,children:[e.jsx("div",{className:`${N.color}`,children:e.jsx(P,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-sm font-medium ${c>d?"text-foreground":"text-muted-foreground"}`,children:N.text}),c>d&&e.jsx(l.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:e.jsx(Ne,{className:"h-4 w-4 text-primary"})})]},d)})}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:e.jsxs(f,{onClick:g,className:"w-full bg-gradient-to-r from-primary via-purple-500 to-orange-500 hover:from-primary/90 hover:via-purple-500/90 hover:to-orange-500/90 text-white font-semibold group",children:["Start Calculating",e.jsx(ne,{className:"ml-2 h-4 w-4 group-hover:rotate-12 transition-transform"})]})})]})]})})})})},Ds=()=>{const[r,g]=n.useState(!1),[c,j]=n.useState(0),[A,N]=n.useState(!1),[d,P]=n.useState(""),[k,$]=n.useState(""),[D,L]=n.useState(""),[F,v]=n.useState(""),[w,Q]=n.useState(""),[I,de]=n.useState("discount"),[M,K]=n.useState(""),[R,me]=n.useState(!1),[o,X]=n.useState(null),[t,ee]=n.useState([]);n.useEffect(()=>{(async()=>{const{data:{session:p}}=await te.auth.getSession();g(!!p)})();const{data:{subscription:i}}=te.auth.onAuthStateChange((p,h)=>{const C=!r;g(!!h),p==="SIGNED_IN"&&h&&C&&setTimeout(()=>N(!0),500)});return()=>i.unsubscribe()},[r]),n.useEffect(()=>{if(!r){const s=new Date().toDateString(),i=localStorage.getItem("diamond_calculator_usage");if(i){const{date:p,count:h}=JSON.parse(i);p===s?j(h):(localStorage.setItem("diamond_calculator_usage",JSON.stringify({date:s,count:0})),j(0))}else localStorage.setItem("diamond_calculator_usage",JSON.stringify({date:s,count:0})),j(0)}},[r]);const be=()=>{if(!r){const s=new Date().toDateString(),i=c+1;localStorage.setItem("diamond_calculator_usage",JSON.stringify({date:s,count:i})),j(i)}},xe=()=>r?!0:c>=5?(x.error("Daily limit reached. Please sign in for unlimited calculations.",{action:{label:"Sign In",onClick:()=>window.location.href="/auth"}}),!1):!0,u=n.useMemo(()=>{if(!M.trim())return 0;const s=M.trim();if(s.includes("/")){const[p,h]=s.split("/").map(C=>parseFloat(C.trim()));return!isNaN(p)&&!isNaN(h)&&h!==0?Math.min(100,Math.max(0,p/h*100)):0}const i=parseFloat(s.replace("%",""));return isNaN(i)?0:Math.min(100,Math.max(0,i))},[M]),ye=["Round","Princess","Cushion","Emerald","Oval","Radiant","Asscher","Marquise","Heart","Pear"],ve=["D","E","F","G","H","I","J","K","L","M","N"],we=["IF","VVS1","VVS2","VS1","VS2","SI1","SI2","SI3","I1","I2","I3"],Ce=["Excellent"],Se=()=>{P("0.20"),$("Round"),L("D"),v("IF"),Q("Excellent"),x.info("Sample data loaded - click Calculate to test")},Pe=async()=>{if(!xe())return;if(!d||!k||!D||!F||!w){x.error("Please fill in all fields");return}const s=parseFloat(d);if(isNaN(s)||s<=0){x.error("Please enter a valid carat weight");return}me(!0);try{const i=k==="Round"?"Round":"Pear",{data:p,error:h}=await te.from("diamond_prices").select("*").eq("shape",i).eq("color_grade",D).eq("clarity_grade",F).eq("cut_grade","Excellent").lte("carat_range_min",s).gte("carat_range_max",s).maybeSingle();if(h)throw h;if(!p){x.error(`No pricing data found for ${i} diamonds with these specifications (${D}/${F}, ${s}ct). Please contact admin to add pricing data.`,{duration:5e3}),X(null);return}const C=Number(p.price_per_carat),a=C*s;X({pricePerCarat:C,totalPrice:a,currency:p.currency}),be(),x.success("Price calculated successfully!")}catch(i){console.error("Error calculating price:",i),x.error("Failed to calculate price")}finally{me(!1)}},ke=()=>{if(!xe())return;if(!o){x.error("Calculate a price first before adding to comparison");return}if(t.length>=4){x.error("Maximum 4 diamonds can be compared at once");return}const s=u>0?I==="discount"?o.totalPrice*(1-u/100):o.totalPrice*(1+u/100):o.totalPrice,i={id:Date.now().toString(),specs:{carat:d,shape:k,color:D,clarity:F,cut:w},result:o,adjustmentType:I,adjustmentPercentage:u,finalPrice:Math.round(s)};ee([...t,i]),x.success("Added to comparison")},De=s=>{ee(t.filter(i=>i.id!==s)),x.success("Removed from comparison")},Fe=()=>{ee([]),x.success("Comparison cleared")},Ie=()=>{if(t.length===0){x.error("No diamonds to export");return}try{const s=new Oe,i=s.internal.pageSize.width;s.setFontSize(20),s.setTextColor(40,40,40),s.text("Diamond Comparison Report",i/2,20,{align:"center"}),s.setFontSize(10),s.setTextColor(100,100,100),s.text(`Generated on ${new Date().toLocaleDateString()}`,i/2,28,{align:"center"});const p=["Specification",...t.map((a,U)=>`Option ${U+1}`)],h=[["Carat Weight",...t.map(a=>a.specs.carat)],["Shape",...t.map(a=>a.specs.shape)],["Color Grade",...t.map(a=>a.specs.color)],["Clarity Grade",...t.map(a=>a.specs.clarity)],["Cut Grade",...t.map(a=>a.specs.cut)],["",...Array(t.length).fill("")],["Price/Carat",...t.map(a=>`${a.result.currency} ${a.result.pricePerCarat.toLocaleString()}`)],["Base Price",...t.map(a=>`${a.result.currency} ${a.result.totalPrice.toLocaleString()}`)],["Adjustment",...t.map(a=>a.adjustmentPercentage>0?`${a.adjustmentPercentage.toFixed(1)}% ${a.adjustmentType}`:"None")],["Final Price",...t.map(a=>`${a.result.currency} ${a.finalPrice.toLocaleString()}`)]];if(He(s,{startY:35,head:[p],body:h,theme:"grid",headStyles:{fillColor:[66,66,66],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"center"},columnStyles:{0:{halign:"left",fontStyle:"bold"}},alternateRowStyles:{fillColor:[245,245,245]}}),t.length>1){const a=s.lastAutoTable.finalY+10;s.setFontSize(14),s.setTextColor(40,40,40),s.text("Quick Summary",14,a);const U=Math.min(...t.map(ae=>ae.finalPrice)),ue=Math.max(...t.map(ae=>ae.finalPrice)),Ae=ue-U,se=t[0].result.currency;s.setFontSize(10),s.setTextColor(60,60,60),s.text(`Lowest Price: ${se} ${U.toLocaleString()}`,14,a+8),s.text(`Highest Price: ${se} ${ue.toLocaleString()}`,14,a+14),s.text(`Price Difference: ${se} ${Ae.toLocaleString()}`,14,a+20)}const C=s.getNumberOfPages();s.setFontSize(8),s.setTextColor(150,150,150);for(let a=1;a<=C;a++)s.setPage(a),s.text(`Page ${a} of ${C}`,i/2,s.internal.pageSize.height-10,{align:"center"});s.save(`diamond-comparison-${new Date().getTime()}.pdf`),x.success("PDF exported successfully!")}catch(s){console.error("PDF export error:",s),x.error("Failed to export PDF")}},Te=()=>{P(""),$(""),L(""),v(""),Q(""),K(""),de("discount"),X(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background/95 to-background/90",children:[e.jsx(ss,{show:A,onClose:()=>N(!1)}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"mb-4",children:e.jsx(Xe,{})}),e.jsx(B,{children:e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-4",children:e.jsx(S,{className:"h-16 w-16 text-primary mx-auto"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-primary via-primary/80 to-primary bg-clip-text text-transparent",children:"Diamond Price Calculator"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Get instant estimates based on the 4Cs: Carat, Color, Clarity, and Cut"})]})}),!r&&e.jsx(B,{delay:.05,children:e.jsx("div",{className:"max-w-6xl mx-auto mb-6",children:e.jsx(es,{remainingCalculations:5-c,totalLimit:5})})}),e.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-3 gap-6",children:[e.jsx(B,{delay:.1,className:"lg:col-span-2",children:e.jsxs(T,{className:"shadow-xl border-2 border-primary/20 hover:border-primary/40 transition-all duration-300 bg-gradient-to-br from-card via-card to-primary/5",children:[e.jsx(z,{className:"border-b border-border/50 bg-gradient-to-r from-primary/5 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(he,{className:"h-6 w-6 text-primary"}),"Diamond Specifications"]}),e.jsx(V,{className:"mt-2",children:"Enter the 4Cs to calculate your diamond's value"})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(S,{className:"h-12 w-12 text-primary/20"}),!r&&e.jsxs(b,{variant:c>=5?"destructive":c>=3?"secondary":"outline",className:"text-xs",children:[c,"/5 today"]})]})]})}),e.jsxs(_,{className:"space-y-6 pt-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"carat",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Carat Weight"]}),e.jsx(re,{id:"carat",type:"number",step:"0.01",min:"0.01",placeholder:"e.g., 1.50",value:d,onChange:s=>P(s.target.value),className:"text-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"shape",className:"text-sm font-semibold",children:"Shape"}),e.jsxs(O,{value:k,onValueChange:$,children:[e.jsx(H,{id:"shape",children:e.jsx(q,{placeholder:"Select shape"})}),e.jsx(W,{children:ye.map(s=>e.jsx(J,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"color",className:"text-sm font-semibold",children:"Color Grade"}),e.jsxs(O,{value:D,onValueChange:L,children:[e.jsx(H,{id:"color",children:e.jsx(q,{placeholder:"Select color"})}),e.jsx(W,{children:ve.map(s=>e.jsx(J,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"clarity",className:"text-sm font-semibold",children:"Clarity Grade"}),e.jsxs(O,{value:F,onValueChange:v,children:[e.jsx(H,{id:"clarity",children:e.jsx(q,{placeholder:"Select clarity"})}),e.jsx(W,{children:we.map(s=>e.jsx(J,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"cut",className:"text-sm font-semibold",children:"Cut Grade"}),e.jsxs(O,{value:w,onValueChange:Q,children:[e.jsx(H,{id:"cut",children:e.jsx(q,{placeholder:"Select cut"})}),e.jsx(W,{children:Ce.map(s=>e.jsx(J,{value:s,children:s},s))})]})]})]}),e.jsx("div",{className:"border-t border-border/50 pt-6",children:e.jsxs(Ue,{value:I,onValueChange:s=>de(s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(E,{className:"text-sm font-semibold",children:"Price Adjustment"}),e.jsxs(Ge,{className:"grid w-[240px] grid-cols-2",children:[e.jsxs(ge,{value:"discount",className:"flex items-center gap-1",children:[e.jsx(ie,{className:"h-3 w-3"}),"Discount"]}),e.jsxs(ge,{value:"markup",className:"flex items-center gap-1",children:[e.jsx(Y,{className:"h-3 w-3"}),"Markup"]})]})]}),e.jsx(je,{value:"discount",className:"mt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{placeholder:"Enter discount: 50, 50%, 1/2, 3/4",value:M,onChange:s=>K(s.target.value),className:"text-lg"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"secondary",className:"text-xs",children:u>0?`${u.toFixed(1)}% discount`:"No discount"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepts percentages or fractions"})]})]})}),e.jsx(je,{value:"markup",className:"mt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{placeholder:"Enter markup: 20, 20%, 1/5, 1/4",value:M,onChange:s=>K(s.target.value),className:"text-lg"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"secondary",className:"text-xs",children:u>0?`${u.toFixed(1)}% markup`:"No markup"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepts percentages or fractions"})]})]})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-border/50",children:[e.jsxs(f,{onClick:Pe,disabled:R,size:"lg",className:"flex-1 text-lg font-semibold shadow-lg",children:[e.jsx(he,{className:"h-5 w-5 mr-2"}),R?"Calculating...":"Calculate Price"]}),e.jsxs(f,{onClick:Se,variant:"secondary",disabled:R,size:"lg",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Test"]}),e.jsx(f,{onClick:Te,variant:"outline",disabled:R,size:"lg",children:e.jsx(ze,{className:"h-4 w-4"})})]})]})]})}),e.jsx(B,{delay:.2,children:e.jsxs(T,{className:"shadow-xl border-2 border-primary/20 bg-gradient-to-br from-card via-primary/5 to-card sticky top-24",children:[e.jsxs(z,{className:"border-b border-border/50 bg-gradient-to-r from-primary/10 to-transparent",children:[e.jsxs(G,{className:"flex items-center gap-2 text-xl",children:[e.jsx(y,{className:"h-6 w-6 text-primary"}),"Estimated Value"]}),e.jsx(V,{children:"Based on current market rates"})]}),e.jsx(_,{className:"pt-6",children:o?e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent rounded-xl p-6 space-y-5 border border-primary/20",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-medium",children:"Price per Carat"}),e.jsxs("p",{className:"text-3xl font-bold flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg text-muted-foreground",children:o.currency}),e.jsx(le,{end:o.pricePerCarat})]})]}),e.jsxs("div",{className:"border-t border-primary/20 pt-5",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-medium mb-2",children:"Base Total Price"}),e.jsxs("p",{className:"text-5xl font-bold bg-gradient-to-r from-primary via-primary/80 to-primary/60 bg-clip-text text-transparent flex items-baseline gap-2",children:[e.jsx("span",{className:"text-xl opacity-80",children:o.currency}),e.jsx(le,{end:o.totalPrice})]})]}),u>0&&e.jsxs("div",{className:"border-t border-primary/20 pt-5 bg-gradient-to-r from-green-500/10 to-blue-500/10 -m-6 mt-5 p-6 rounded-b-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I==="discount"?e.jsx(ie,{className:"h-5 w-5 text-green-600"}):e.jsx(Y,{className:"h-5 w-5 text-blue-600"}),e.jsxs("p",{className:"text-sm font-semibold uppercase tracking-wide",children:["After ",u.toFixed(1),"% ",I]})]}),e.jsxs("p",{className:`text-4xl font-bold ${I==="discount"?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400"} flex items-baseline gap-2`,children:[e.jsx("span",{className:"text-lg",children:o.currency}),e.jsx(le,{end:Math.round(I==="discount"?o.totalPrice*(1-u/100):o.totalPrice*(1+u/100))})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2 flex items-center gap-2",children:I==="discount"?e.jsx(e.Fragment,{children:e.jsxs(b,{variant:"secondary",className:"bg-green-500/20 text-green-700 dark:text-green-300",children:["Save ",o.currency," ",Math.round(o.totalPrice*(u/100)).toLocaleString()]})}):e.jsx(e.Fragment,{children:e.jsxs(b,{variant:"secondary",className:"bg-blue-500/20 text-blue-700 dark:text-blue-300",children:["+",o.currency," ",Math.round(o.totalPrice*(u/100)).toLocaleString()]})})})]})]}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 border border-border/50",children:[e.jsxs("p",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-primary"}),"Diamond Summary"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Weight"}),e.jsxs("p",{className:"font-medium",children:[d," Carat"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Shape"}),e.jsx("p",{className:"font-medium",children:k})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Color"}),e.jsx("p",{className:"font-medium",children:D})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Clarity"}),e.jsx("p",{className:"font-medium",children:F})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Cut"}),e.jsx("p",{className:"font-medium",children:w})]})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center leading-relaxed bg-muted/20 rounded p-3",children:[e.jsx("strong",{children:"Disclaimer:"})," This is an estimate based on available market data. Actual prices may vary based on market conditions, certifications, and specific diamond characteristics."]}),e.jsxs(f,{onClick:ke,variant:"outline",size:"lg",className:"w-full mt-4",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Add to Comparison (",t.length,"/4)"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx(l.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:e.jsx(S,{className:"h-28 w-28 text-primary/20 mb-6"})}),e.jsx("p",{className:"text-muted-foreground max-w-[200px] text-sm",children:"Enter your diamond specifications to see the estimated value"})]})})]})})]}),e.jsx(B,{delay:.3,children:e.jsx("div",{className:"mt-12 max-w-6xl mx-auto",children:e.jsxs(T,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30 shadow-xl",children:[e.jsxs(z,{className:"text-center border-b border-primary/20 pb-6",children:[e.jsxs(G,{className:"text-2xl flex items-center justify-center gap-2",children:[e.jsx(y,{className:"h-6 w-6 text-primary"}),"Understanding the 4Cs of Diamonds"]}),e.jsx(V,{className:"text-base mt-2",children:"Learn what determines a diamond's value and quality"})]}),e.jsxs(_,{className:"grid md:grid-cols-2 gap-8 pt-8",children:[e.jsxs(l.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Carat Weight"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"The weight of the diamond, where 1 carat equals 200 milligrams. Larger diamonds are rarer and typically more valuable per carat."})]}),e.jsxs(l.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(y,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Color"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Graded from D (colorless) to Z (light color). D-F grades are considered colorless and most valuable, showing no visible color tint."})]}),e.jsxs(l.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Clarity"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Measures internal and external imperfections (inclusions and blemishes). FL (Flawless) is the highest grade, with no inclusions visible under 10x magnification."})]}),e.jsxs(l.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(y,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Cut"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Evaluates how well the diamond reflects light and creates brilliance. An Excellent cut grade maximizes the diamond's sparkle and fire."})]})]})]})})}),e.jsx(oe,{children:t.length>0&&e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-12 max-w-6xl mx-auto",children:e.jsxs(T,{className:"shadow-xl border-2 border-primary/30 bg-gradient-to-br from-card via-primary/5 to-card",children:[e.jsx(z,{className:"border-b border-border/50 bg-gradient-to-r from-primary/10 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(Be,{className:"h-6 w-6 text-primary"}),"Diamond Comparison"]}),e.jsx(V,{className:"mt-2",children:"Compare up to 4 diamond specifications side-by-side"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(f,{onClick:Ie,variant:"default",size:"sm",className:"gap-2",children:[e.jsx(Re,{className:"h-4 w-4"}),"Export PDF"]}),e.jsx(f,{onClick:Fe,variant:"outline",size:"sm",children:"Clear All"})]})]})}),e.jsxs(_,{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((s,i)=>e.jsx(l.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:i*.1},className:"relative",children:e.jsxs(T,{className:"border-2 border-primary/20 hover:border-primary/40 transition-all bg-gradient-to-br from-card to-primary/5",children:[e.jsx(f,{onClick:()=>De(s.id),variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90 z-10",children:e.jsx(ce,{className:"h-3 w-3"})}),e.jsx(z,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",className:"text-xs",children:["Option ",i+1]}),e.jsx(S,{className:"h-4 w-4 text-primary"})]})}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Carat:"}),e.jsx("span",{className:"font-semibold",children:s.specs.carat})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shape:"}),e.jsx("span",{className:"font-semibold",children:s.specs.shape})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Color:"}),e.jsx("span",{className:"font-semibold",children:s.specs.color})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Clarity:"}),e.jsx("span",{className:"font-semibold",children:s.specs.clarity})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Cut:"}),e.jsx("span",{className:"font-semibold",children:s.specs.cut})]})]}),e.jsx(Ve,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Price/Carat"}),e.jsxs("p",{className:"text-lg font-bold",children:[s.result.currency," ",s.result.pricePerCarat.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Base Price"}),e.jsxs("p",{className:"text-xl font-bold",children:[s.result.currency," ",s.result.totalPrice.toLocaleString()]})]}),s.adjustmentPercentage>0&&e.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 -mx-3",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.adjustmentType==="discount"?e.jsx(ie,{className:"h-3 w-3 text-green-600"}):e.jsx(Y,{className:"h-3 w-3 text-blue-600"}),e.jsxs("p",{className:"text-xs font-medium",children:[s.adjustmentPercentage.toFixed(1),"% ",s.adjustmentType]})]}),e.jsxs("p",{className:`text-2xl font-bold ${s.adjustmentType==="discount"?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400"}`,children:[s.result.currency," ",s.finalPrice.toLocaleString()]})]})]})]})]})},s.id))}),t.length>1&&e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-primary/10 to-transparent rounded-lg border border-primary/20",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-primary"}),"Quick Comparison"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Lowest Price:"}),e.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:[t[0].result.currency," ",Math.min(...t.map(s=>s.finalPrice)).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Highest Price:"}),e.jsxs("p",{className:"font-bold text-red-600 dark:text-red-400",children:[t[0].result.currency," ",Math.max(...t.map(s=>s.finalPrice)).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Price Difference:"}),e.jsxs("p",{className:"font-bold text-primary",children:[t[0].result.currency," ",(Math.max(...t.map(s=>s.finalPrice))-Math.min(...t.map(s=>s.finalPrice))).toLocaleString()]})]})]})]})]})]})})})]})]})};export{Ds as default};
//# sourceMappingURL=DiamondCalculator-CS87c987.js.map
