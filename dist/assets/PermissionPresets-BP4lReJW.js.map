{"version":3,"file":"PermissionPresets-BP4lReJW.js","sources":["../../src/pages/PermissionPresets.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { AdminGuard } from \"@/components/AdminGuard\";\r\nimport { LoadingSkeleton } from \"@/components/LoadingSkeleton\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { toast } from \"sonner\";\r\nimport { ArrowLeft, Plus, Edit, Trash2, Bookmark } from \"lucide-react\";\r\n\r\ninterface PermissionTemplate {\r\n  id: string;\r\n  name: string;\r\n  description: string | null;\r\n  template_config: {\r\n    can_add_products: boolean;\r\n    can_view_catalog: boolean;\r\n    can_edit_products: boolean;\r\n    can_delete_products: boolean;\r\n    can_share_catalog: boolean;\r\n    can_view_share_links: boolean;\r\n    can_manage_share_links: boolean;\r\n    can_view_interests: boolean;\r\n    can_add_vendor_details: boolean;\r\n    can_edit_profile: boolean;\r\n    can_view_custom_orders: boolean;\r\n    can_manage_custom_orders: boolean;\r\n    can_import_data: boolean;\r\n    can_manage_team: boolean;\r\n    can_view_sessions: boolean;\r\n    can_manage_sessions: boolean;\r\n    max_products: number | null;\r\n    max_share_links: number | null;\r\n    max_team_members: number | null;\r\n    max_product_images: number | null;\r\n    max_active_sessions: number;\r\n  };\r\n  created_at: string;\r\n}\r\n\r\nexport default function PermissionPresets() {\r\n  const navigate = useNavigate();\r\n  const [templates, setTemplates] = useState<PermissionTemplate[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [editingTemplate, setEditingTemplate] = useState<PermissionTemplate | null>(null);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    can_add_products: true,\r\n    can_view_catalog: true,\r\n    can_edit_products: true,\r\n    can_delete_products: true,\r\n    can_share_catalog: true,\r\n    can_view_share_links: true,\r\n    can_manage_share_links: true,\r\n    can_view_interests: true,\r\n    can_add_vendor_details: true,\r\n    can_edit_profile: true,\r\n    can_view_custom_orders: true,\r\n    can_manage_custom_orders: false,\r\n    can_import_data: true,\r\n    can_manage_team: false,\r\n    can_view_sessions: true,\r\n    can_manage_sessions: true,\r\n    max_products: 100,\r\n    max_share_links: 1,\r\n    max_team_members: 0,\r\n    max_product_images: 3,\r\n    max_active_sessions: 1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchTemplates();\r\n  }, []);\r\n\r\n  const fetchTemplates = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"permission_templates\")\r\n        .select(\"*\")\r\n        .order(\"created_at\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n      setTemplates((data as any) || []);\r\n    } catch (error: any) {\r\n      toast.error(\"Failed to load templates\");\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenDialog = (template?: PermissionTemplate) => {\r\n    if (template) {\r\n      setEditingTemplate(template);\r\n      setFormData({\r\n        name: template.name,\r\n        description: template.description || \"\",\r\n        ...template.template_config,\r\n      });\r\n    } else {\r\n      setEditingTemplate(null);\r\n      setFormData({\r\n        name: \"\",\r\n        description: \"\",\r\n        can_add_products: true,\r\n        can_view_catalog: true,\r\n        can_edit_products: true,\r\n        can_delete_products: true,\r\n        can_share_catalog: true,\r\n        can_view_share_links: true,\r\n        can_manage_share_links: true,\r\n        can_view_interests: true,\r\n        can_add_vendor_details: true,\r\n        can_edit_profile: true,\r\n        can_view_custom_orders: true,\r\n        can_manage_custom_orders: false,\r\n        can_import_data: true,\r\n        can_manage_team: false,\r\n        can_view_sessions: true,\r\n        can_manage_sessions: true,\r\n        max_products: 100,\r\n        max_share_links: 1,\r\n        max_team_members: 0,\r\n        max_product_images: 3,\r\n        max_active_sessions: 1,\r\n      });\r\n    }\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleSaveTemplate = async () => {\r\n    if (!formData.name.trim()) {\r\n      toast.error(\"Template name is required\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { name, description, ...permissions } = formData;\r\n      const templateData = {\r\n        name: name.trim(),\r\n        description: description.trim() || null,\r\n        template_config: permissions,\r\n      };\r\n\r\n      if (editingTemplate) {\r\n        const { error } = await supabase\r\n          .from(\"permission_templates\")\r\n          .update(templateData)\r\n          .eq(\"id\", editingTemplate.id);\r\n\r\n        if (error) throw error;\r\n        toast.success(\"Template updated successfully\");\r\n      } else {\r\n        const { error } = await supabase\r\n          .from(\"permission_templates\")\r\n          .insert([templateData]);\r\n\r\n        if (error) throw error;\r\n        toast.success(\"Template created successfully\");\r\n      }\r\n\r\n      setDialogOpen(false);\r\n      fetchTemplates();\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Failed to save template\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteTemplate = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this template?\")) return;\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from(\"permission_templates\")\r\n        .delete()\r\n        .eq(\"id\", id);\r\n\r\n      if (error) throw error;\r\n      toast.success(\"Template deleted successfully\");\r\n      fetchTemplates();\r\n    } catch (error: any) {\r\n      toast.error(\"Failed to delete template\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSkeleton />;\r\n  }\r\n\r\n  return (\r\n    <AdminGuard>\r\n      <div className=\"min-h-screen bg-background\">\r\n        <header className=\"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-10\">\r\n          <div className=\"container mx-auto px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <Button variant=\"ghost\" size=\"icon\" onClick={() => navigate(\"/super-admin\")}>\r\n                  <ArrowLeft className=\"h-5 w-5\" />\r\n                </Button>\r\n                <div>\r\n                  <h1 className=\"text-2xl font-bold\">Permission Presets</h1>\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">\r\n                    Create and manage reusable permission templates\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <Button onClick={() => handleOpenDialog()}>\r\n                <Plus className=\"mr-2 h-4 w-4\" />\r\n                Create Template\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        <main className=\"container mx-auto px-6 py-8\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Permission Templates</CardTitle>\r\n              <CardDescription>\r\n                Saved templates can be applied to vendors in Plan Management\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {templates.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <Bookmark className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\r\n                  <p className=\"text-muted-foreground\">No permission templates yet</p>\r\n                  <Button variant=\"outline\" className=\"mt-4\" onClick={() => handleOpenDialog()}>\r\n                    <Plus className=\"mr-2 h-4 w-4\" />\r\n                    Create Your First Template\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow>\r\n                      <TableHead>Template Name</TableHead>\r\n                      <TableHead>Description</TableHead>\r\n                      <TableHead>Limits</TableHead>\r\n                      <TableHead className=\"text-right\">Actions</TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {templates.map((template) => (\r\n                      <TableRow key={template.id}>\r\n                        <TableCell className=\"font-medium\">{template.name}</TableCell>\r\n                        <TableCell className=\"text-muted-foreground\">\r\n                          {template.description || \"No description\"}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <div className=\"text-sm space-y-1\">\r\n                            <div>Products: {template.template_config.max_products || \"Unlimited\"}</div>\r\n                            <div>Share Links: {template.template_config.max_share_links || \"Unlimited\"}</div>\r\n                            <div>Team: {template.template_config.max_team_members || \"0\"}</div>\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          <div className=\"flex justify-end gap-2\">\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              onClick={() => handleOpenDialog(template)}\r\n                            >\r\n                              <Edit className=\"h-4 w-4\" />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              onClick={() => handleDeleteTemplate(template.id)}\r\n                            >\r\n                              <Trash2 className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </div>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </main>\r\n\r\n        <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle>\r\n                {editingTemplate ? \"Edit Permission Template\" : \"Create Permission Template\"}\r\n              </DialogTitle>\r\n              <DialogDescription>\r\n                Define a reusable set of permissions and limits\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n\r\n            <div className=\"space-y-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\">Template Name *</Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                  placeholder=\"e.g., Premium Vendor\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\">Description</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                  placeholder=\"Describe this template...\"\r\n                  rows={3}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"font-semibold\">Resource Limits</h3>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"max_products\">Max Products</Label>\r\n                    <Input\r\n                      id=\"max_products\"\r\n                      type=\"number\"\r\n                      value={formData.max_products || \"\"}\r\n                      onChange={(e) =>\r\n                        setFormData({ ...formData, max_products: parseInt(e.target.value) || null })\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"max_share_links\">Max Share Links</Label>\r\n                    <Input\r\n                      id=\"max_share_links\"\r\n                      type=\"number\"\r\n                      value={formData.max_share_links || \"\"}\r\n                      onChange={(e) =>\r\n                        setFormData({ ...formData, max_share_links: parseInt(e.target.value) || null })\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"max_team_members\">Max Team Members</Label>\r\n                    <Input\r\n                      id=\"max_team_members\"\r\n                      type=\"number\"\r\n                      value={formData.max_team_members || \"\"}\r\n                      onChange={(e) =>\r\n                        setFormData({ ...formData, max_team_members: parseInt(e.target.value) || null })\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"max_product_images\">Max Product Images</Label>\r\n                    <Input\r\n                      id=\"max_product_images\"\r\n                      type=\"number\"\r\n                      value={formData.max_product_images || \"\"}\r\n                      onChange={(e) =>\r\n                        setFormData({ ...formData, max_product_images: parseInt(e.target.value) || null })\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"max_active_sessions\">Max Active Sessions</Label>\r\n                    <Input\r\n                      id=\"max_active_sessions\"\r\n                      type=\"number\"\r\n                      value={formData.max_active_sessions}\r\n                      onChange={(e) =>\r\n                        setFormData({ ...formData, max_active_sessions: parseInt(e.target.value) || 1 })\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"font-semibold\">Permissions</h3>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  {Object.entries({\r\n                    can_add_products: \"Add Products\",\r\n                    can_view_catalog: \"View Catalog\",\r\n                    can_edit_products: \"Edit Products\",\r\n                    can_delete_products: \"Delete Products\",\r\n                    can_share_catalog: \"Share Catalog\",\r\n                    can_view_share_links: \"View Share Links\",\r\n                    can_manage_share_links: \"Manage Share Links\",\r\n                    can_view_interests: \"View Interests\",\r\n                    can_add_vendor_details: \"Add Vendor Details\",\r\n                    can_edit_profile: \"Edit Profile\",\r\n                    can_view_custom_orders: \"View Custom Orders\",\r\n                    can_manage_custom_orders: \"Manage Custom Orders\",\r\n                    can_import_data: \"Import Data\",\r\n                    can_manage_team: \"Manage Team\",\r\n                    can_view_sessions: \"View Sessions\",\r\n                    can_manage_sessions: \"Manage Sessions\",\r\n                  }).map(([key, label]) => (\r\n                    <div key={key} className=\"flex items-center justify-between\">\r\n                      <Label htmlFor={key}>{label}</Label>\r\n                      <Switch\r\n                        id={key}\r\n                        checked={formData[key as keyof typeof formData] as boolean}\r\n                        onCheckedChange={(checked) =>\r\n                          setFormData({ ...formData, [key]: checked })\r\n                        }\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <DialogFooter>\r\n              <Button variant=\"outline\" onClick={() => setDialogOpen(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={handleSaveTemplate}>\r\n                {editingTemplate ? \"Update Template\" : \"Create Template\"}\r\n              </Button>\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    </AdminGuard>\r\n  );\r\n}\r\n"],"names":["PermissionPresets","navigate","useNavigate","templates","setTemplates","useState","loading","setLoading","dialogOpen","setDialogOpen","editingTemplate","setEditingTemplate","formData","setFormData","useEffect","fetchTemplates","data","error","supabase","toast","handleOpenDialog","template","handleSaveTemplate","name","description","permissions","templateData","handleDeleteTemplate","id","LoadingSkeleton","jsx","AdminGuard","jsxs","Button","ArrowLeft","Plus","Card","CardHeader","CardTitle","CardDescription","CardContent","Bookmark","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","Edit","Trash2","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","Input","e","Textarea","key","label","Switch","checked","DialogFooter"],"mappings":"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"}