{"version":3,"file":"VideoRequests-Jqq2RrrE.js","sources":["../../src/pages/VideoRequests.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { ArrowLeft, Video, Clock, CheckCircle, XCircle, MessageSquare, Mail, Phone, Calendar } from \"lucide-react\";\r\nimport { format } from \"date-fns\";\r\n\r\ninterface VideoRequest {\r\n  id: string;\r\n  product_id: string | null;\r\n  share_link_id: string;\r\n  customer_name: string;\r\n  customer_email: string;\r\n  customer_phone: string | null;\r\n  requested_products: string;\r\n  status: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  products?: {\r\n    name: string;\r\n    sku: string;\r\n  };\r\n}\r\n\r\nconst VideoRequests = () => {\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n  const [requests, setRequests] = useState<VideoRequest[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedRequest, setSelectedRequest] = useState<VideoRequest | null>(null);\r\n  const [statusFilter, setStatusFilter] = useState(\"all\");\r\n\r\n  useEffect(() => {\r\n    fetchVideoRequests();\r\n  }, []);\r\n\r\n  const fetchVideoRequests = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) {\r\n        navigate(\"/auth\");\r\n        return;\r\n      }\r\n\r\n      // Get user's share links\r\n      const { data: shareLinks } = await supabase\r\n        .from(\"share_links\")\r\n        .select(\"id\")\r\n        .eq(\"user_id\", user.id);\r\n\r\n      if (!shareLinks || shareLinks.length === 0) {\r\n        setRequests([]);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const shareLinkIds = shareLinks.map((link) => link.id);\r\n\r\n      // Fetch video requests for these share links\r\n      const { data, error } = await supabase\r\n        .from(\"video_requests\")\r\n        .select(`\r\n          *,\r\n          products:product_id (\r\n            name,\r\n            sku\r\n          )\r\n        `)\r\n        .in(\"share_link_id\", shareLinkIds)\r\n        .order(\"created_at\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n      setRequests(data || []);\r\n    } catch (error: any) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: error.message || \"Failed to fetch video requests\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateRequestStatus = async (requestId: string, newStatus: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from(\"video_requests\")\r\n        .update({ status: newStatus })\r\n        .eq(\"id\", requestId);\r\n\r\n      if (error) throw error;\r\n\r\n      toast({\r\n        title: \"Status Updated\",\r\n        description: `Request status changed to ${newStatus}`,\r\n      });\r\n\r\n      // Refresh the list\r\n      fetchVideoRequests();\r\n      setSelectedRequest(null);\r\n    } catch (error: any) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: error.message || \"Failed to update status\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case \"pending\":\r\n        return <Clock className=\"h-4 w-4\" />;\r\n      case \"fulfilled\":\r\n        return <CheckCircle className=\"h-4 w-4\" />;\r\n      case \"declined\":\r\n        return <XCircle className=\"h-4 w-4\" />;\r\n      default:\r\n        return <Clock className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusVariant = (status: string): \"default\" | \"secondary\" | \"destructive\" | \"outline\" => {\r\n    switch (status) {\r\n      case \"pending\":\r\n        return \"secondary\";\r\n      case \"fulfilled\":\r\n        return \"default\";\r\n      case \"declined\":\r\n        return \"destructive\";\r\n      default:\r\n        return \"outline\";\r\n    }\r\n  };\r\n\r\n  const filteredRequests = requests.filter((req) => \r\n    statusFilter === \"all\" || req.status === statusFilter\r\n  );\r\n\r\n  const stats = {\r\n    total: requests.length,\r\n    pending: requests.filter((r) => r.status === \"pending\").length,\r\n    fulfilled: requests.filter((r) => r.status === \"fulfilled\").length,\r\n    declined: requests.filter((r) => r.status === \"declined\").length,\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Video className=\"h-12 w-12 text-primary mx-auto mb-4 animate-pulse\" />\r\n          <p className=\"text-xl text-foreground\">Loading video requests...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background p-4 md:p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => navigate(\"/\")}\r\n            >\r\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\r\n              Back to Catalog\r\n            </Button>\r\n            <h1 className=\"text-3xl font-bold text-foreground\">Video Requests</h1>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Requests</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-2xl font-bold text-foreground\">{stats.total}</p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Pending</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-2xl font-bold text-yellow-600\">{stats.pending}</p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Fulfilled</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-2xl font-bold text-green-600\">{stats.fulfilled}</p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Declined</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-2xl font-bold text-red-600\">{stats.declined}</p>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Filter */}\r\n        <div className=\"mb-6\">\r\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n            <SelectTrigger className=\"w-[200px]\">\r\n              <SelectValue placeholder=\"Filter by status\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"all\">All Requests</SelectItem>\r\n              <SelectItem value=\"pending\">Pending</SelectItem>\r\n              <SelectItem value=\"fulfilled\">Fulfilled</SelectItem>\r\n              <SelectItem value=\"declined\">Declined</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        {/* Requests List */}\r\n        {filteredRequests.length === 0 ? (\r\n          <Card>\r\n            <CardContent className=\"py-12 text-center\">\r\n              <Video className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\r\n              <p className=\"text-lg text-muted-foreground\">No video requests found</p>\r\n              <p className=\"text-sm text-muted-foreground mt-2\">\r\n                {statusFilter !== \"all\" \r\n                  ? `No ${statusFilter} requests at the moment`\r\n                  : \"Video requests will appear here when customers request them\"}\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {filteredRequests.map((request) => (\r\n              <Card key={request.id} className=\"hover:shadow-lg transition-shadow\">\r\n                <CardHeader>\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"space-y-1 flex-1\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <CardTitle className=\"text-lg\">{request.customer_name}</CardTitle>\r\n                        <Badge variant={getStatusVariant(request.status)} className=\"gap-1\">\r\n                          {getStatusIcon(request.status)}\r\n                          {request.status}\r\n                        </Badge>\r\n                      </div>\r\n                      <CardDescription className=\"flex items-center gap-4 text-xs\">\r\n                        <span className=\"flex items-center gap-1\">\r\n                          <Calendar className=\"h-3 w-3\" />\r\n                          {format(new Date(request.created_at), \"MMM d, yyyy 'at' h:mm a\")}\r\n                        </span>\r\n                        {request.products && (\r\n                          <span className=\"font-medium text-primary\">\r\n                            Product: {request.products.name} ({request.products.sku})\r\n                          </span>\r\n                        )}\r\n                      </CardDescription>\r\n                    </div>\r\n                    <Dialog>\r\n                      <DialogTrigger asChild>\r\n                        <Button variant=\"outline\" size=\"sm\" onClick={() => setSelectedRequest(request)}>\r\n                          <MessageSquare className=\"h-4 w-4 mr-2\" />\r\n                          View Details\r\n                        </Button>\r\n                      </DialogTrigger>\r\n                      <DialogContent className=\"max-w-2xl\">\r\n                        <DialogHeader>\r\n                          <DialogTitle>Video Request Details</DialogTitle>\r\n                          <DialogDescription>\r\n                            Manage this video request and update its status\r\n                          </DialogDescription>\r\n                        </DialogHeader>\r\n                        {selectedRequest && (\r\n                          <div className=\"space-y-6\">\r\n                            {/* Customer Info */}\r\n                            <div className=\"space-y-3\">\r\n                              <h3 className=\"font-semibold text-sm text-muted-foreground\">Customer Information</h3>\r\n                              <div className=\"grid gap-2\">\r\n                                <div className=\"flex items-center gap-2 text-sm\">\r\n                                  <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                                  <a href={`mailto:${selectedRequest.customer_email}`} className=\"text-primary hover:underline\">\r\n                                    {selectedRequest.customer_email}\r\n                                  </a>\r\n                                </div>\r\n                                {selectedRequest.customer_phone && (\r\n                                  <div className=\"flex items-center gap-2 text-sm\">\r\n                                    <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                                    <a href={`tel:${selectedRequest.customer_phone}`} className=\"text-primary hover:underline\">\r\n                                      {selectedRequest.customer_phone}\r\n                                    </a>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Requested Products */}\r\n                            <div className=\"space-y-3\">\r\n                              <h3 className=\"font-semibold text-sm text-muted-foreground\">What They Want to See</h3>\r\n                              <div className=\"bg-muted p-4 rounded-lg\">\r\n                                <p className=\"text-sm whitespace-pre-wrap\">{selectedRequest.requested_products}</p>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Status Update */}\r\n                            <div className=\"space-y-3\">\r\n                              <h3 className=\"font-semibold text-sm text-muted-foreground\">Update Status</h3>\r\n                              <div className=\"flex gap-2\">\r\n                                <Button\r\n                                  variant={selectedRequest.status === \"pending\" ? \"default\" : \"outline\"}\r\n                                  size=\"sm\"\r\n                                  onClick={() => updateRequestStatus(selectedRequest.id, \"pending\")}\r\n                                  className=\"flex-1\"\r\n                                >\r\n                                  <Clock className=\"h-4 w-4 mr-2\" />\r\n                                  Pending\r\n                                </Button>\r\n                                <Button\r\n                                  variant={selectedRequest.status === \"fulfilled\" ? \"default\" : \"outline\"}\r\n                                  size=\"sm\"\r\n                                  onClick={() => updateRequestStatus(selectedRequest.id, \"fulfilled\")}\r\n                                  className=\"flex-1\"\r\n                                >\r\n                                  <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n                                  Fulfilled\r\n                                </Button>\r\n                                <Button\r\n                                  variant={selectedRequest.status === \"declined\" ? \"destructive\" : \"outline\"}\r\n                                  size=\"sm\"\r\n                                  onClick={() => updateRequestStatus(selectedRequest.id, \"declined\")}\r\n                                  className=\"flex-1\"\r\n                                >\r\n                                  <XCircle className=\"h-4 w-4 mr-2\" />\r\n                                  Declined\r\n                                </Button>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Quick Actions */}\r\n                            <div className=\"pt-4 border-t\">\r\n                              <p className=\"text-sm text-muted-foreground mb-3\">Quick Actions</p>\r\n                              <div className=\"flex gap-2\">\r\n                                <Button\r\n                                  variant=\"outline\"\r\n                                  size=\"sm\"\r\n                                  onClick={() => window.open(`mailto:${selectedRequest.customer_email}`, '_blank')}\r\n                                >\r\n                                  <Mail className=\"h-4 w-4 mr-2\" />\r\n                                  Email Customer\r\n                                </Button>\r\n                                {selectedRequest.customer_phone && (\r\n                                  <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => window.open(`https://wa.me/${selectedRequest.customer_phone.replace(/\\D/g, '')}`, '_blank')}\r\n                                  >\r\n                                    <Phone className=\"h-4 w-4 mr-2\" />\r\n                                    WhatsApp\r\n                                  </Button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </DialogContent>\r\n                    </Dialog>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"flex items-center gap-2 text-sm text-muted-foreground mb-2\">\r\n                    <Mail className=\"h-3 w-3\" />\r\n                    {request.customer_email}\r\n                    {request.customer_phone && (\r\n                      <>\r\n                        <span className=\"mx-2\">â€¢</span>\r\n                        <Phone className=\"h-3 w-3\" />\r\n                        {request.customer_phone}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-sm text-foreground line-clamp-2\">{request.requested_products}</p>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoRequests;\r\n"],"names":["VideoRequests","navigate","useNavigate","toast","useToast","requests","setRequests","useState","loading","setLoading","selectedRequest","setSelectedRequest","statusFilter","setStatusFilter","useEffect","fetchVideoRequests","user","supabase","shareLinks","shareLinkIds","link","data","error","updateRequestStatus","requestId","newStatus","getStatusIcon","status","jsx","Clock","CheckCircle","XCircle","getStatusVariant","filteredRequests","req","stats","r","jsxs","Video","Button","ArrowLeft","Card","CardHeader","CardTitle","CardContent","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","request","Badge","CardDescription","Calendar","format","Dialog","DialogTrigger","MessageSquare","DialogContent","DialogHeader","DialogTitle","DialogDescription","Mail","Phone","Fragment"],"mappings":"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"}