import{j as e}from"./query-vendor-BLxHmmGk.js";import{r as l}from"./react-vendor-BeR0k5Z3.js";import{F as y,A as v,z as h,B as p}from"./index-DGlTgSKx.js";import{u as N}from"./useKeyboardHeight-DHIJz8gT.js";import{X as W,a8 as i}from"./ui-vendor-CN4tOqpp.js";const B=({whatsappNumber:s,message:u,businessName:t}={})=>{const[n,c]=l.useState(!1),[x,g]=l.useState(s||"1234567890"),{keyboardHeight:d,isKeyboardVisible:m}=N();l.useEffect(()=>{s||b()},[s]);const b=async()=>{const{data:a,error:o}=await y.from("settings").select("value").eq("key","whatsapp_number").maybeSingle();if(!o&&a){const r=String(a.value).replace(/"/g,"");g(r)}},f=()=>{const a=t?`Hi! I'm interested in your jewelry collection from ${t}.`:"Hi! I'm interested in learning more about your jewelry catalog platform.",o=encodeURIComponent(u||a),r=`https://wa.me/${x}?text=${o}`;window.open(r,"_blank","noopener,noreferrer")},j=m?`${d+80}px`:"6rem",w=m?`${d+16}px`:"1rem";return e.jsxs(e.Fragment,{children:[e.jsx(v,{children:n&&e.jsx(h.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0,bottom:j},exit:{opacity:0,scale:.8,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed right-4 z-50 md:right-6",children:e.jsxs("div",{className:"relative rounded-lg border-2 border-emerald-500/20 bg-background p-4 shadow-2xl",children:[e.jsx("button",{onClick:()=>c(!1),className:"absolute -right-2 -top-2 rounded-full bg-background p-1 shadow-lg transition-colors hover:bg-muted","aria-label":"Close chat",children:e.jsx(W,{className:"h-4 w-4"})}),e.jsxs("div",{className:"w-64 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500",children:e.jsx(i,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Chat with us"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"We typically reply instantly"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t?`Have questions about ${t}'s jewelry collection? We're here to help!`:"Have questions about our jewelry catalog platform? We're here to help!"}),e.jsxs(p,{onClick:f,className:"w-full gap-2 bg-emerald-500 hover:bg-emerald-600",children:[e.jsx(i,{className:"h-4 w-4"}),"Start Chat on WhatsApp"]})]})]})})}),e.jsx(h.div,{initial:{scale:0},animate:{scale:1,bottom:w},transition:{duration:.3,ease:"easeOut"},className:"fixed right-4 z-50 md:right-6 group",children:e.jsx(p,{onClick:()=>c(!n),size:"icon",className:"h-14 w-14 rounded-full bg-emerald-500/60 shadow-lg transition-all hover:bg-emerald-600 hover:scale-110 opacity-60 hover:opacity-100","aria-label":"Open WhatsApp chat",children:e.jsx(i,{className:"h-6 w-6 text-white"})})})]})};export{B as W};
//# sourceMappingURL=WhatsAppButton-CwT4w0M_.js.map
