import{j as e}from"./query-vendor-BLxHmmGk.js";import{r as i,h as Ie}from"./react-vendor-BeR0k5Z3.js";import{B as g,s as k,h as Pe,C as Re,i as $e,g as Oe,o as Le}from"./index-CX6yiz0b.js";import{B as le}from"./badge-45Abp579.js";import{D as T,a as I,b as P,c as R,d as $,e as U,f as xe}from"./dialog-KVJ8gRMk.js";import{I as y}from"./input-CiHC6UAI.js";import{L as u}from"./label-DbIM3Eg1.js";import{T as V}from"./textarea-CBQfWmvq.js";import{H as Ee,u as N,V as Q,a6 as pe,n as Ue,m as ce,a3 as Ve,v as Ae,w as ze,h as Be,D as Me,L as We,a7 as ge,c as Ye,t as B,a8 as Qe,Z as Je,O as Ge}from"./ui-vendor-DjQqXt9S.js";import{p as He,v as Ke,c as Ze,a as Xe}from"./validations-BCm7QRmg.js";import{C as es,P as ss,F as as}from"./ProductShowcaseCarousel-CdIS3E6Z.js";import{z as F}from"./index-ibl8YJur.js";import{S as ts,a as rs}from"./ShareStats-DyeN2AUB.js";import{W as os}from"./WhatsAppButton-Tcz-alw9.js";import{k as E}from"./proxy-8agjeDDu.js";import{W as is}from"./WishlistButton-CGX_nMpt.js";import{A as fe,a as je}from"./alert-DIsJjuyH.js";import{A as ns}from"./index-BkbA5Y1F.js";import{O as ls}from"./OptimizedImage-DQ051bg0.js";import{S as me,a as de,b as ue,c as he,d as S}from"./select-CYWHo3cU.js";import"./supabase-vendor-VSDMYZ1k.js";import"./index-DhS5fNEb.js";import"./index-D6fUEw85.js";import"./useKeyboardHeight-DHIJz8gT.js";import"./index-BdQq_4o_.js";import"./index-BC78nHQ6.js";import"./index-DjQc2W_p.js";const cs=({productId:p,productName:o,shareLinkId:b})=>{const[j,v]=i.useState(!1),[a,h]=i.useState(!1),[n,d]=i.useState({name:"",email:"",phone:"",notes:""}),l=async t=>{t.preventDefault();const c=He.safeParse(n);if(!c.success){const x=c.error.issues[0];N.error(x.message);return}h(!0);try{const{error:x}=await k.from("product_interests").insert({product_id:p,share_link_id:b,customer_name:c.data.name,customer_email:c.data.email,customer_phone:c.data.phone||null,notes:c.data.notes||null});if(x)throw x;N.success("Interest recorded! The seller will contact you soon.",{description:"We've notified the seller about your interest.",duration:5e3}),v(!1),d({name:"",email:"",phone:"",notes:""})}catch(x){x.code==="23505"?N.error("You've already shown interest in this item"):N.error("Failed to record interest. Please try again.")}finally{h(!1)}};return e.jsxs(T,{open:j,onOpenChange:v,children:[e.jsx(I,{asChild:!0,children:e.jsxs(g,{variant:"default",className:"flex-1 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 shadow-md",children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"I'm Interested"]})}),e.jsx(P,{className:"sm:max-w-md",children:e.jsxs("form",{onSubmit:l,children:[e.jsxs(R,{children:[e.jsx($,{className:"text-xl",children:"Express Your Interest"}),e.jsxs(U,{className:"text-base",children:["Interested in ",e.jsx("span",{className:"font-semibold text-foreground",children:o}),"? Share your details and the seller will contact you soon."]})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"name",className:"text-sm font-medium",children:"Name *"}),e.jsx(y,{id:"name",value:n.name,onChange:t=>d({...n,name:t.target.value}),placeholder:"Your full name",className:"h-11",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"email",className:"text-sm font-medium",children:"Email *"}),e.jsx(y,{id:"email",type:"email",value:n.email,onChange:t=>d({...n,email:t.target.value}),placeholder:"your@email.com",className:"h-11",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone (Optional)"}),e.jsx(y,{id:"phone",type:"tel",value:n.phone,onChange:t=>d({...n,phone:t.target.value}),placeholder:"+1 (555) 000-0000",className:"h-11"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"notes",className:"text-sm font-medium",children:"Additional Notes (Optional)"}),e.jsx(V,{id:"notes",value:n.notes,onChange:t=>d({...n,notes:t.target.value}),placeholder:"Any specific requirements or questions...",rows:3,className:"resize-none"})]})]}),e.jsxs(xe,{className:"gap-2 sm:gap-0",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>v(!1),disabled:a,children:"Cancel"}),e.jsx(g,{type:"submit",disabled:a,className:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600",children:a?"Submitting...":"Submit Interest"})]})]})})]})},ms=({productId:p,productName:o,shareLinkId:b,trigger:j})=>{const[v,a]=i.useState(!1),[h,n]=i.useState(!1),{toast:d}=Pe(),[l,t]=i.useState({customer_name:"",customer_email:"",customer_phone:"",requested_products:o?`Video request for: ${o}`:""}),c=async x=>{x.preventDefault();const r=Ke.safeParse(l);if(!r.success){const O=r.error.issues[0];d({title:"Validation Error",description:O.message,variant:"destructive"});return}n(!0);const{error:w}=await k.from("video_requests").insert({product_id:p||null,share_link_id:b,customer_name:r.data.customer_name,customer_email:r.data.customer_email,customer_phone:r.data.customer_phone||null,requested_products:r.data.requested_products});if(n(!1),w){d({title:"Error",description:"Failed to submit video request. Please try again.",variant:"destructive"});return}d({title:"Request Submitted!",description:"We'll contact you soon with the requested video."}),a(!1),t({customer_name:"",customer_email:"",customer_phone:"",requested_products:""})};return e.jsxs(T,{open:v,onOpenChange:a,children:[e.jsx(I,{asChild:!0,children:j||e.jsxs(g,{variant:"outline",size:"sm",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Request Video"]})}),e.jsxs(P,{className:"max-w-lg",children:[e.jsxs(R,{children:[e.jsx($,{children:"Request Product Video"}),e.jsx(U,{children:"Request a video of specific products or the entire catalog"})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{htmlFor:"customer_name",children:["Your Name ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(y,{id:"customer_name",value:l.customer_name,onChange:x=>t({...l,customer_name:x.target.value}),placeholder:"John Doe",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{htmlFor:"customer_email",children:["Email ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(y,{id:"customer_email",type:"email",value:l.customer_email,onChange:x=>t({...l,customer_email:x.target.value}),placeholder:"john@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"customer_phone",children:"Phone (Optional)"}),e.jsx(y,{id:"customer_phone",type:"tel",value:l.customer_phone,onChange:x=>t({...l,customer_phone:x.target.value}),placeholder:"+1 (555) 000-0000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(u,{htmlFor:"requested_products",children:["What would you like to see? ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(V,{id:"requested_products",value:l.requested_products,onChange:x=>t({...l,requested_products:x.target.value}),placeholder:"Describe which products you'd like to see...",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),e.jsx(g,{type:"submit",disabled:h,className:"flex-1",children:h?"Submitting...":"Submit Video Request"})]})]})]})]})},ds=({shareLinkId:p})=>{const[o,b]=i.useState(!1),[j,v]=i.useState(!1),[a,h]=i.useState({name:"",email:"",phone:"",message:""}),n=async d=>{d.preventDefault();const l=Ze.safeParse(a);if(!l.success){const t=l.error.issues[0];N.error(t.message);return}v(!0);try{const{error:t}=await k.from("catalog_inquiries").insert({share_link_id:p,customer_name:l.data.name,customer_email:l.data.email,customer_phone:l.data.phone||null,message:l.data.message});if(t)throw t;N.success("Your message has been sent! The owner will contact you soon."),b(!1),h({name:"",email:"",phone:"",message:""})}catch{N.error("Failed to send message. Please try again.")}finally{v(!1)}};return e.jsxs(T,{open:o,onOpenChange:b,children:[e.jsx(I,{asChild:!0,children:e.jsxs(g,{className:"w-full",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Contact Owner"]})}),e.jsx(P,{className:"sm:max-w-md",children:e.jsxs("form",{onSubmit:n,children:[e.jsxs(R,{children:[e.jsx($,{children:"Contact Catalog Owner"}),e.jsx(U,{children:"Send a message to the catalog owner and they'll get back to you soon."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"contact-name",children:"Name *"}),e.jsx(y,{id:"contact-name",value:a.name,onChange:d=>h({...a,name:d.target.value}),placeholder:"Your full name",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"contact-email",children:"Email *"}),e.jsx(y,{id:"contact-email",type:"email",value:a.email,onChange:d=>h({...a,email:d.target.value}),placeholder:"your@email.com",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"contact-phone",children:"Phone (Optional)"}),e.jsx(y,{id:"contact-phone",type:"tel",value:a.phone,onChange:d=>h({...a,phone:d.target.value}),placeholder:"+1 (555) 000-0000"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"contact-message",children:"Message *"}),e.jsx(V,{id:"contact-message",value:a.message,onChange:d=>h({...a,message:d.target.value}),placeholder:"Tell us what you're looking for or any questions you have...",rows:4,required:!0})]})]}),e.jsxs(xe,{children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:j,children:"Cancel"}),e.jsx(g,{type:"submit",disabled:j,children:j?"Sending...":"Send Message"})]})]})})]})},us=F.object({customer_name:F.string().min(2,"Name must be at least 2 characters"),customer_email:F.string().email("Invalid email address"),customer_phone:F.string().optional(),quantity:F.number().min(1,"Quantity must be at least 1"),message:F.string().optional()}),hs=({productId:p,productName:o,shareLinkId:b})=>{const[j,v]=i.useState(!1),[a,h]=i.useState({customer_name:"",customer_email:"",customer_phone:"",quantity:1,message:""}),[n,d]=i.useState(!1),l=async t=>{t.preventDefault(),d(!0);try{const c=us.parse({...a,customer_phone:a.customer_phone||void 0,message:a.message||void 0}),{data:x,error:r}=await k.from("purchase_inquiries").insert([{product_id:p,share_link_id:b,customer_name:c.customer_name,customer_email:c.customer_email,customer_phone:c.customer_phone,quantity:c.quantity,message:c.message}]).select();if(r)throw r;if(x&&x[0])try{await k.functions.invoke("notify-purchase-inquiry",{body:{inquiry_id:x[0].id}})}catch(w){console.error("Failed to send notification email:",w)}N.success("Purchase inquiry submitted successfully!",{description:"The vendor will contact you soon."}),v(!1),h({customer_name:"",customer_email:"",customer_phone:"",quantity:1,message:""})}catch(c){c instanceof F.ZodError?N.error(c.errors[0].message):(console.error("Error submitting purchase inquiry:",c),N.error("Failed to submit inquiry. Please try again."))}finally{d(!1)}};return e.jsxs(T,{open:j,onOpenChange:v,children:[e.jsx(I,{asChild:!0,children:e.jsxs(g,{className:"w-full",size:"sm",children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Buy Now"]})}),e.jsxs(P,{className:"sm:max-w-md",children:[e.jsx(R,{children:e.jsxs($,{children:["Purchase Inquiry - ",o]})}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"name",children:"Name *"}),e.jsx(y,{id:"name",value:a.customer_name,onChange:t=>h({...a,customer_name:t.target.value}),placeholder:"Your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email *"}),e.jsx(y,{id:"email",type:"email",value:a.customer_email,onChange:t=>h({...a,customer_email:t.target.value}),placeholder:"your.email@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"phone",children:"Phone"}),e.jsx(y,{id:"phone",type:"tel",value:a.customer_phone,onChange:t=>h({...a,customer_phone:t.target.value}),placeholder:"+1 (555) 000-0000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"quantity",children:"Quantity *"}),e.jsx(y,{id:"quantity",type:"number",min:"1",value:a.quantity,onChange:t=>h({...a,quantity:parseInt(t.target.value)||1}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"message",children:"Additional Message"}),e.jsx(V,{id:"message",value:a.message,onChange:t=>h({...a,message:t.target.value}),placeholder:"Any special requests or questions?",rows:3})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"}),e.jsx(g,{type:"submit",disabled:n,className:"flex-1",children:n?"Submitting...":"Submit Inquiry"})]})]})]})]})},xs=({productName:p,productSku:o,price:b,imageUrl:j,catalogUrl:v,businessName:a})=>{const[h,n]=i.useState(!1),[d,l]=i.useState(!1),t=`Check out this beautiful jewelry piece${a?` from ${a}`:""}!

${p}${o?`
SKU: ${o}`:""}
Price: â‚¹${b.toLocaleString("en-IN")}`,c=v,x=[{name:"WhatsApp",icon:pe,color:"bg-green-500 hover:bg-green-600",textColor:"text-green-700 dark:text-green-400",bgColor:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/40 dark:to-emerald-950/30",borderColor:"border-green-200 dark:border-green-800",action:()=>{window.open(`https://wa.me/?text=${encodeURIComponent(`${t}

${c}`)}`,"_blank")}},{name:"SMS",icon:Ve,color:"bg-amber-500 hover:bg-amber-600",textColor:"text-amber-700 dark:text-amber-400",bgColor:"bg-amber-50 dark:bg-amber-950/30",borderColor:"border-amber-200 dark:border-amber-800",action:()=>{window.open(`sms:?body=${encodeURIComponent(`${t}

${c}`)}`,"_blank")}},{name:"Facebook",icon:Ae,color:"bg-blue-600 hover:bg-blue-700",textColor:"text-blue-700 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-950/30",borderColor:"border-blue-200 dark:border-blue-800",action:()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(c)}&quote=${encodeURIComponent(t)}`,"_blank")}},{name:"Twitter",icon:ze,color:"bg-sky-500 hover:bg-sky-600",textColor:"text-sky-700 dark:text-sky-400",bgColor:"bg-sky-50 dark:bg-sky-950/30",borderColor:"border-sky-200 dark:border-sky-800",action:()=>{window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(c)}`,"_blank")}},{name:"Email",icon:Be,color:"bg-purple-500 hover:bg-purple-600",textColor:"text-purple-700 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-950/30",borderColor:"border-purple-200 dark:border-purple-800",action:()=>{window.location.href=`mailto:?subject=${encodeURIComponent(`${p} - Jewelry`)}&body=${encodeURIComponent(`${t}

${c}`)}`}}],r=async()=>{try{await navigator.clipboard.writeText(`${t}

${c}`),n(!0),N.success("Product details copied!"),setTimeout(()=>n(!1),2e3)}catch{N.error("Failed to copy")}};return e.jsxs(T,{open:d,onOpenChange:l,children:[e.jsx(I,{asChild:!0,children:e.jsx(g,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10 hover:text-primary",children:e.jsx(ce,{className:"h-4 w-4"})})}),e.jsxs(P,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs(R,{children:[e.jsxs($,{className:"flex items-center gap-2 text-xl",children:[e.jsx(E.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:.5,repeat:2},children:e.jsx(ce,{className:"h-6 w-6 text-primary"})}),"Share This Product"]}),e.jsx(U,{className:"text-sm",children:"Share this beautiful piece with friends and family"})]}),e.jsxs("div",{className:"space-y-5 mt-2",children:[e.jsx("div",{className:"bg-gradient-to-br from-muted/50 to-background rounded-xl p-4 border border-border",children:e.jsxs("div",{className:"flex gap-4 items-start",children:[j&&e.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-muted",children:e.jsx("img",{src:j,alt:p,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-foreground truncate mb-1",children:p}),o&&e.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["SKU: ",o]}),e.jsxs("p",{className:"text-lg font-bold text-primary",children:["â‚¹",b.toLocaleString("en-IN")]})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.map((w,O)=>{const W=w.icon;return e.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:O*.1},children:e.jsxs(g,{onClick:w.action,variant:"outline",className:`w-full h-auto flex-col gap-2 py-4 ${w.bgColor} ${w.borderColor||"border-2"} hover:scale-105 transition-transform`,children:[e.jsx("div",{className:`p-2 rounded-full ${w.color} text-white`,children:e.jsx(W,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-sm font-medium ${w.textColor}`,children:w.name})]})},w.name)})}),e.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"pt-4 border-t border-border space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-foreground mb-3",children:"Or copy product details"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(g,{onClick:r,variant:"outline",className:`w-full gap-2 transition-all ${h?"bg-green-50 dark:bg-green-950/30 border-green-500":""}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-4 w-4"}),"Copy Details & Link"]})})})]}),e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["ðŸ’Ž ",e.jsx("span",{className:"font-medium",children:"Tip:"})," Share on WhatsApp to send directly to someone special!"]})})]})]})]})},ps=({expiresAt:p})=>{const[o,b]=i.useState(null),[j,v]=i.useState(!1);if(i.useEffect(()=>{const n=()=>{try{const l=new Date(p).getTime(),t=new Date().getTime(),c=l-t;return c>0?{days:Math.floor(c/864e5),hours:Math.floor(c/36e5%24),minutes:Math.floor(c/1e3/60%60),seconds:Math.floor(c/1e3%60)}:(v(!0),null)}catch(l){return console.error("Error parsing expiration date:",l),null}};b(n());const d=setInterval(()=>{b(n())},1e3);return()=>clearInterval(d)},[p]),!o&&j)return e.jsxs(fe,{variant:"destructive",className:"border-red-500/50 inline-flex",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx(je,{children:"This catalog has expired"})]});if(!o)return null;const a=o.days===0&&o.hours<6,h=o.days>0;return e.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`inline-flex items-center gap-3 px-4 py-3 rounded-xl border-2 ${a?"bg-gradient-to-r from-red-500/10 to-orange-500/10 border-red-500/30":"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:`h-4 w-4 ${a?"text-red-600 dark:text-red-400":"text-primary"}`}),e.jsx("span",{className:`text-sm font-semibold ${a?"text-red-700 dark:text-red-400":"text-foreground"}`,children:a?"âš¡ Expiring Soon:":"Available for:"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ns,{mode:"wait",children:[h&&e.jsx(M,{value:o.days,label:"d",isUrgent:a},"days"),e.jsx(M,{value:o.hours,label:"h",isUrgent:a},"hours"),e.jsx(M,{value:o.minutes,label:"m",isUrgent:a},"minutes"),a&&e.jsx(M,{value:o.seconds,label:"s",isUrgent:a,animate:!0},"seconds")]})})]})},M=({value:p,label:o,isUrgent:b,animate:j})=>e.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,...j&&{scale:[1,1.1,1]}},exit:{scale:.8,opacity:0},transition:{duration:j?1:.2,repeat:j?1/0:0},className:`flex items-center gap-1 px-2 py-1 rounded-lg ${b?"bg-red-500/20 text-red-700 dark:text-red-300":"bg-primary/20 text-primary"}`,children:[e.jsx("span",{className:"text-base font-bold tabular-nums min-w-[1.5ch]",children:String(p).padStart(2,"0")}),e.jsx("span",{className:"text-xs font-medium opacity-80",children:o})]}),Bs=()=>{const{token:p}=Ie(),[o,b]=i.useState([]),[j,v]=i.useState(!0),[a,h]=i.useState(null),[n,d]=i.useState(null),[l,t]=i.useState(null),[c,x]=i.useState(83),[r,w]=i.useState(null),[O,W]=i.useState(!0),[ye,J]=i.useState(!1),[G,H]=i.useState(!1),[be,K]=i.useState(!1),[Z,X]=i.useState(!1),[f,ee]=i.useState({category:"",metalType:"",minPrice:"",maxPrice:"",diamondColor:"",diamondClarity:"",searchQuery:"",deliveryType:"",gemstoneType:"",color:"",clarity:"",cut:"",minCarat:"",maxCarat:"",diamondType:"",shape:"",polish:"",symmetry:"",fluorescence:"",lab:""}),[q,se]=i.useState({customer_name:"",customer_email:"",customer_phone:"",metal_type:"",gemstone_preference:"",design_description:"",budget_range:""}),[C,ae]=i.useState({customer_name:"",customer_email:"",customer_phone:"",message:""}),[Y,te]=i.useState(60);i.useEffect(()=>{const s=sessionStorage.getItem("usd_rate"),m=sessionStorage.getItem("usd_rate_time");s&&m&&Date.now()-parseInt(m)<36e5?x(parseFloat(s)):ve(),p&&Ne()},[p]);const ve=async()=>{try{const m=await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json();m.rates&&m.rates.INR&&(x(m.rates.INR),sessionStorage.setItem("usd_rate",m.rates.INR.toString()),sessionStorage.setItem("usd_rate_time",Date.now().toString()))}catch{console.error("Failed to fetch exchange rate, using default")}},Ne=async()=>{var s;try{const m=p?decodeURIComponent(p):"",{data:_,error:L}=await k.functions.invoke("get-shared-catalog",{body:{shareToken:m}});if(L)throw L;_.error?h(_.error):(b(_.products||[]),d(_.shareLinkId||null),t(_.shareLink||null),w(_.vendorProfile||null),W(((s=_.shareLink)==null?void 0:s.show_vendor_details)??!0))}catch(m){h(m.message||"Failed to load catalog")}finally{v(!1)}},D=(s,m)=>{se(_=>({..._,[s]:m}))},_e=async s=>{s.preventDefault();const m=Xe.safeParse(q);if(!m.success){const L=m.error.issues[0];N.error(L.message);return}H(!0);const{error:_}=await k.from("custom_orders").insert({customer_name:m.data.customer_name,customer_email:m.data.customer_email,customer_phone:m.data.customer_phone||null,metal_type:m.data.metal_type||null,gemstone_preference:m.data.gemstone_preference||null,design_description:m.data.design_description,budget_range:m.data.budget_range||null,share_link_id:n});if(H(!1),_){N.error("Failed to submit your request. Please try again.");return}N.success("Your custom order request has been submitted!"),J(!1),se({customer_name:"",customer_email:"",customer_phone:"",metal_type:"",gemstone_preference:"",design_description:"",budget_range:""})},z=(s,m)=>{ae(_=>({..._,[s]:m}))},we=async s=>{if(s.preventDefault(),!C.customer_name||!C.customer_email||!C.message){N.error("Please fill in all required fields");return}X(!0);const{error:m}=await k.from("video_requests").insert({customer_name:C.customer_name,customer_email:C.customer_email,customer_phone:C.customer_phone||null,requested_products:C.message,share_link_id:n});if(X(!1),m){N.error("Failed to submit your video request. Please try again.");return}N.success("Your video request has been submitted!"),K(!1),ae({customer_name:"",customer_email:"",customer_phone:"",message:""})},A=i.useMemo(()=>o.filter(s=>{var oe,ie,ne;const m=!f.searchQuery||((oe=s.name)==null?void 0:oe.toLowerCase().includes(f.searchQuery.toLowerCase()))||((ie=s.description)==null?void 0:ie.toLowerCase().includes(f.searchQuery.toLowerCase()))||((ne=s.sku)==null?void 0:ne.toLowerCase().includes(f.searchQuery.toLowerCase())),_=!f.category||s.category===f.category,L=!f.metalType||s.metal_type===f.metalType,ke=!f.minPrice||s.retail_price>=parseFloat(f.minPrice),qe=!f.maxPrice||s.retail_price<=parseFloat(f.maxPrice),De=!f.diamondColor||s.diamond_color===f.diamondColor,Fe=!f.diamondClarity||s.clarity===f.diamondClarity,Te=!f.deliveryType||s.delivery_type===f.deliveryType;return m&&_&&L&&ke&&qe&&De&&Fe&&Te}),[o,f]);if(i.useEffect(()=>{te(60)},[f]),j)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(B,{className:"h-12 w-12 text-primary mx-auto mb-4 animate-pulse"}),e.jsx("p",{className:"text-xl text-foreground",children:"Loading catalog..."})]})});if(a)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(fe,{variant:"destructive",className:"max-w-md",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx(je,{children:a})]})});const Ce=l&&new Date(l.expires_at).getTime()-new Date().getTime()<24*60*60*1e3&&new Date(l.expires_at).getTime()>new Date().getTime(),re=typeof window<"u"?`${window.location.origin}/shared/${encodeURIComponent(p||"")}`:"",Se=l&&new Date(l.expires_at).getTime()<=new Date().getTime();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/5 to-background relative",children:[e.jsx("div",{className:"fixed inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),e.jsx("header",{className:"border-b border-border/50 bg-gradient-to-b from-card via-card/95 to-card/90 backdrop-blur-xl shadow-2xl relative z-10",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6",children:[l&&!Se&&e.jsxs("div",{className:"mb-5 flex flex-col sm:flex-row items-start sm:items-center gap-3 justify-between pb-5 border-b border-border/30 bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 -mx-3 sm:-mx-4 lg:-mx-6 px-3 sm:px-4 lg:px-6 py-4 rounded-xl",children:[e.jsx(ts,{viewCount:l.view_count,isExpiringSoon:Ce,showTrending:!0}),e.jsx(ps,{expiresAt:l.expires_at})]}),O&&r&&e.jsx("div",{className:"mb-5 pb-5 border-b border-border/30",children:e.jsx("div",{className:"flex flex-col sm:flex-row items-start gap-3 sm:gap-4",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0 w-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-accent/20 blur-xl rounded-full"}),e.jsx(B,{className:"relative h-8 w-8 sm:h-12 sm:w-12 text-primary flex-shrink-0 drop-shadow-2xl"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-serif font-bold bg-gradient-to-r from-foreground via-foreground to-primary/80 bg-clip-text text-transparent leading-tight mb-3 break-words",children:r.business_name||"Jewelry Catalog"}),r.address_line1&&e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2 break-words leading-relaxed",children:[r.address_line1,r.address_line2&&`, ${r.address_line2}`,r.city&&e.jsxs("span",{className:"block sm:inline sm:ml-1",children:[e.jsx("span",{className:"sm:hidden",children:"â€¢"})," ",r.city,", ",r.state," ",r.pincode]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[r.email&&e.jsxs("a",{href:`mailto:${r.email}`,className:"text-xs sm:text-sm text-primary font-medium hover:underline truncate max-w-full",children:["âœ‰ï¸ ",r.email]}),r.phone&&e.jsxs("a",{href:`tel:${r.phone}`,className:"text-xs sm:text-sm text-primary font-medium hover:underline whitespace-nowrap",children:["ðŸ“ž ",r.phone]}),r.whatsapp_number&&e.jsx("a",{href:`https://wa.me/${r.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs sm:text-sm text-primary font-medium hover:underline whitespace-nowrap",children:"ðŸ’¬ WhatsApp"})]})]})]})})}),e.jsx("div",{className:"mb-3",children:e.jsx(es,{filters:f,onFilterChange:ee,productType:"Jewellery",categories:Array.from(new Set(o.map(s=>s.category).filter(Boolean))),metalTypes:Array.from(new Set(o.map(s=>s.metal_type).filter(Boolean))),diamondColors:Array.from(new Set(o.map(s=>s.diamond_color).filter(Boolean))),diamondClarities:Array.from(new Set(o.map(s=>s.clarity).filter(Boolean))),deliveryTypes:Array.from(new Set(o.map(s=>s.delivery_type).filter(Boolean))),gemstoneTypes:[],colors:[],clarities:[],cuts:[],shapes:[],polishes:[],symmetries:[],fluorescences:[],labs:[]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-4 pt-3 border-t border-border/30",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 border border-primary/30 px-5 py-3 rounded-2xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/5 to-transparent animate-shimmer"}),e.jsxs("span",{className:"relative text-xs sm:text-sm font-bold text-foreground",children:["1 USD = ",e.jsxs("span",{className:"text-primary text-lg sm:text-xl drop-shadow-sm",children:["â‚¹",c.toFixed(2)]})]})]}),n&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(rs,{url:re,title:(r==null?void 0:r.business_name)||"Jewelry Catalog",description:"Check out this amazing jewelry collection!",className:"flex-1 sm:flex-none"}),e.jsxs(T,{open:be,onOpenChange:K,children:[e.jsx(I,{asChild:!0,children:e.jsxs(g,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none h-10 text-xs sm:text-sm font-medium",children:[e.jsx(Q,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"hidden xs:inline",children:"Request Video"}),e.jsx("span",{className:"xs:hidden",children:"Video"})]})}),e.jsxs(P,{className:"w-[95vw] max-w-lg",children:[e.jsxs(R,{children:[e.jsx($,{children:"Request Product Video"}),e.jsx(U,{className:"text-xs sm:text-sm",children:"Request a video of specific products or the entire catalog"})]}),e.jsxs("form",{onSubmit:we,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"video_customer_name",className:"text-sm",children:"Your Name *"}),e.jsx(y,{id:"video_customer_name",value:C.customer_name,onChange:s=>z("customer_name",s.target.value),placeholder:"John Doe",className:"h-10",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"video_customer_email",className:"text-sm",children:"Email *"}),e.jsx(y,{id:"video_customer_email",type:"email",value:C.customer_email,onChange:s=>z("customer_email",s.target.value),placeholder:"john@example.com",className:"h-10",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"video_customer_phone",className:"text-sm",children:"Phone (Optional)"}),e.jsx(y,{id:"video_customer_phone",type:"tel",value:C.customer_phone,onChange:s=>z("customer_phone",s.target.value),placeholder:"+1 (555) 000-0000",className:"h-10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"video_message",className:"text-sm",children:"What would you like to see? *"}),e.jsx(V,{id:"video_message",value:C.message,onChange:s=>z("message",s.target.value),placeholder:"Describe which products you'd like to see...",rows:4,required:!0})]}),e.jsx(g,{type:"submit",className:"w-full h-11",disabled:Z,children:Z?"Submitting...":"Submit Video Request"})]})]})]}),e.jsxs(T,{open:ye,onOpenChange:J,children:[e.jsx(I,{asChild:!0,children:e.jsxs(g,{size:"sm",className:"flex-1 sm:flex-none h-10 text-xs sm:text-sm font-medium shadow-lg",children:[e.jsx(Qe,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"hidden xs:inline",children:"Build Jewelry"}),e.jsx("span",{className:"xs:hidden",children:"Custom"})]})}),e.jsxs(P,{className:"w-[95vw] max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(R,{children:[e.jsx($,{children:"Build Your Custom Jewelry"}),e.jsx(U,{className:"text-xs sm:text-sm",children:"Tell us about your dream piece"})]}),e.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"customer_name",className:"text-sm",children:"Your Name *"}),e.jsx(y,{id:"customer_name",value:q.customer_name,onChange:s=>D("customer_name",s.target.value),placeholder:"John Doe",className:"h-10",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"customer_email",className:"text-sm",children:"Email *"}),e.jsx(y,{id:"customer_email",type:"email",value:q.customer_email,onChange:s=>D("customer_email",s.target.value),placeholder:"john@example.com",className:"h-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"customer_phone",className:"text-sm",children:"Phone (Optional)"}),e.jsx(y,{id:"customer_phone",type:"tel",value:q.customer_phone,onChange:s=>D("customer_phone",s.target.value),placeholder:"+1 (555) 000-0000",className:"h-10"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"metal_type",className:"text-sm",children:"Preferred Metal"}),e.jsxs(me,{value:q.metal_type,onValueChange:s=>D("metal_type",s),children:[e.jsx(de,{id:"metal_type",className:"h-10",children:e.jsx(ue,{placeholder:"Select metal"})}),e.jsxs(he,{className:"bg-popover z-50",children:[e.jsx(S,{value:"Gold",children:"Gold"}),e.jsx(S,{value:"White Gold",children:"White Gold"}),e.jsx(S,{value:"Rose Gold",children:"Rose Gold"}),e.jsx(S,{value:"Platinum",children:"Platinum"}),e.jsx(S,{value:"Silver",children:"Silver"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"gemstone_preference",className:"text-sm",children:"Gemstone"}),e.jsx(y,{id:"gemstone_preference",value:q.gemstone_preference,onChange:s=>D("gemstone_preference",s.target.value),placeholder:"Diamond, Sapphire...",className:"h-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"budget_range",className:"text-sm",children:"Budget Range"}),e.jsxs(me,{value:q.budget_range,onValueChange:s=>D("budget_range",s),children:[e.jsx(de,{id:"budget_range",className:"h-10",children:e.jsx(ue,{placeholder:"Select budget"})}),e.jsxs(he,{className:"bg-popover z-50",children:[e.jsx(S,{value:"Under â‚¹50,000",children:"Under â‚¹50,000"}),e.jsx(S,{value:"â‚¹50,000 - â‚¹1,00,000",children:"â‚¹50,000 - â‚¹1,00,000"}),e.jsx(S,{value:"â‚¹1,00,000 - â‚¹2,50,000",children:"â‚¹1,00,000 - â‚¹2,50,000"}),e.jsx(S,{value:"â‚¹2,50,000 - â‚¹5,00,000",children:"â‚¹2,50,000 - â‚¹5,00,000"}),e.jsx(S,{value:"Above â‚¹5,00,000",children:"Above â‚¹5,00,000"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"design_description",className:"text-sm",children:"Design Description *"}),e.jsx(V,{id:"design_description",value:q.design_description,onChange:s=>D("design_description",s.target.value),placeholder:"Describe your ideal piece in detail...",rows:4,required:!0})]}),e.jsx(g,{type:"submit",className:"w-full h-11",disabled:G,children:G?"Submitting...":"Submit Custom Order"})]})]})]}),e.jsx(ds,{shareLinkId:n})]})]})]})}),e.jsxs("main",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-8 sm:py-12 relative z-10",children:[o.length>0&&e.jsx("div",{className:"mb-12",children:e.jsx(ss,{products:o.slice(0,8),usdRate:c})}),A.length===0&&o.length>0?e.jsxs("div",{className:"text-center py-16 sm:py-20",children:[e.jsx(B,{className:"h-16 w-16 sm:h-20 sm:w-20 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground mb-4",children:"No products match your filters"}),e.jsx(g,{variant:"outline",onClick:()=>ee({category:"",metalType:"",minPrice:"",maxPrice:"",diamondColor:"",diamondClarity:"",searchQuery:"",deliveryType:"",gemstoneType:"",color:"",clarity:"",cut:"",minCarat:"",maxCarat:"",diamondType:"",shape:"",polish:"",symmetry:"",fluorescence:"",lab:""}),className:"h-10 sm:h-11",children:"Clear All Filters"})]}):A.length===0?e.jsxs("div",{className:"text-center py-16 sm:py-20",children:[e.jsx(B,{className:"h-16 w-16 sm:h-20 sm:w-20 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-serif font-bold mb-2 text-foreground",children:"No Products Available"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"This catalog is currently empty"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 sm:gap-8",children:A.slice(0,Y).map(s=>{const m=()=>{n&&k.functions.invoke("track-product-view",{body:{shareLinkId:n,productId:s.id}}).catch(_=>console.error("Failed to track view:",_))};return e.jsxs(Re,{className:"group overflow-hidden hover:shadow-2xl hover:shadow-primary/10 transition-all duration-500 border-border/50 hover:border-primary/40 bg-gradient-to-b from-card to-card/95 backdrop-blur-sm cursor-pointer hover:-translate-y-2",onClick:m,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),s.image_url&&e.jsxs("div",{className:"aspect-square overflow-hidden bg-gradient-to-br from-muted/30 to-muted/10 relative",children:[e.jsx(ls,{src:s.image_url,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",width:400,height:400}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 z-10",children:[e.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded-full shadow-lg",children:e.jsx(is,{productId:s.id,shareLinkId:n})}),e.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded-full shadow-lg",children:e.jsx(xs,{productName:s.name,productSku:s.sku,price:s.displayed_price,imageUrl:s.image_url,catalogUrl:re,businessName:r==null?void 0:r.business_name})})]})]}),e.jsxs($e,{className:"pb-3 relative z-10",children:[e.jsx("h3",{className:"font-serif text-base sm:text-lg font-bold text-foreground group-hover:text-primary line-clamp-2 leading-tight transition-colors duration-300",children:s.name}),s.sku&&e.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["SKU: ",s.sku]})]}),e.jsxs(Oe,{className:"pb-3",children:[s.description&&e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3 line-clamp-2 leading-relaxed",children:s.description}),e.jsxs("div",{className:"space-y-1 text-xs sm:text-sm",children:[s.category&&e.jsxs("p",{className:"text-foreground truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Category:"})," ",e.jsx("span",{className:"font-medium",children:s.category})]}),s.metal_type&&e.jsxs("p",{className:"text-foreground truncate",children:[e.jsx("span",{className:"text-muted-foreground",children:"Metal:"})," ",e.jsx("span",{className:"font-medium",children:s.metal_type})]}),s.weight_grams&&e.jsxs("p",{className:"text-foreground",children:[e.jsx("span",{className:"text-muted-foreground",children:"Weight:"})," ",e.jsxs("span",{className:"font-medium",children:[s.weight_grams,"g"]})]})]})]}),e.jsxs(Le,{className:"border-t border-border/30 pt-4 flex-col gap-3.5 bg-gradient-to-b from-muted/10 to-transparent relative z-10",children:[s.delivery_type&&e.jsx("div",{className:"w-full",children:s.delivery_type==="immediate delivery"?e.jsxs(le,{variant:"secondary",className:"w-full justify-center gap-2 py-2 bg-gradient-to-r from-emerald-500/20 via-green-500/20 to-emerald-500/20 border-emerald-500/40 text-emerald-700 dark:text-emerald-400 hover:from-emerald-500/30 hover:to-green-500/30 shadow-sm font-semibold",children:[e.jsx(Je,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"text-xs",children:"Immediate Dispatch"})]}):e.jsxs(le,{variant:"outline",className:"w-full justify-center gap-2 py-2 border-primary/40 text-primary hover:bg-primary/10 shadow-sm font-semibold",children:[e.jsx(Ge,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"text-xs",children:s.delivery_type})]})}),e.jsxs("div",{className:"w-full space-y-2",children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"INR"}),e.jsx("div",{className:"relative",children:e.jsxs("p",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent drop-shadow-sm",children:["â‚¹",s.displayed_price.toLocaleString("en-IN",{maximumFractionDigits:0})]})})]}),e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"USD"}),e.jsxs("p",{className:"text-base sm:text-lg font-semibold text-foreground",children:["$",(s.displayed_price/c).toFixed(2)]})]})]}),n&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(hs,{productId:s.id,productName:s.name,shareLinkId:n}),e.jsxs("div",{className:"flex gap-2 items-stretch",children:[e.jsx(cs,{productId:s.id,productName:s.name,shareLinkId:n}),e.jsx(ms,{productId:s.id,productName:s.name,shareLinkId:n,trigger:e.jsxs(g,{variant:"outline",size:"sm",className:"whitespace-nowrap px-4",children:[e.jsx(Q,{className:"h-4 w-4 mr-1"}),"Video"]})})]})]})]})]},s.id)})}),Y<A.length&&e.jsx("div",{className:"flex justify-center mt-12",children:e.jsxs(g,{variant:"outline",size:"lg",onClick:()=>te(s=>s+60),className:"px-8 py-6 text-base font-semibold hover:bg-primary/10 hover:border-primary transition-all duration-300",children:["Load More Products (",A.length-Y," remaining)"]})})]})]}),O&&r&&e.jsx(as,{instagramQrUrl:r.instagram_qr_url,whatsappQrUrl:r.whatsapp_qr_url}),(r==null?void 0:r.whatsapp_number)&&e.jsx(os,{whatsappNumber:r.whatsapp_number,businessName:r.business_name})]})};export{Bs as default};
//# sourceMappingURL=SharedCatalog-CCTgBwAD.js.map
