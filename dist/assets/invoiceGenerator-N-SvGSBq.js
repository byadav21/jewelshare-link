import{E as $,a as N}from"./jspdf.plugin.autotable-41Os2KV8.js";const C=t=>`Rs. ${t.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ie=async t=>new Promise(e=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{try{const c=document.createElement("canvas");c.width=o.width,c.height=o.height;const g=c.getContext("2d");if(!g){e(null);return}g.drawImage(o,0,0);const a=c.toDataURL("image/jpeg",.95);e(a)}catch(c){console.error("Error converting image to base64:",c),e(null)}},o.onerror=()=>{console.error("Failed to load image:",t),e(null)};const m=t.includes("?")?"&":"?";o.src=`${t}${m}_t=${Date.now()}`,setTimeout(()=>e(null),3e3)}),he=async t=>{switch(t.template||"detailed"){case"summary":return await re(t);case"minimal":return await le(t);case"traditional":return await ge(t);case"modern":return await ce(t);case"luxury":return await ae(t);default:return await se(t)}},se=async t=>{var L,B,P,W,A,Y,G,O,M,H,k,U,V,J,X,j,q;const e=new $,o=e.internal.pageSize.getWidth();e.internal.pageSize.getHeight();const m=((L=t.vendorBranding)==null?void 0:L.primaryColor)||"#1e40af",c=((B=t.vendorBranding)==null?void 0:B.secondaryColor)||"#6366f1",g="#f59e0b",a=s=>{const f=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return f?{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16)}:{r:30,g:64,b:175}},r=a(m),i=a(c),n=a(g);if(e.setFillColor(r.r,r.g,r.b),e.rect(0,0,o,50,"F"),e.setFillColor(n.r,n.g,n.b),e.rect(0,48,o,2,"F"),(P=t.vendorBranding)!=null&&P.logo){e.setFillColor(255,255,255),e.roundedRect(16,10,30,30,3,3,"F"),e.setDrawColor(230,230,235),e.setLineWidth(.5),e.roundedRect(16,10,30,30,3,3,"S");try{const s=await ie(t.vendorBranding.logo);s?e.addImage(s,"JPEG",18,12,26,26,void 0,"FAST"):(e.setFontSize(7),e.setTextColor(150,150,150),e.text("LOGO",31,26.5,{align:"center"}))}catch(s){console.error("Error processing logo:",s),e.setFontSize(7),e.setTextColor(150,150,150),e.text("LOGO",31,26.5,{align:"center"})}}const x=(W=t.vendorBranding)!=null&&W.logo?52:o/2,F=(A=t.vendorBranding)!=null&&A.logo?"left":"center";e.setFontSize(22),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),(Y=t.vendorBranding)!=null&&Y.name?(e.text(t.vendorBranding.name.toUpperCase(),x,22,{align:F}),(G=t.vendorBranding)!=null&&G.tagline&&(e.setFontSize(9),e.setFont("helvetica","italic"),e.setTextColor(240,240,245),e.text(t.vendorBranding.tagline,x,28,{align:F})),e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("TAX INVOICE",x,36,{align:F})):(e.setFontSize(26),e.text("TAX INVOICE",o/2,28,{align:"center"})),e.setTextColor(50,50,50);let D=58;if((O=t.vendorBranding)!=null&&O.email||(M=t.vendorBranding)!=null&&M.phone||(H=t.vendorBranding)!=null&&H.address||t.vendorGSTIN){e.setFillColor(248,250,252),e.roundedRect(o-80,D,66,32,2,2,"F"),e.setDrawColor(220,225,230),e.setLineWidth(.5),e.roundedRect(o-80,D,66,32,2,2,"S"),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(80,80,90);let s=D+6;if(t.vendorGSTIN&&(e.setFont("helvetica","bold"),e.text("GSTIN:",o-76,s),e.setFont("helvetica","normal"),e.text(t.vendorGSTIN,o-76,s+3.5),s+=8),t.vendorBranding.phone&&(e.text(`Tel: ${t.vendorBranding.phone}`,o-76,s),s+=4.5),t.vendorBranding.email){const f=t.vendorBranding.email.length>25?t.vendorBranding.email.substring(0,22)+"...":t.vendorBranding.email;e.text(`Email: ${f}`,o-76,s),s+=4.5}if(t.vendorBranding.address&&s<D+28){const f=e.splitTextToSize(t.vendorBranding.address,60);e.text(f.slice(0,2),o-76,s)}}e.setTextColor(40,40,50);let S=58;e.setFillColor(255,253,245),e.roundedRect(14,S,90,32,2,2,"F"),e.setFillColor(n.r,n.g,n.b),e.rect(14,S,2,32,"F"),e.setDrawColor(n.r,n.g,n.b),e.setLineWidth(.5),e.roundedRect(14,S,90,32,2,2,"S");let d=S+7;e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(r.r,r.g,r.b),e.text("INVOICE NUMBER",20,d),e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(40,40,50),e.text(t.invoiceNumber,20,d+5),d+=12,e.setFontSize(8),e.setFont("helvetica","bold"),e.setTextColor(100,100,110),e.text("Date:",20,d),e.setFont("helvetica","normal"),e.text(new Date(t.invoiceDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),35,d),t.paymentDueDate&&(d+=4.5,e.setFont("helvetica","bold"),e.text("Due:",20,d),e.setFont("helvetica","normal"),e.setTextColor(220,38,38),e.text(new Date(t.paymentDueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),35,d),e.setTextColor(100,100,110)),t.paymentTerms&&(d+=4.5,e.setFont("helvetica","bold"),e.text("Terms:",20,d),e.setFont("helvetica","normal"),e.text(t.paymentTerms,35,d));let T=98;if(t.customerName){e.setFillColor(250,252,255),e.roundedRect(14,T,o-28,42,2,2,"F"),e.setFillColor(i.r,i.g,i.b),e.roundedRect(14,T,o-28,3,2,2,"F"),e.setDrawColor(220,225,235),e.setLineWidth(.5),e.roundedRect(14,T,o-28,42,2,2,"S"),e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(i.r,i.g,i.b),e.text("BILL TO",20,T+10),e.setTextColor(40,40,50),e.setFontSize(11),e.setFont("helvetica","bold");let s=T+17;e.text(t.customerName,20,s),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(80,80,90);let f=s+6;const E=o/2;if(t.customerGSTIN&&(e.setFont("helvetica","bold"),e.text("GSTIN:",20,f),e.setFont("helvetica","normal"),e.text(t.customerGSTIN,38,f),f+=5),t.customerPhone&&(e.text(`Tel: ${t.customerPhone}`,20,f),f+=5),t.customerEmail){const I=e.splitTextToSize(`Email: ${t.customerEmail}`,E-25);e.text(I,20,f),f+=I.length*4}if(t.customerAddress){const I=e.splitTextToSize(t.customerAddress,o-50);e.text(I,20,f)}T+=47}let l=T+5;if(t.lineItems&&t.lineItems.length>0)l>e.internal.pageSize.getHeight()-100&&(e.addPage(),l=20),e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(r.r,r.g,r.b),e.text("INVOICE LINE ITEMS",14,l),e.setTextColor(0,0,0),l+=5,t.lineItems.forEach((s,f)=>{l>e.internal.pageSize.getHeight()-50&&(e.addPage(),l=20);const E=l;if(s.image_url)try{e.setFillColor(245,245,250),e.rect(14,l,30,30,"F"),e.setFontSize(7),e.setTextColor(150,150,150),e.text("[Image]",29,l+17,{align:"center"})}catch(R){console.error("Error adding item image:",R)}const I=s.image_url?48:18;if(e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(0,0,0),e.text(`${f+1}. ${s.item_name}`,I,l+5),s.description){e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(100,100,100);const R=e.splitTextToSize(s.description,o-I-20);e.text(R,I,l+11)}l=Math.max(l+35,E+(s.image_url?35:25));const y=[["Gross Weight",`${s.gross_weight} g`],["Net Weight",`${s.net_weight} g`]];s.diamond_weight>0&&(y.push(["Diamond Weight",`${s.diamond_weight} ct`]),s.diamond_color&&y.push(["Diamond Color",s.diamond_color]),s.diamond_clarity&&y.push(["Diamond Clarity",s.diamond_clarity]),s.diamond_cut&&y.push(["Diamond Cut",s.diamond_cut]),s.diamond_certification&&y.push(["Diamond Certification",s.diamond_certification])),s.gemstone_weight>0&&(y.push(["Gemstone Weight",`${s.gemstone_weight} ct`]),s.gemstone_type&&y.push(["Gemstone Type",s.gemstone_type]),s.gemstone_color&&y.push(["Gemstone Color",s.gemstone_color]),s.gemstone_clarity&&y.push(["Gemstone Clarity",s.gemstone_clarity])),N(e,{startY:l,body:y,theme:"plain",styles:{fontSize:9,cellPadding:2},columnStyles:{0:{fontStyle:"bold",cellWidth:40},1:{cellWidth:"auto"}},margin:{left:18,right:14}}),l=e.lastAutoTable.finalY+2;const ne=[["Gold Cost",C(s.gold_cost)],["Making Charges",C(s.making_charges)],["CAD Design",C(s.cad_design_charges)],["Camming",C(s.camming_charges)],["Certification",C(s.certification_cost)],["Diamond Cost",C(s.diamond_cost)],["Gemstone Cost",C(s.gemstone_cost)]];N(e,{startY:l,body:ne,theme:"plain",styles:{fontSize:9,cellPadding:2.5,textColor:[70,70,80]},columnStyles:{0:{cellWidth:45,fontStyle:"bold",textColor:[100,100,110]},1:{cellWidth:"auto",halign:"right",fontStyle:"bold"}},margin:{left:18,right:14}}),l=e.lastAutoTable.finalY+3,e.setFillColor(i.r,i.g,i.b),e.rect(14,l,o-28,10,"F"),e.setFontSize(11),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("Item Subtotal:",18,l+6.5),e.text(C(s.subtotal),o-18,l+6.5,{align:"right"}),e.setTextColor(40,40,50),l+=18});else{l>e.internal.pageSize.getHeight()-100&&(e.addPage(),l=20),e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(r.r,r.g,r.b),e.text("PRODUCT SPECIFICATIONS",14,l),e.setTextColor(0,0,0);const s=[];t.grossWeight&&s.push(["Gross Weight",`${t.grossWeight} grams`]),t.netWeight&&s.push(["Net Weight",`${t.netWeight} grams`]),t.purityFraction&&s.push(["Gold Purity",`${(t.purityFraction*100).toFixed(0)}%`]),(k=t.details)!=null&&k.diamond_type&&s.push(["Diamond Type",t.details.diamond_type]),(U=t.details)!=null&&U.diamond_shape&&s.push(["Diamond Shape",t.details.diamond_shape]),(V=t.details)!=null&&V.diamond_weight&&s.push(["Diamond Weight",`${t.details.diamond_weight} carats`]),(J=t.details)!=null&&J.diamond_color&&s.push(["Diamond Color",t.details.diamond_color]),(X=t.details)!=null&&X.diamond_clarity&&s.push(["Diamond Clarity",t.details.diamond_clarity]),(j=t.details)!=null&&j.diamond_certification&&t.details.diamond_certification!=="none"&&s.push(["Certification",t.details.diamond_certification.toUpperCase()]),(q=t.details)!=null&&q.gemstone_weight&&s.push(["Gemstone Weight",`${t.details.gemstone_weight} carats`]),s.length>0?(N(e,{startY:l+5,body:s,theme:"plain",styles:{fontSize:10},columnStyles:{0:{fontStyle:"bold",cellWidth:50},1:{cellWidth:"auto"}},margin:{left:14,right:14}}),l=e.lastAutoTable.finalY+15):l+=10}if(!t.lineItems||t.lineItems.length===0){l>e.internal.pageSize.getHeight()-100&&(e.addPage(),l=20),e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(r.r,r.g,r.b),e.text("COST BREAKDOWN",14,l),e.setTextColor(40,40,50);const f=[["Gold Cost",C(t.goldCost)],["Making Charges",C(t.makingCharges)],["CAD Design Charges",C(t.cadDesignCharges)],["Camming Charges",C(t.cammingCharges)],["Certification Cost",C(t.certificationCost)],["Diamond Cost",C(t.diamondCost)],["Gemstone Cost",C(t.gemstoneCost)]];N(e,{startY:l+5,head:[["Description","Amount"]],body:f,theme:"striped",headStyles:{fillColor:[r.r,r.g,r.b],fontSize:11,fontStyle:"bold",textColor:[255,255,255],cellPadding:4},bodyStyles:{fontSize:10,textColor:[50,50,60],cellPadding:3.5},alternateRowStyles:{fillColor:[250,252,255]},columnStyles:{0:{cellWidth:110,fontStyle:"normal"},1:{cellWidth:"auto",halign:"right",fontStyle:"bold"}},margin:{left:14,right:14}}),l=e.lastAutoTable.finalY+10}const b=l,h=t.gstMode==="sgst_cgst"&&(t.sgstAmount&&t.sgstAmount>0||t.cgstAmount&&t.cgstAmount>0)||t.gstMode==="igst"&&t.igstAmount&&t.igstAmount>0,u=t.shippingCharges&&t.shippingCharges>0,p=t.grandTotal!==void 0&&t.grandTotal>0,v=t.exchangeRate&&t.exchangeRate>0&&p,z=40,K=h?t.gstMode==="sgst_cgst"?12:7:0,Q=u?7:0,ee=p?12:0,te=v?8:0,w=z+K+Q+ee+te;if(b+w>e.internal.pageSize.getHeight()-80){e.addPage(),l=20;const s=l;e.setFillColor(245,245,250),e.rect(14,s,o-28,w,"F"),Z(e,s,t,r,o,h,u,p,v),l=s+w+5}else e.setFillColor(245,245,250),e.rect(14,b,o-28,w,"F"),Z(e,b,t,r,o,h,u,p,v),l=b+w+5;if(t.invoiceNotes){l>e.internal.pageSize.getHeight()-60&&(e.addPage(),l=20),e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(r.r,r.g,r.b),e.text("INVOICE NOTES",14,l),e.setTextColor(0,0,0),e.setFontSize(10),e.setFont("helvetica","normal");const s=e.splitTextToSize(t.invoiceNotes,o-28);e.text(s,14,l+6),l+=6+s.length*5+5}l>e.internal.pageSize.getHeight()-70&&(e.addPage(),l=20),e.setFillColor(255,253,245),e.roundedRect(14,l-2,o-28,22,2,2,"F"),e.setDrawColor(245,158,11),e.setLineWidth(2),e.line(14,l-2,14,l+20),e.setDrawColor(220,225,230),e.setLineWidth(.5),e.roundedRect(14,l-2,o-28,22,2,2,"S"),e.setFontSize(10),e.setFont("helvetica","bold"),e.setTextColor(r.r,r.g,r.b),e.text("PAYMENT INFORMATION",20,l+4),e.setTextColor(40,40,50),e.setFont("helvetica","normal"),e.setFontSize(8.5),e.setTextColor(70,70,80),e.text("Please make payment within the specified terms to avoid late fees.",20,l+10),e.text("For payment inquiries or bank details, contact us at the details above.",20,l+15),l+=28,l>e.internal.pageSize.getHeight()-50&&(e.addPage(),l=20),e.setFillColor(248,250,252),e.rect(14,l-2,o-28,32,"F"),e.setDrawColor(220,225,230),e.setLineWidth(.5),e.rect(14,l-2,o-28,32,"S"),e.setFontSize(9),e.setFont("helvetica","bold"),e.setTextColor(r.r,r.g,r.b),e.text("TERMS & CONDITIONS",18,l+3),e.setFont("helvetica","normal"),e.setFontSize(7.5),e.setTextColor(70,70,80),e.text("- Payment must be received by the due date to avoid late fees.",18,l+9),e.text("- All prices are final and include applicable taxes unless otherwise stated.",18,l+13),e.text("- This invoice is valid for the amounts and items listed above.",18,l+17),e.text("- Goods once sold cannot be returned or exchanged.",18,l+21),e.text("- Subject to jurisdiction mentioned in the invoice.",18,l+25);const _=e.internal.pageSize.getHeight()-7;e.setDrawColor(220,225,230),e.setLineWidth(.5),e.line(14,_-2,o-14,_-2),e.setFontSize(7.5),e.setTextColor(120,120,130),e.text(`Generated on ${new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})} at ${new Date().toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}`,o/2,_,{align:"center"});const oe=`Invoice_${t.invoiceNumber.replace(/[^a-z0-9]/gi,"_")}_${Date.now()}.pdf`;e.save(oe)},Z=(t,e,o,m,c,g,a,r,i)=>{let n=e+10;if(t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(80,80,90),t.text("Subtotal:",20,n),t.setFont("helvetica","bold"),t.setTextColor(50,50,60),t.text(C(o.totalCost),c-20,n,{align:"right"}),n+=6,t.setFont("helvetica","normal"),t.setTextColor(80,80,90),t.text(`Profit Margin (${o.profitMargin}%):`,20,n),t.setFont("helvetica","bold"),t.setTextColor(22,163,74),t.text(C(o.finalSellingPrice-o.totalCost),c-20,n,{align:"right"}),n+=6,t.setDrawColor(220,225,235),t.setLineWidth(.3),t.line(20,n,c-20,n),n+=5,t.setFont("helvetica","bold"),t.setTextColor(60,60,70),t.text("Amount (Before Tax):",20,n),t.setTextColor(50,50,60),t.text(C(o.finalSellingPrice),c-20,n,{align:"right"}),n+=7,g&&(t.setFontSize(9),o.gstMode==="sgst_cgst"?(t.setFont("helvetica","normal"),t.setTextColor(80,80,90),t.text(`SGST (${o.sgstPercentage||0}%):`,24,n),t.setFont("helvetica","bold"),t.setTextColor(50,50,60),t.text(C(o.sgstAmount||0),c-20,n,{align:"right"}),n+=4.5,t.setFont("helvetica","normal"),t.setTextColor(80,80,90),t.text(`CGST (${o.cgstPercentage||0}%):`,24,n),t.setFont("helvetica","bold"),t.setTextColor(50,50,60),t.text(C(o.cgstAmount||0),c-20,n,{align:"right"}),n+=5):(t.setFont("helvetica","normal"),t.setTextColor(80,80,90),t.text(`IGST (${o.igstPercentage||0}%):`,24,n),t.setFont("helvetica","bold"),t.setTextColor(50,50,60),t.text(C(o.igstAmount||0),c-20,n,{align:"right"}),n+=5),t.setFontSize(10)),a&&(t.setFont("helvetica","normal"),t.setTextColor(80,80,90),t.text(`Shipping${o.shippingZone?` (${o.shippingZone})`:""}:`,20,n),t.setFont("helvetica","bold"),t.setTextColor(50,50,60),t.text(C(o.shippingCharges),c-20,n,{align:"right"}),n+=6),r?(t.setDrawColor(m.r,m.g,m.b),t.setLineWidth(1),t.line(20,n,c-20,n),n+=7,t.setFillColor(m.r,m.g,m.b),t.roundedRect(18,n-4,c-36,12,1,1,"F"),t.setFontSize(13),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text("GRAND TOTAL (INR):",22,n+3),t.setFontSize(14),t.text(C(o.grandTotal),c-22,n+3,{align:"right"}),n+=10,t.setTextColor(40,40,50)):(t.setDrawColor(m.r,m.g,m.b),t.setLineWidth(1),t.line(20,n,c-20,n),n+=7,t.setFontSize(13),t.setFont("helvetica","bold"),t.setTextColor(m.r,m.g,m.b),t.text("TOTAL AMOUNT DUE:",20,n),t.text(C(o.finalSellingPrice),c-20,n,{align:"right"}),n+=7,t.setTextColor(40,40,50)),i&&o.grandTotal){t.setFontSize(9),t.setFont("helvetica","italic"),t.setTextColor(100,100,110);const x=(o.grandTotal/(o.exchangeRate||1)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});t.text(`Equivalent: USD $${x} @ Exchange Rate Rs.${(o.exchangeRate||0).toFixed(2)}/USD`,20,n),t.setTextColor(40,40,50)}},re=async t=>{var n;const e=new $,o=e.internal.pageSize.getWidth(),m=((n=t.vendorBranding)==null?void 0:n.primaryColor)||"#4F46E5",g=(x=>{const F=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(x);return F?{r:parseInt(F[1],16),g:parseInt(F[2],16),b:parseInt(F[3],16)}:{r:79,g:70,b:229}})(m);e.setFillColor(g.r,g.g,g.b),e.rect(0,0,o,35,"F"),e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(255,255,255),e.text("INVOICE",o/2,22,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(`Invoice: ${t.invoiceNumber}`,14,50),e.setFont("helvetica","normal"),e.text(`Date: ${new Date(t.invoiceDate).toLocaleDateString()}`,14,56),t.paymentDueDate&&e.text(`Due: ${new Date(t.paymentDueDate).toLocaleDateString()}`,14,62),t.customerName&&(e.setFont("helvetica","bold"),e.text("Bill To:",14,75),e.setFont("helvetica","normal"),e.text(t.customerName,14,81),t.customerPhone&&e.text(t.customerPhone,14,87));const a=[["Gold Cost",`Rs. ${t.goldCost.toFixed(2)}`],["Making & Design",`Rs. ${(t.makingCharges+t.cadDesignCharges+t.cammingCharges).toFixed(2)}`],["Stones & Gems",`Rs. ${(t.diamondCost+t.gemstoneCost).toFixed(2)}`],["Certification",`Rs. ${t.certificationCost.toFixed(2)}`]];N(e,{startY:100,head:[["Item","Amount"]],body:a,theme:"plain",headStyles:{fillColor:[g.r,g.g,g.b],textColor:255},margin:{left:14,right:14}});const r=e.lastAutoTable.finalY+10;e.setFillColor(245,245,250),e.rect(14,r,o-28,20,"F"),e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(g.r,g.g,g.b),e.text(`TOTAL: Rs. ${t.finalSellingPrice.toFixed(2)}`,o-18,r+13,{align:"right"}),e.setTextColor(0,0,0);const i=`Invoice_${t.invoiceNumber.replace(/[^a-z0-9]/gi,"_")}_${Date.now()}.pdf`;e.save(i)},le=async t=>{var i;const e=new $,o=e.internal.pageSize.getWidth(),m=((i=t.vendorBranding)==null?void 0:i.primaryColor)||"#4F46E5",g=(n=>{const x=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return x?{r:parseInt(x[1],16),g:parseInt(x[2],16),b:parseInt(x[3],16)}:{r:79,g:70,b:229}})(m);e.setFontSize(28),e.setFont("helvetica","bold"),e.setTextColor(g.r,g.g,g.b),e.text("INVOICE",o/2,30,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(12),e.setFont("helvetica","normal");let a=50;e.text(`Invoice Number: ${t.invoiceNumber}`,o/2,a,{align:"center"}),a+=8,e.text(`Date: ${new Date(t.invoiceDate).toLocaleDateString()}`,o/2,a,{align:"center"}),t.customerName&&(a+=20,e.setFont("helvetica","bold"),e.text(`Customer: ${t.customerName}`,o/2,a,{align:"center"})),a+=40,e.setFontSize(36),e.setFont("helvetica","bold"),e.setTextColor(g.r,g.g,g.b),e.text(`Rs. ${t.finalSellingPrice.toFixed(2)}`,o/2,a,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(10),e.setFont("helvetica","normal"),a+=10,e.text("Total Amount Due",o/2,a,{align:"center"}),t.paymentDueDate&&(a+=15,e.setFontSize(11),e.text(`Payment Due: ${new Date(t.paymentDueDate).toLocaleDateString()}`,o/2,a,{align:"center"}));const r=`Invoice_${t.invoiceNumber.replace(/[^a-z0-9]/gi,"_")}_${Date.now()}.pdf`;e.save(r)},ge=async t=>{var l,b,h,u,p;const e=new $,o=e.internal.pageSize.getWidth(),m=e.internal.pageSize.getHeight(),c=((l=t.vendorBranding)==null?void 0:l.primaryColor)||"#2C1810",g="#8B7355",a=v=>{const z=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(v);return z?{r:parseInt(z[1],16),g:parseInt(z[2],16),b:parseInt(z[3],16)}:{r:44,g:24,b:16}},r=a(c),i=a(g);e.setDrawColor(i.r,i.g,i.b),e.setLineWidth(2),e.rect(10,10,o-20,m-20),e.setLineWidth(.5),e.rect(12,12,o-24,m-24),e.setFillColor(i.r,i.g,i.b),[[15,15],[o-15,15],[15,m-15],[o-15,m-15]].forEach(([v,z])=>{e.circle(v,z,2,"F")});let n=30;e.setFontSize(32),e.setFont("times","bold"),e.setTextColor(r.r,r.g,r.b),e.text(((b=t.vendorBranding)==null?void 0:b.name)||"FINE JEWELERS",o/2,n,{align:"center"}),(h=t.vendorBranding)!=null&&h.tagline&&(n+=8,e.setFontSize(11),e.setFont("times","italic"),e.setTextColor(i.r,i.g,i.b),e.text(t.vendorBranding.tagline,o/2,n,{align:"center"})),n+=10,e.setDrawColor(i.r,i.g,i.b),e.setLineWidth(.5);const x=40;e.line(x,n,o-x,n),e.circle(o/2,n,1,"F"),n+=12,e.setFontSize(24),e.setFont("times","bold"),e.setTextColor(r.r,r.g,r.b),e.text("INVOICE",o/2,n,{align:"center"}),n+=15,e.setFillColor(250,248,245),e.rect(20,n,(o-40)/2-5,30,"F"),e.setFontSize(10),e.setFont("times","bold"),e.setTextColor(r.r,r.g,r.b),e.text("Invoice Number:",25,n+8),e.setFont("times","normal"),e.text(t.invoiceNumber,25,n+14),e.setFont("times","bold"),e.text("Date:",25,n+20),e.setFont("times","normal"),e.text(new Date(t.invoiceDate).toLocaleDateString(),25,n+26),e.setFillColor(250,248,245),e.rect(o/2+5,n,(o-40)/2-5,30,"F"),e.setFont("times","bold");let F=n+8;if((u=t.vendorBranding)!=null&&u.phone&&(e.text("Tel:",o/2+10,F),e.setFont("times","normal"),e.text(t.vendorBranding.phone,o/2+25,F),F+=6),(p=t.vendorBranding)!=null&&p.email){e.setFont("times","bold"),e.text("Email:",o/2+10,F),e.setFont("times","normal");const v=e.splitTextToSize(t.vendorBranding.email,60);e.text(v,o/2+25,F)}if(n+=40,e.setFont("times","bold"),e.setFontSize(12),e.setTextColor(i.r,i.g,i.b),e.text("BILL TO",20,n),n+=6,e.setDrawColor(i.r,i.g,i.b),e.line(20,n,80,n),n+=8,e.setFont("times","normal"),e.setFontSize(10),e.setTextColor(r.r,r.g,r.b),t.customerName&&e.text(t.customerName,20,n),t.customerPhone&&(n+=5,e.text(t.customerPhone,20,n)),t.customerEmail&&(n+=5,e.text(t.customerEmail,20,n)),t.customerAddress){n+=5;const v=e.splitTextToSize(t.customerAddress,70);e.text(v,20,n)}n+=25;const D=[["Gold Cost","",`Rs. ${t.goldCost.toFixed(2)}`],["Diamond Cost","",`Rs. ${t.diamondCost.toFixed(2)}`],["Gemstone Cost","",`Rs. ${t.gemstoneCost.toFixed(2)}`],["Making Charges","",`Rs. ${t.makingCharges.toFixed(2)}`],["Design & CAD","",`Rs. ${t.cadDesignCharges.toFixed(2)}`],["Certification","",`Rs. ${t.certificationCost.toFixed(2)}`]];N(e,{startY:n,head:[["Description","","Amount"]],body:D,theme:"plain",styles:{font:"times",fontSize:10,textColor:[r.r,r.g,r.b]},headStyles:{fillColor:[i.r,i.g,i.b],textColor:[255,255,255],fontStyle:"bold",halign:"left"},columnStyles:{0:{cellWidth:80},1:{cellWidth:"auto"},2:{cellWidth:40,halign:"right"}},margin:{left:20,right:20}});const S=e.lastAutoTable.finalY+10;e.setDrawColor(i.r,i.g,i.b),e.setLineWidth(1.5),e.rect(o-90,S,70,20),e.setFontSize(14),e.setFont("times","bold"),e.setTextColor(r.r,r.g,r.b),e.text("TOTAL:",o-85,S+13),e.text(`Rs. ${t.finalSellingPrice.toFixed(2)}`,o-25,S+13,{align:"right"});const d=m-35;if(e.setFontSize(9),e.setFont("times","italic"),e.setTextColor(i.r,i.g,i.b),e.text("Payment Terms:",20,d),e.setFont("times","normal"),e.text(t.paymentTerms||"Net 30",20,d+5),t.invoiceNotes){e.text("Notes:",20,d+12);const v=e.splitTextToSize(t.invoiceNotes,o-45);e.text(v,20,d+17)}const T=`Invoice_${t.invoiceNumber.replace(/[^a-z0-9]/gi,"_")}_Traditional.pdf`;e.save(T)},ce=async t=>{var S,d,T,l,b,h;const e=new $,o=e.internal.pageSize.getWidth(),m=((S=t.vendorBranding)==null?void 0:S.primaryColor)||"#000000",c=((d=t.vendorBranding)==null?void 0:d.secondaryColor)||"#6366F1",g=u=>{const p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);return p?{r:parseInt(p[1],16),g:parseInt(p[2],16),b:parseInt(p[3],16)}:{r:0,g:0,b:0}},a=g(m),r=g(c);e.setDrawColor(r.r,r.g,r.b),e.setLineWidth(3),e.line(0,25,o,25),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text(((l=(T=t.vendorBranding)==null?void 0:T.name)==null?void 0:l.toUpperCase())||"JEWELERS",20,15),e.setFontSize(48),e.setFont("helvetica","bold"),e.setTextColor(a.r,a.g,a.b),e.text("INVOICE",20,50);let i=65;e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("NUMBER",20,i),e.setTextColor(a.r,a.g,a.b),e.text(t.invoiceNumber,55,i),i+=6,e.setTextColor(100,100,100),e.text("DATE",20,i),e.setTextColor(a.r,a.g,a.b),e.text(new Date(t.invoiceDate).toLocaleDateString(),55,i),t.paymentDueDate&&(i+=6,e.setTextColor(100,100,100),e.text("DUE",20,i),e.setTextColor(a.r,a.g,a.b),e.text(new Date(t.paymentDueDate).toLocaleDateString(),55,i)),i=65,t.customerName&&(e.setFontSize(9),e.setTextColor(100,100,100),e.text("BILL TO",o-20,i,{align:"right"}),i+=6,e.setTextColor(a.r,a.g,a.b),e.text(t.customerName,o-20,i,{align:"right"}),t.customerEmail&&(i+=5,e.setFontSize(8),e.text(t.customerEmail,o-20,i,{align:"right"}))),i+=25;const n=[["Gold & Metal Work",`Rs. ${t.goldCost.toFixed(2)}`],["Precious Stones",`Rs. ${(t.diamondCost+t.gemstoneCost).toFixed(2)}`],["Craftsmanship",`Rs. ${t.makingCharges.toFixed(2)}`],["Design & Finishing",`Rs. ${(t.cadDesignCharges+t.cammingCharges).toFixed(2)}`],["Certification",`Rs. ${t.certificationCost.toFixed(2)}`]];N(e,{startY:i,body:n,theme:"plain",styles:{fontSize:10,textColor:[a.r,a.g,a.b],cellPadding:{top:4,bottom:4,left:0,right:0}},columnStyles:{0:{cellWidth:130,fontStyle:"normal"},1:{cellWidth:50,halign:"right",fontStyle:"bold"}},margin:{left:20,right:20},didDrawCell:u=>{u.row.index<n.length-1&&(e.setDrawColor(230,230,230),e.setLineWidth(.1),e.line(u.cell.x,u.cell.y+u.cell.height,u.cell.x+u.cell.width,u.cell.y+u.cell.height))}});const x=e.lastAutoTable.finalY+15;e.setDrawColor(r.r,r.g,r.b),e.setLineWidth(2),e.line(20,x,o-20,x),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("TOTAL",20,x+10),e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(a.r,a.g,a.b),e.text(`Rs. ${t.finalSellingPrice.toFixed(2)}`,o-20,x+10,{align:"right"});const F=e.internal.pageSize.getHeight()-20;e.setFontSize(8),e.setTextColor(150,150,150),e.setFont("helvetica","normal"),(b=t.vendorBranding)!=null&&b.email&&e.text(t.vendorBranding.email,20,F),(h=t.vendorBranding)!=null&&h.phone&&e.text(t.vendorBranding.phone,o-20,F,{align:"right"});const D=`Invoice_${t.invoiceNumber.replace(/[^a-z0-9]/gi,"_")}_Modern.pdf`;e.save(D)},ae=async t=>{var S,d,T,l,b;const e=new $,o=e.internal.pageSize.getWidth(),m=e.internal.pageSize.getHeight(),c={r:25,g:20,b:40},g={r:212,g:175,b:55},a={r:250,g:248,b:240};e.setFillColor(a.r,a.g,a.b),e.rect(0,0,o,m,"F"),e.setFillColor(g.r,g.g,g.b),e.rect(0,0,o,8,"F"),e.setDrawColor(g.r,g.g,g.b),e.setLineWidth(1);const r=15;e.line(15,15,15+r,15),e.line(15,15,15,15+r),e.line(o-15,15,o-15-r,15),e.line(o-15,15,o-15,15+r),e.line(15,m-15,15+r,m-15),e.line(15,m-15,15,m-15-r),e.line(o-15,m-15,o-15-r,m-15),e.line(o-15,m-15,o-15,m-15-r);let i=35;if(e.setFontSize(28),e.setFont("times","bold"),e.setTextColor(c.r,c.g,c.b),e.text(((d=(S=t.vendorBranding)==null?void 0:S.name)==null?void 0:d.toUpperCase())||"PRESTIGE JEWELERS",o/2,i,{align:"center"}),(T=t.vendorBranding)!=null&&T.tagline&&(i+=8,e.setFontSize(10),e.setFont("times","italic"),e.setTextColor(g.r,g.g,g.b),e.text(t.vendorBranding.tagline,o/2,i,{align:"center"})),i+=10,e.setDrawColor(g.r,g.g,g.b),e.setLineWidth(.5),e.line(60,i,o-60,i),e.setFillColor(g.r,g.g,g.b),[70,o/2,o-70].forEach(h=>{e.circle(h,i,.8,"F")}),i+=12,e.setFontSize(20),e.setFont("times","bold"),e.setTextColor(c.r,c.g,c.b),e.text("INVOICE",o/2,i,{align:"center"}),i+=15,e.setFillColor(255,255,255),e.setDrawColor(g.r,g.g,g.b),e.setLineWidth(.5),e.rect(25,i,75,28,"FD"),e.setFontSize(9),e.setFont("times","bold"),e.setTextColor(g.r,g.g,g.b),e.text("INVOICE NO.",30,i+7),e.setFont("times","normal"),e.setTextColor(c.r,c.g,c.b),e.text(t.invoiceNumber,30,i+12),e.setFont("times","bold"),e.setTextColor(g.r,g.g,g.b),e.text("DATE",30,i+19),e.setFont("times","normal"),e.setTextColor(c.r,c.g,c.b),e.text(new Date(t.invoiceDate).toLocaleDateString(),30,i+24),e.setFillColor(255,255,255),e.rect(o-100,i,75,28,"FD"),e.setFont("times","bold"),e.setTextColor(g.r,g.g,g.b),e.text("ESTEEMED CLIENT",o-95,i+7),e.setFont("times","normal"),e.setTextColor(c.r,c.g,c.b),t.customerName&&e.text(t.customerName,o-95,i+13),t.customerPhone&&(e.setFontSize(8),e.text(t.customerPhone,o-95,i+18)),t.customerEmail){e.setFontSize(7);const h=e.splitTextToSize(t.customerEmail,70);e.text(h,o-95,i+23)}i+=40;const n=[["Fine Gold Workmanship",`Rs. ${t.goldCost.toFixed(2)}`],["Precious Diamond Selection",`Rs. ${t.diamondCost.toFixed(2)}`],["Gemstone Accents",`Rs. ${t.gemstoneCost.toFixed(2)}`],["Master Craftsmanship",`Rs. ${t.makingCharges.toFixed(2)}`],["Bespoke Design Services",`Rs. ${t.cadDesignCharges.toFixed(2)}`],["Finishing & Polish",`Rs. ${t.cammingCharges.toFixed(2)}`],["Authentication Certificate",`Rs. ${t.certificationCost.toFixed(2)}`]];N(e,{startY:i,body:n,theme:"plain",styles:{font:"times",fontSize:10,textColor:[c.r,c.g,c.b],cellPadding:{top:3,bottom:3}},columnStyles:{0:{cellWidth:130,fontStyle:"italic"},1:{cellWidth:45,halign:"right",fontStyle:"bold"}},margin:{left:25,right:25},didDrawCell:h=>{e.setDrawColor(g.r,g.g,g.b),e.setLineWidth(.1),e.line(h.cell.x,h.cell.y+h.cell.height,h.cell.x+h.cell.width,h.cell.y+h.cell.height)}});const x=e.lastAutoTable.finalY+15;e.setFillColor(c.r,c.g,c.b),e.rect(o-110,x,85,22,"F"),e.setFontSize(11),e.setFont("times","bold"),e.setTextColor(g.r,g.g,g.b),e.text("TOTAL INVESTMENT",o-105,x+8),e.setFontSize(18),e.setTextColor(255,255,255),e.text(`Rs. ${t.finalSellingPrice.toFixed(2)}`,o-105,x+17);const F=m-30;if(e.setDrawColor(g.r,g.g,g.b),e.setLineWidth(.3),e.line(25,F,o-25,F),e.setFontSize(8),e.setFont("times","italic"),e.setTextColor(g.r,g.g,g.b),e.text("Thank you for choosing exceptional luxury",o/2,F+6,{align:"center"}),(l=t.vendorBranding)!=null&&l.phone||(b=t.vendorBranding)!=null&&b.email){e.setFontSize(7),e.setTextColor(c.r,c.g,c.b);let h="";t.vendorBranding.phone&&(h+=t.vendorBranding.phone),t.vendorBranding.phone&&t.vendorBranding.email&&(h+=" | "),t.vendorBranding.email&&(h+=t.vendorBranding.email),e.text(h,o/2,F+12,{align:"center"})}const D=`Invoice_${t.invoiceNumber.replace(/[^a-z0-9]/gi,"_")}_Luxury.pdf`;e.save(D)};export{he as g};
//# sourceMappingURL=invoiceGenerator-N-SvGSBq.js.map
