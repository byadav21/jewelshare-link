{"version":3,"file":"LoginHistory-B_eFEPQA.js","sources":["../../src/pages/LoginHistory.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useUserRole } from \"@/hooks/useUserRole\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ArrowLeft, Search, Monitor, AlertTriangle, MapPin, Clock } from \"lucide-react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { format, formatDistanceToNow } from \"date-fns\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\n\r\nconst LoginHistory = () => {\r\n  const navigate = useNavigate();\r\n  const { isAdmin, loading: roleLoading } = useUserRole();\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [timeFilter, setTimeFilter] = useState<string>(\"all\");\r\n\r\n  // Fetch login sessions\r\n  const { data: sessions, isLoading } = useQuery({\r\n    queryKey: [\"login-history\"],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"user_sessions\")\r\n        .select(\"*\")\r\n        .order(\"last_activity\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n\r\n      // Get user emails from vendor profiles\r\n      const { data: profiles } = await supabase\r\n        .from(\"vendor_profiles\")\r\n        .select(\"user_id, business_name, email\");\r\n\r\n      const { data: approvals } = await supabase\r\n        .from(\"user_approval_status\")\r\n        .select(\"user_id, business_name, email\");\r\n\r\n      return data?.map((session: any) => ({\r\n        ...session,\r\n        profile: profiles?.find((p: any) => p.user_id === session.user_id),\r\n        approval: approvals?.find((a: any) => a.user_id === session.user_id),\r\n      }));\r\n    },\r\n    enabled: isAdmin,\r\n  });\r\n\r\n  // Detect suspicious activity\r\n  const detectSuspicious = (session: any): boolean => {\r\n    // Multiple sessions from same user in short time\r\n    const userSessions = sessions?.filter((s: any) => s.user_id === session.user_id);\r\n    if (userSessions && userSessions.length > 5) return true;\r\n\r\n    // Session from unusual location (simplified check)\r\n    // In real app, would check against historical IP patterns\r\n    return false;\r\n  };\r\n\r\n  // Filter sessions\r\n  const filteredSessions = useMemo(() => {\r\n    if (!sessions) return [];\r\n\r\n    let filtered = sessions;\r\n\r\n    // Time filter\r\n    if (timeFilter !== \"all\") {\r\n      const now = new Date();\r\n      const cutoff = new Date();\r\n\r\n      switch (timeFilter) {\r\n        case \"today\":\r\n          cutoff.setHours(0, 0, 0, 0);\r\n          break;\r\n        case \"week\":\r\n          cutoff.setDate(cutoff.getDate() - 7);\r\n          break;\r\n        case \"month\":\r\n          cutoff.setMonth(cutoff.getMonth() - 1);\r\n          break;\r\n      }\r\n\r\n      filtered = filtered.filter((s: any) => new Date(s.last_activity) >= cutoff);\r\n    }\r\n\r\n    // Search filter\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter((session: any) =>\r\n        session.profile?.business_name?.toLowerCase().includes(query) ||\r\n        session.profile?.email?.toLowerCase().includes(query) ||\r\n        session.approval?.email?.toLowerCase().includes(query) ||\r\n        session.ip_address?.toLowerCase().includes(query) ||\r\n        session.device_info?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    return filtered;\r\n  }, [sessions, searchQuery, timeFilter]);\r\n\r\n  // Get stats\r\n  const stats = useMemo(() => {\r\n    const uniqueUsers = new Set(sessions?.map((s: any) => s.user_id)).size;\r\n    const suspiciousCount = sessions?.filter((s: any) => detectSuspicious(s)).length || 0;\r\n    const activeToday = sessions?.filter((s: any) => {\r\n      const lastActivity = new Date(s.last_activity);\r\n      const today = new Date();\r\n      return lastActivity.toDateString() === today.toDateString();\r\n    }).length || 0;\r\n\r\n    return {\r\n      totalSessions: sessions?.length || 0,\r\n      uniqueUsers,\r\n      suspiciousCount,\r\n      activeToday,\r\n    };\r\n  }, [sessions]);\r\n\r\n  if (roleLoading) {\r\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    navigate(\"/\");\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6 space-y-6\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <Button variant=\"ghost\" onClick={() => navigate(\"/super-admin\")}>\r\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n          Back to Dashboard\r\n        </Button>\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold flex items-center gap-2\">\r\n            <Monitor className=\"h-8 w-8\" />\r\n            Login History\r\n          </h1>\r\n          <p className=\"text-muted-foreground mt-1\">Monitor vendor login activity and sessions</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Sessions</CardTitle>\r\n            <Monitor className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{stats.totalSessions}</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Unique Users</CardTitle>\r\n            <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{stats.uniqueUsers}</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Active Today</CardTitle>\r\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{stats.activeToday}</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Suspicious Activity</CardTitle>\r\n            <AlertTriangle className=\"h-4 w-4 text-destructive\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-destructive\">{stats.suspiciousCount}</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"Search by business name, email, IP, or device...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <Select value={timeFilter} onValueChange={setTimeFilter}>\r\n              <SelectTrigger className=\"w-full md:w-[200px]\">\r\n                <SelectValue placeholder=\"Time period\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">All Time</SelectItem>\r\n                <SelectItem value=\"today\">Today</SelectItem>\r\n                <SelectItem value=\"week\">Last 7 Days</SelectItem>\r\n                <SelectItem value=\"month\">Last 30 Days</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Sessions Table */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Login Sessions</CardTitle>\r\n          <CardDescription>\r\n            View all login sessions with device and location information\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {isLoading ? (\r\n            <div className=\"text-center py-8\">Loading sessions...</div>\r\n          ) : filteredSessions.length === 0 ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">No sessions found</div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead>User</TableHead>\r\n                    <TableHead>Last Activity</TableHead>\r\n                    <TableHead>IP Address</TableHead>\r\n                    <TableHead>Device</TableHead>\r\n                    <TableHead>Status</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {filteredSessions.map((session: any) => {\r\n                    const isSuspicious = detectSuspicious(session);\r\n                    return (\r\n                      <TableRow key={session.id}>\r\n                        <TableCell>\r\n                          <div>\r\n                            <div className=\"font-medium\">\r\n                              {session.profile?.business_name ||\r\n                                session.approval?.business_name ||\r\n                                \"Unknown\"}\r\n                            </div>\r\n                            <div className=\"text-sm text-muted-foreground\">\r\n                              {session.profile?.email || session.approval?.email || \"N/A\"}\r\n                            </div>\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <div className=\"text-sm\">\r\n                            <div>\r\n                              {formatDistanceToNow(new Date(session.last_activity), {\r\n                                addSuffix: true,\r\n                              })}\r\n                            </div>\r\n                            <div className=\"text-xs text-muted-foreground\">\r\n                              {format(new Date(session.last_activity), \"MMM dd, yyyy HH:mm\")}\r\n                            </div>\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell className=\"font-mono text-sm\">\r\n                          {session.ip_address || \"N/A\"}\r\n                        </TableCell>\r\n                        <TableCell className=\"max-w-xs truncate text-sm\">\r\n                          {session.device_info || \"Unknown device\"}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {isSuspicious ? (\r\n                            <Badge variant=\"destructive\" className=\"flex items-center gap-1 w-fit\">\r\n                              <AlertTriangle className=\"h-3 w-3\" />\r\n                              Suspicious\r\n                            </Badge>\r\n                          ) : (\r\n                            <Badge variant=\"secondary\">Normal</Badge>\r\n                          )}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginHistory;\r\n"],"names":["LoginHistory","navigate","useNavigate","isAdmin","roleLoading","useUserRole","searchQuery","setSearchQuery","useState","timeFilter","setTimeFilter","sessions","isLoading","useQuery","data","error","supabase","profiles","approvals","session","p","a","detectSuspicious","userSessions","s","filteredSessions","useMemo","filtered","cutoff","query","_b","_a","_d","_c","_f","_e","_g","_h","stats","uniqueUsers","suspiciousCount","activeToday","lastActivity","today","jsx","jsxs","Button","ArrowLeft","Monitor","Card","CardHeader","CardTitle","CardContent","MapPin","Clock","AlertTriangle","Search","Input","e","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","CardDescription","Table","TableHeader","TableRow","TableHead","TableBody","isSuspicious","TableCell","formatDistanceToNow","format","Badge"],"mappings":"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"}