import{j as e}from"./query-vendor-BLxHmmGk.js";import{r as n,u as ye}from"./react-vendor-BeR0k5Z3.js";import{A as me,z as i,B as h,C as T,F as le,G as M,H as O,I as q,D as _,T as _e}from"./index-DGlTgSKx.js";import{L as $}from"./label-ClRcubO_.js";import{I as ne}from"./input-CEHl5GoJ.js";import{S as W,a as J,b as Y,c as Z,d as Q}from"./select-CQfvDDtS.js";import{X as xe,b as w,d as X,af as K,A as je,Z as de,_ as Re,x as ve,ag as Ve,ah as Be,D as P,R as Ge,k as fe,ai as ce,aj as Ue,t as He,v as Oe,ak as qe,al as We,ae as Je,u as m}from"./ui-vendor-CN4tOqpp.js";import{c as V,A as oe,p as Ye}from"./celebrationSounds-B5SlMCHO.js";import{S as R}from"./ScrollReveal-Cik8ssSz.js";import{T as Ze,a as Qe,b as Ne,c as be}from"./tabs-DfoelxW9.js";import{B as v}from"./badge-DknkzE8c.js";import{S as Xe}from"./separator-C73YyUTd.js";import{E as Ke,a as es}from"./jspdf.plugin.autotable-DkGJWiqm.js";import{D as ss,b as as,c as ts,d as rs,e as is}from"./dialog-CRWggOUB.js";import{A as ls,a as ns}from"./alert-B0m9J_BT.js";import{B as cs}from"./BackToHomeButton-Dxc739pt.js";import{H as os}from"./Header-B5-jxlpW.js";import{F as ds}from"./Footer-BK7nFY-c.js";import"./supabase-vendor-VSDMYZ1k.js";import"./index-BdQq_4o_.js";import"./index-BC78nHQ6.js";import"./index-aqCwQlp3.js";import"./index-DjQc2W_p.js";import"./index-XJCymQHf.js";import"./index-CVwUD2ep.js";import"./sheet-Cln3_CyD.js";const ms=({remainingCalculations:l,totalLimit:c})=>{const[g,x]=n.useState(!1),C=ye(),b=(c-l)/c*100;return e.jsxs(e.Fragment,{children:[e.jsx(me,{children:e.jsx(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsxs(ls,{className:`relative overflow-hidden border-2 ${l===0?"border-destructive/50 bg-destructive/5":l<=2?"border-orange-500/50 bg-orange-500/5":"border-primary/50 bg-primary/5"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/5 to-transparent animate-pulse"}),e.jsxs("div",{className:"relative flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-[200px]",children:[e.jsx(i.div,{animate:{rotate:l<=2?[0,-10,10,-10,0]:0},transition:{duration:.5,repeat:l<=2?1/0:0,repeatDelay:2},children:l===0?e.jsx(xe,{className:"h-5 w-5 text-destructive"}):e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsx(ns,{className:"m-0",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"font-semibold",children:l===0?e.jsx("span",{className:"text-destructive",children:"Daily Limit Reached!"}):e.jsxs("span",{children:[l," calculation",l!==1?"s":""," remaining today"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx(i.div,{className:`h-full ${l===0?"bg-destructive":l<=2?"bg-orange-500":"bg-primary"}`,initial:{width:0},animate:{width:`${b}%`},transition:{duration:.5}})}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[c-l,"/",c," used"]})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"group",children:["Compare Plans",e.jsx(X,{className:"ml-1 h-4 w-4 group-hover:translate-x-0.5 transition-transform"})]}),e.jsxs(h,{size:"sm",onClick:()=>C("/auth"),className:"group bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",children:[e.jsx(K,{className:"mr-1 h-4 w-4"}),"Sign In for Unlimited",e.jsx(je,{className:"ml-1 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]})]})})}),e.jsx(ss,{open:g,onOpenChange:x,children:e.jsxs(as,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ts,{children:[e.jsxs(rs,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(de,{className:"h-6 w-6 text-primary"}),"Choose Your Diamond Calculator Experience"]}),e.jsx(is,{children:"Compare features and choose what works best for you"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsx(T,{className:"p-6 h-full border-2 border-muted hover:border-muted-foreground/20 transition-colors",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(v,{variant:"outline",className:"mb-3",children:"Guest Access"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Free"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Try before you commit"})]}),e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"text-3xl font-bold",children:["5",e.jsx("span",{className:"text-lg text-muted-foreground",children:"/day"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{included:!0,text:"Basic diamond price calculations"}),e.jsx(d,{included:!0,text:"4Cs specifications (Carat, Color, Clarity, Cut)"}),e.jsx(d,{included:!0,text:"Price adjustments (discount/markup)"}),e.jsx(d,{included:!0,text:"Compare up to 4 diamonds"}),e.jsx(d,{included:!1,text:"Unlimited calculations"}),e.jsx(d,{included:!1,text:"Save calculation history"}),e.jsx(d,{included:!1,text:"Export unlimited comparisons"}),e.jsx(d,{included:!1,text:"Priority support"})]})]}),e.jsx(h,{variant:"outline",className:"w-full mt-6",disabled:!0,children:"Current Plan"})]})})}),e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(T,{className:"p-6 h-full border-2 border-primary bg-gradient-to-br from-primary/5 via-transparent to-primary/5 shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0",children:e.jsxs(v,{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground",children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),"Recommended"]})}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-4 mt-6",children:[e.jsxs(v,{variant:"default",className:"mb-3 bg-gradient-to-r from-primary to-primary/80",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),"Full Access"]}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Unlimited"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Professional diamond pricing tools"})]}),e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"text-3xl font-bold flex items-baseline gap-2",children:[e.jsx("span",{className:"text-primary",children:"∞"}),e.jsx("span",{className:"text-lg text-muted-foreground",children:"unlimited"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{included:!0,text:"Unlimited diamond calculations",highlight:!0}),e.jsx(d,{included:!0,text:"All 4Cs specifications",highlight:!0}),e.jsx(d,{included:!0,text:"Advanced price adjustments",highlight:!0}),e.jsx(d,{included:!0,text:"Compare unlimited diamonds",highlight:!0}),e.jsx(d,{included:!0,text:"Save calculation history",highlight:!0}),e.jsx(d,{included:!0,text:"Export all comparisons as PDF",highlight:!0}),e.jsx(d,{included:!0,text:"Access to all platform features",highlight:!0}),e.jsx(d,{included:!0,text:"Priority support",highlight:!0})]})]}),e.jsxs(h,{className:"w-full mt-6 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 group",onClick:()=>{x(!1),C("/auth")},children:[e.jsx(Re,{className:"mr-2 h-4 w-4"}),"Sign In Now",e.jsx(je,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"Free to sign up • No credit card required"})]})]})})]})]})})]})},d=({included:l,text:c,highlight:g})=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`mt-0.5 ${l?"text-primary":"text-muted-foreground"}`,children:l?e.jsx(ve,{className:"h-4 w-4"}):e.jsx(xe,{className:"h-4 w-4"})}),e.jsx("span",{className:`text-sm ${l?g?"font-medium":"":"text-muted-foreground line-through"}`,children:c})]}),xs=({show:l,onClose:c})=>{const[g,x]=n.useState(0);n.useEffect(()=>{if(l){const j=Date.now()+3e3,y={startVelocity:30,spread:360,ticks:60,zIndex:9999},A=(N,F)=>Math.random()*(F-N)+N,k=setInterval(()=>{const N=j-Date.now();if(N<=0){clearInterval(k);return}const F=50*(N/3e3);V({...y,particleCount:F,origin:{x:A(.1,.3),y:Math.random()-.2},colors:["#FFD700","#FFA500","#FF6347","#9370DB","#00CED1"]}),V({...y,particleCount:F,origin:{x:A(.7,.9),y:Math.random()-.2},colors:["#FFD700","#FFA500","#FF6347","#9370DB","#00CED1"]})},250),E=setTimeout(()=>x(1),800),D=setTimeout(()=>x(2),1600),L=setTimeout(()=>x(3),2400);return()=>{clearInterval(k),clearTimeout(E),clearTimeout(D),clearTimeout(L)}}},[l]);const C=[{Icon:Be,text:"Unlimited calculations",color:"text-primary"},{Icon:de,text:"Compare unlimited diamonds",color:"text-orange-500"},{Icon:K,text:"Save calculation history",color:"text-yellow-500"},{Icon:w,text:"Export all comparisons",color:"text-purple-500"}];return e.jsx(me,{children:l&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9998] flex items-center justify-center bg-background/80 backdrop-blur-sm",onClick:c,children:e.jsx(i.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",duration:.5},onClick:b=>b.stopPropagation(),children:e.jsxs(T,{className:"relative overflow-hidden border-2 border-primary shadow-2xl max-w-md mx-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-purple-500/10 to-orange-500/10 animate-pulse"}),e.jsx(i.div,{className:"absolute top-4 left-4",animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:2,repeat:999999,ease:"easeInOut"},children:e.jsx(w,{className:"h-6 w-6 text-yellow-500"})}),e.jsx(i.div,{className:"absolute top-4 right-4",animate:{rotate:[360,0],scale:[1,1.2,1]},transition:{duration:2,repeat:999999,ease:"easeInOut",delay:1},children:e.jsx(w,{className:"h-6 w-6 text-purple-500"})}),e.jsxs("div",{className:"relative p-8 text-center space-y-6",children:[e.jsx(i.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(i.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:999999,ease:"easeInOut"},className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary via-purple-500 to-orange-500 flex items-center justify-center",children:e.jsx(Ve,{className:"h-10 w-10 text-white"})}),e.jsx(i.div,{className:"absolute -inset-2 rounded-full border-4 border-primary/30",animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:999999,ease:"easeInOut"}})]})}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs(v,{className:"mb-3 bg-gradient-to-r from-primary to-purple-500 text-white",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),"Unlimited Access Unlocked!"]}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-primary via-purple-500 to-orange-500 bg-clip-text text-transparent",children:"Welcome Back!"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"You now have unlimited access to all diamond calculator features"})]}),e.jsx("div",{className:"space-y-3",children:C.map((b,j)=>{const y=b.Icon;return e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:g>j?1:.3,x:g>j?0:-20,scale:g===j+1?[1,1.05,1]:1},transition:{delay:.6+j*.1,scale:{duration:.3}},className:`flex items-center gap-3 p-3 rounded-lg border transition-all duration-300 ${g>j?"border-primary/50 bg-primary/5":"border-muted bg-muted/30"}`,children:[e.jsx("div",{className:`${b.color}`,children:e.jsx(y,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-sm font-medium ${g>j?"text-foreground":"text-muted-foreground"}`,children:b.text}),g>j&&e.jsx(i.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:e.jsx(ve,{className:"h-4 w-4 text-primary"})})]},j)})}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:e.jsxs(h,{onClick:c,className:"w-full bg-gradient-to-r from-primary via-purple-500 to-orange-500 hover:from-primary/90 hover:via-purple-500/90 hover:to-orange-500/90 text-white font-semibold group",children:["Start Calculating",e.jsx(de,{className:"ml-2 h-4 w-4 group-hover:rotate-12 transition-transform"})]})})]})]})})})})},Rs=()=>{const l=ye(),[c,g]=n.useState(!1),[x,C]=n.useState(0),[b,j]=n.useState(!1),[y,A]=n.useState(""),[k,E]=n.useState(""),[D,L]=n.useState(""),[N,F]=n.useState(""),[B,ee]=n.useState(""),[I,ue]=n.useState("discount"),[z,se]=n.useState(""),[G,pe]=n.useState(!1),[o,ae]=n.useState(null),[t,te]=n.useState([]),[U,we]=n.useState(!0),Ce=n.useCallback(()=>{const s=["#60a5fa","#a78bfa","#f472b6","#fbbf24","#ffffff"];V({particleCount:80,spread:70,origin:{y:.6,x:.5},colors:s,shapes:["star","circle"],scalar:1.2}),setTimeout(()=>{V({particleCount:40,angle:60,spread:55,origin:{x:.3,y:.65},colors:s,shapes:["star"]}),V({particleCount:40,angle:120,spread:55,origin:{x:.7,y:.65},colors:s,shapes:["star"]})},150)},[]);n.useEffect(()=>{(async()=>{const{data:{session:p}}=await le.auth.getSession();g(!!p)})();const{data:{subscription:r}}=le.auth.onAuthStateChange((p,f)=>{const S=!c;g(!!f),p==="SIGNED_IN"&&f&&S&&setTimeout(()=>j(!0),500)});return()=>r.unsubscribe()},[c]),n.useEffect(()=>{if(!c){const s=new Date().toDateString(),r=localStorage.getItem("diamond_calculator_usage");if(r){const{date:p,count:f}=JSON.parse(r);p===s?C(f):(localStorage.setItem("diamond_calculator_usage",JSON.stringify({date:s,count:0})),C(0))}else localStorage.setItem("diamond_calculator_usage",JSON.stringify({date:s,count:0})),C(0)}},[c]);const Se=()=>{if(!c){const s=new Date().toDateString(),r=x+1;localStorage.setItem("diamond_calculator_usage",JSON.stringify({date:s,count:r})),C(r)}},he=()=>c?!0:x>=5?(m.error("Daily limit reached. Please sign in for unlimited calculations.",{action:{label:"Sign In",onClick:()=>window.location.href="/auth"}}),!1):!0,u=n.useMemo(()=>{if(!z.trim())return 0;const s=z.trim();if(s.includes("/")){const[p,f]=s.split("/").map(S=>parseFloat(S.trim()));return!isNaN(p)&&!isNaN(f)&&f!==0?Math.min(100,Math.max(0,p/f*100)):0}const r=parseFloat(s.replace("%",""));return isNaN(r)?0:Math.min(100,Math.max(0,r))},[z]),Pe=["Round","Princess","Cushion","Emerald","Oval","Radiant","Asscher","Marquise","Heart","Pear"],ke=["D","E","F","G","H","I","J","K","L","M","N"],De=["IF","VVS1","VVS2","VS1","VS2","SI1","SI2","SI3","I1","I2","I3"],Fe=["Excellent"],Ie=()=>{A("0.20"),E("Round"),L("D"),F("IF"),ee("Excellent"),m.info("Sample data loaded - click Calculate to test")},Te=async()=>{if(!he())return;if(!y||!k||!D||!N||!B){m.error("Please fill in all fields");return}const s=parseFloat(y);if(isNaN(s)||s<=0){m.error("Please enter a valid carat weight");return}pe(!0);try{const r=k==="Round"?"Round":"Pear",{data:p,error:f}=await le.from("diamond_prices").select("*").eq("shape",r).eq("color_grade",D).eq("clarity_grade",N).eq("cut_grade","Excellent").lte("carat_range_min",s).gte("carat_range_max",s).maybeSingle();if(f)throw f;if(!p){m.error(`No pricing data found for ${r} diamonds with these specifications (${D}/${N}, ${s}ct). Please contact admin to add pricing data.`,{duration:5e3}),ae(null);return}const S=Number(p.price_per_carat),a=S*s;ae({pricePerCarat:S,totalPrice:a,currency:p.currency}),Ce(),U&&Ye(),Se(),m.success("Price calculated successfully!")}catch(r){console.error("Error calculating price:",r),m.error("Failed to calculate price")}finally{pe(!1)}},Ae=()=>{if(!he())return;if(!o){m.error("Calculate a price first before adding to comparison");return}if(t.length>=4){m.error("Maximum 4 diamonds can be compared at once");return}const s=u>0?I==="discount"?o.totalPrice*(1-u/100):o.totalPrice*(1+u/100):o.totalPrice,r={id:Date.now().toString(),specs:{carat:y,shape:k,color:D,clarity:N,cut:B},result:o,adjustmentType:I,adjustmentPercentage:u,finalPrice:Math.round(s)};te([...t,r]),m.success("Added to comparison")},$e=s=>{te(t.filter(r=>r.id!==s)),m.success("Removed from comparison")},Ee=()=>{te([]),m.success("Comparison cleared")},Le=()=>{if(t.length===0){m.error("No diamonds to export");return}try{const s=new Ke,r=s.internal.pageSize.width;s.setFontSize(20),s.setTextColor(40,40,40),s.text("Diamond Comparison Report",r/2,20,{align:"center"}),s.setFontSize(10),s.setTextColor(100,100,100),s.text(`Generated on ${new Date().toLocaleDateString()}`,r/2,28,{align:"center"});const p=["Specification",...t.map((a,H)=>`Option ${H+1}`)],f=[["Carat Weight",...t.map(a=>a.specs.carat)],["Shape",...t.map(a=>a.specs.shape)],["Color Grade",...t.map(a=>a.specs.color)],["Clarity Grade",...t.map(a=>a.specs.clarity)],["Cut Grade",...t.map(a=>a.specs.cut)],["",...Array(t.length).fill("")],["Price/Carat",...t.map(a=>`${a.result.currency} ${a.result.pricePerCarat.toLocaleString()}`)],["Base Price",...t.map(a=>`${a.result.currency} ${a.result.totalPrice.toLocaleString()}`)],["Adjustment",...t.map(a=>a.adjustmentPercentage>0?`${a.adjustmentPercentage.toFixed(1)}% ${a.adjustmentType}`:"None")],["Final Price",...t.map(a=>`${a.result.currency} ${a.finalPrice.toLocaleString()}`)]];if(es(s,{startY:35,head:[p],body:f,theme:"grid",headStyles:{fillColor:[66,66,66],textColor:[255,255,255],fontStyle:"bold",halign:"center"},bodyStyles:{halign:"center"},columnStyles:{0:{halign:"left",fontStyle:"bold"}},alternateRowStyles:{fillColor:[245,245,245]}}),t.length>1){const a=s.lastAutoTable.finalY+10;s.setFontSize(14),s.setTextColor(40,40,40),s.text("Quick Summary",14,a);const H=Math.min(...t.map(ie=>ie.finalPrice)),ge=Math.max(...t.map(ie=>ie.finalPrice)),Me=ge-H,re=t[0].result.currency;s.setFontSize(10),s.setTextColor(60,60,60),s.text(`Lowest Price: ${re} ${H.toLocaleString()}`,14,a+8),s.text(`Highest Price: ${re} ${ge.toLocaleString()}`,14,a+14),s.text(`Price Difference: ${re} ${Me.toLocaleString()}`,14,a+20)}const S=s.getNumberOfPages();s.setFontSize(8),s.setTextColor(150,150,150);for(let a=1;a<=S;a++)s.setPage(a),s.text(`Page ${a} of ${S}`,r/2,s.internal.pageSize.height-10,{align:"center"});s.save(`diamond-comparison-${new Date().getTime()}.pdf`),m.success("PDF exported successfully!")}catch(s){console.error("PDF export error:",s),m.error("Failed to export PDF")}},ze=()=>{A(""),E(""),L(""),F(""),ee(""),se(""),ue("discount"),ae(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background/95 to-background/90",children:[e.jsx(os,{}),e.jsx(xs,{show:b,onClose:()=>j(!1)}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"mb-4",children:e.jsx(cs,{})}),e.jsx(R,{children:e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-block mb-3 md:mb-4",children:e.jsx(P,{className:"h-12 w-12 md:h-16 md:w-16 text-primary mx-auto"})}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-primary via-primary/80 to-primary bg-clip-text text-transparent px-4",children:"Diamond Price Calculator"}),e.jsx("p",{className:"text-base md:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:"Get instant estimates based on the 4Cs"}),e.jsxs(h,{variant:"outline",className:"mt-4 gap-2",onClick:()=>l("/diamond-sizing-chart"),children:[e.jsx(Ge,{className:"h-4 w-4"}),"View Diamond Sizing Chart"]})]})}),!c&&e.jsx(R,{delay:.05,children:e.jsx("div",{className:"max-w-6xl mx-auto mb-6",children:e.jsx(ms,{remainingCalculations:5-x,totalLimit:5})})}),e.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsx(R,{delay:.1,className:"lg:col-span-2",children:e.jsxs(T,{className:"shadow-xl border-2 border-primary/20 hover:border-primary/40 transition-all duration-300 bg-gradient-to-br from-card via-card to-primary/5",children:[e.jsx(M,{className:"border-b border-border/50 bg-gradient-to-r from-primary/5 to-transparent p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(O,{className:"flex items-center gap-2 text-lg md:text-2xl",children:[e.jsx(fe,{className:"h-5 w-5 md:h-6 md:w-6 text-primary"}),"Diamond Specs"]}),e.jsx(q,{className:"mt-1 md:mt-2 text-sm",children:"Enter the 4Cs to calculate value"})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(P,{className:"h-8 w-8 md:h-12 md:w-12 text-primary/20"}),!c&&e.jsxs(v,{variant:x>=5?"destructive":x>=3?"secondary":"outline",className:"text-xs",children:[x,"/5"]})]})]})}),e.jsxs(_,{className:"space-y-4 md:space-y-6 p-4 md:p-6",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs($,{htmlFor:"carat",className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"Carat Weight"]}),e.jsx(ne,{id:"carat",type:"number",step:"0.01",min:"0.01",placeholder:"e.g., 1.50",value:y,onChange:s=>A(s.target.value),className:"text-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"shape",className:"text-sm font-semibold",children:"Shape"}),e.jsxs(W,{value:k,onValueChange:E,children:[e.jsx(J,{id:"shape",children:e.jsx(Y,{placeholder:"Select shape"})}),e.jsx(Z,{children:Pe.map(s=>e.jsx(Q,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"color",className:"text-sm font-semibold",children:"Color Grade"}),e.jsxs(W,{value:D,onValueChange:L,children:[e.jsx(J,{id:"color",children:e.jsx(Y,{placeholder:"Select color"})}),e.jsx(Z,{children:ke.map(s=>e.jsx(Q,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"clarity",className:"text-sm font-semibold",children:"Clarity Grade"}),e.jsxs(W,{value:N,onValueChange:F,children:[e.jsx(J,{id:"clarity",children:e.jsx(Y,{placeholder:"Select clarity"})}),e.jsx(Z,{children:De.map(s=>e.jsx(Q,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"cut",className:"text-sm font-semibold",children:"Cut Grade"}),e.jsxs(W,{value:B,onValueChange:ee,children:[e.jsx(J,{id:"cut",children:e.jsx(Y,{placeholder:"Select cut"})}),e.jsx(Z,{children:Fe.map(s=>e.jsx(Q,{value:s,children:s},s))})]})]})]}),e.jsx("div",{className:"border-t border-border/50 pt-4 md:pt-6",children:e.jsxs(Ze,{value:I,onValueChange:s=>ue(s),children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-3",children:[e.jsx($,{className:"text-sm font-semibold",children:"Price Adjustment"}),e.jsxs(Qe,{className:"grid w-full sm:w-[200px] grid-cols-2",children:[e.jsxs(Ne,{value:"discount",className:"flex items-center gap-1 text-xs sm:text-sm",children:[e.jsx(ce,{className:"h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Discount"}),e.jsx("span",{className:"sm:hidden",children:"-"})]}),e.jsxs(Ne,{value:"markup",className:"flex items-center gap-1 text-xs sm:text-sm",children:[e.jsx(X,{className:"h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Markup"}),e.jsx("span",{className:"sm:hidden",children:"+"})]})]})]}),e.jsx(be,{value:"discount",className:"mt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{placeholder:"Enter discount: 50, 50%, 1/2, 3/4",value:z,onChange:s=>se(s.target.value),className:"text-lg"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{variant:"secondary",className:"text-xs",children:u>0?`${u.toFixed(1)}% discount`:"No discount"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepts percentages or fractions"})]})]})}),e.jsx(be,{value:"markup",className:"mt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{placeholder:"Enter markup: 20, 20%, 1/5, 1/4",value:z,onChange:s=>se(s.target.value),className:"text-lg"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{variant:"secondary",className:"text-xs",children:u>0?`${u.toFixed(1)}% markup`:"No markup"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepts percentages or fractions"})]})]})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-border/50",children:[e.jsxs(h,{onClick:Te,disabled:G,size:"lg",className:"flex-1 text-lg font-semibold shadow-lg",children:[e.jsx(fe,{className:"h-5 w-5 mr-2"}),G?"Calculating...":"Calculate Price"]}),e.jsxs(h,{onClick:Ie,variant:"secondary",disabled:G,size:"lg",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Test"]}),e.jsx(h,{onClick:ze,variant:"outline",disabled:G,size:"lg",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(h,{onClick:()=>we(!U),variant:"outline",size:"lg",title:U?"Mute celebration sound":"Enable celebration sound",children:U?e.jsx(He,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})})]})]})]})}),e.jsx(R,{delay:.2,children:e.jsxs(T,{className:"shadow-xl border-2 border-primary/20 bg-gradient-to-br from-card via-primary/5 to-card sticky top-24",children:[e.jsxs(M,{className:"border-b border-border/50 bg-gradient-to-r from-primary/10 to-transparent",children:[e.jsxs(O,{className:"flex items-center gap-2 text-xl",children:[e.jsx(w,{className:"h-6 w-6 text-primary"}),"Estimated Value"]}),e.jsx(q,{children:"Based on current market rates"})]}),e.jsx(_,{className:"pt-6",children:o?e.jsxs(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent rounded-xl p-6 space-y-5 border border-primary/20",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-medium",children:"Price per Carat"}),e.jsxs("p",{className:"text-3xl font-bold flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg text-muted-foreground",children:o.currency}),e.jsx(oe,{end:o.pricePerCarat})]})]}),e.jsxs("div",{className:"border-t border-primary/20 pt-5",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-medium mb-2",children:"Base Total Price"}),e.jsxs("p",{className:"text-5xl font-bold bg-gradient-to-r from-primary via-primary/80 to-primary/60 bg-clip-text text-transparent flex items-baseline gap-2",children:[e.jsx("span",{className:"text-xl opacity-80",children:o.currency}),e.jsx(oe,{end:o.totalPrice})]})]}),u>0&&e.jsxs("div",{className:"border-t border-primary/20 pt-5 bg-gradient-to-r from-green-500/10 to-blue-500/10 -m-6 mt-5 p-6 rounded-b-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I==="discount"?e.jsx(ce,{className:"h-5 w-5 text-green-600"}):e.jsx(X,{className:"h-5 w-5 text-blue-600"}),e.jsxs("p",{className:"text-sm font-semibold uppercase tracking-wide",children:["After ",u.toFixed(1),"% ",I]})]}),e.jsxs("p",{className:`text-4xl font-bold ${I==="discount"?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400"} flex items-baseline gap-2`,children:[e.jsx("span",{className:"text-lg",children:o.currency}),e.jsx(oe,{end:Math.round(I==="discount"?o.totalPrice*(1-u/100):o.totalPrice*(1+u/100))})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2 flex items-center gap-2",children:I==="discount"?e.jsx(e.Fragment,{children:e.jsxs(v,{variant:"secondary",className:"bg-green-500/20 text-green-700 dark:text-green-300",children:["Save ",o.currency," ",Math.round(o.totalPrice*(u/100)).toLocaleString()]})}):e.jsx(e.Fragment,{children:e.jsxs(v,{variant:"secondary",className:"bg-blue-500/20 text-blue-700 dark:text-blue-300",children:["+",o.currency," ",Math.round(o.totalPrice*(u/100)).toLocaleString()]})})})]})]}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 border border-border/50",children:[e.jsxs("p",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-primary"}),"Diamond Summary"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Weight"}),e.jsxs("p",{className:"font-medium",children:[y," Carat"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Shape"}),e.jsx("p",{className:"font-medium",children:k})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Color"}),e.jsx("p",{className:"font-medium",children:D})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Clarity"}),e.jsx("p",{className:"font-medium",children:N})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:"Cut"}),e.jsx("p",{className:"font-medium",children:B})]})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center leading-relaxed bg-muted/20 rounded p-3",children:[e.jsx("strong",{children:"Disclaimer:"})," This is an estimate based on available market data. Actual prices may vary based on market conditions, certifications, and specific diamond characteristics."]}),e.jsxs(h,{onClick:Ae,variant:"outline",size:"lg",className:"w-full mt-4",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Add to Comparison (",t.length,"/4)"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx(i.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:e.jsx(P,{className:"h-28 w-28 text-primary/20 mb-6"})}),e.jsx("p",{className:"text-muted-foreground max-w-[200px] text-sm",children:"Enter your diamond specifications to see the estimated value"})]})})]})})]}),e.jsx(R,{delay:.3,children:e.jsx("div",{className:"mt-12 max-w-6xl mx-auto",children:e.jsxs(T,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/30 shadow-xl",children:[e.jsxs(M,{className:"text-center border-b border-primary/20 pb-6",children:[e.jsxs(O,{className:"text-2xl flex items-center justify-center gap-2",children:[e.jsx(w,{className:"h-6 w-6 text-primary"}),"Understanding the 4Cs of Diamonds"]}),e.jsx(q,{className:"text-base mt-2",children:"Learn what determines a diamond's value and quality"})]}),e.jsxs(_,{className:"grid md:grid-cols-2 gap-8 pt-8",children:[e.jsxs(i.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(P,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Carat Weight"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"The weight of the diamond, where 1 carat equals 200 milligrams. Larger diamonds are rarer and typically more valuable per carat."})]}),e.jsxs(i.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Color"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Graded from D (colorless) to Z (light color). D-F grades are considered colorless and most valuable, showing no visible color tint."})]}),e.jsxs(i.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(P,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Clarity"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Measures internal and external imperfections (inclusions and blemishes). FL (Flawless) is the highest grade, with no inclusions visible under 10x magnification."})]}),e.jsxs(i.div,{className:"space-y-3 p-5 rounded-lg bg-card border border-border/50 hover:border-primary/30 transition-all",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-bold text-lg",children:"Cut"})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Evaluates how well the diamond reflects light and creates brilliance. An Excellent cut grade maximizes the diamond's sparkle and fire."})]})]})]})})}),e.jsx(me,{children:t.length>0&&e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-12 max-w-6xl mx-auto",children:e.jsxs(T,{className:"shadow-xl border-2 border-primary/30 bg-gradient-to-br from-card via-primary/5 to-card",children:[e.jsx(M,{className:"border-b border-border/50 bg-gradient-to-r from-primary/10 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs(O,{className:"flex items-center gap-2 text-2xl",children:[e.jsx(We,{className:"h-6 w-6 text-primary"}),"Diamond Comparison"]}),e.jsx(q,{className:"mt-2",children:"Compare up to 4 diamond specifications side-by-side"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{onClick:Le,variant:"default",size:"sm",className:"gap-2",children:[e.jsx(Je,{className:"h-4 w-4"}),"Export PDF"]}),e.jsx(h,{onClick:Ee,variant:"outline",size:"sm",children:"Clear All"})]})]})}),e.jsxs(_,{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((s,r)=>e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:r*.1},className:"relative",children:e.jsxs(T,{className:"border-2 border-primary/20 hover:border-primary/40 transition-all bg-gradient-to-br from-card to-primary/5",children:[e.jsx(h,{onClick:()=>$e(s.id),variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90 z-10",children:e.jsx(xe,{className:"h-3 w-3"})}),e.jsx(M,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",className:"text-xs",children:["Option ",r+1]}),e.jsx(P,{className:"h-4 w-4 text-primary"})]})}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Carat:"}),e.jsx("span",{className:"font-semibold",children:s.specs.carat})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shape:"}),e.jsx("span",{className:"font-semibold",children:s.specs.shape})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Color:"}),e.jsx("span",{className:"font-semibold",children:s.specs.color})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Clarity:"}),e.jsx("span",{className:"font-semibold",children:s.specs.clarity})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Cut:"}),e.jsx("span",{className:"font-semibold",children:s.specs.cut})]})]}),e.jsx(Xe,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Price/Carat"}),e.jsxs("p",{className:"text-lg font-bold",children:[s.result.currency," ",s.result.pricePerCarat.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Base Price"}),e.jsxs("p",{className:"text-xl font-bold",children:[s.result.currency," ",s.result.totalPrice.toLocaleString()]})]}),s.adjustmentPercentage>0&&e.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 -mx-3",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.adjustmentType==="discount"?e.jsx(ce,{className:"h-3 w-3 text-green-600"}):e.jsx(X,{className:"h-3 w-3 text-blue-600"}),e.jsxs("p",{className:"text-xs font-medium",children:[s.adjustmentPercentage.toFixed(1),"% ",s.adjustmentType]})]}),e.jsxs("p",{className:`text-2xl font-bold ${s.adjustmentType==="discount"?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400"}`,children:[s.result.currency," ",s.finalPrice.toLocaleString()]})]})]})]})]})},s.id))}),t.length>1&&e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-primary/10 to-transparent rounded-lg border border-primary/20",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-primary"}),"Quick Comparison"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Lowest Price:"}),e.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:[t[0].result.currency," ",Math.min(...t.map(s=>s.finalPrice)).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Highest Price:"}),e.jsxs("p",{className:"font-bold text-red-600 dark:text-red-400",children:[t[0].result.currency," ",Math.max(...t.map(s=>s.finalPrice)).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Price Difference:"}),e.jsxs("p",{className:"font-bold text-primary",children:[t[0].result.currency," ",(Math.max(...t.map(s=>s.finalPrice))-Math.min(...t.map(s=>s.finalPrice))).toLocaleString()]})]})]})]})]})]})})})]}),e.jsx(ds,{}),e.jsx(_e,{})]})};export{Rs as default};
//# sourceMappingURL=DiamondCalculator-XPAgbzlo.js.map
