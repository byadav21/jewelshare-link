{"version":3,"file":"ExportReports-BqTQoVGg.js","sources":["../../src/pages/ExportReports.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useUserRole } from \"@/hooks/useUserRole\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { ArrowLeft, Download, FileText, Table as TableIcon, Users, Package } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { format } from \"date-fns\";\r\n\r\nconst ExportReports = () => {\r\n  const navigate = useNavigate();\r\n  const { isAdmin, loading: roleLoading } = useUserRole();\r\n  const [exporting, setExporting] = useState<string | null>(null);\r\n\r\n  // Fetch data for reports\r\n  const { data: vendorData } = useQuery({\r\n    queryKey: [\"vendor-report-data\"],\r\n    queryFn: async () => {\r\n      const { data: vendors, error } = await supabase\r\n        .from(\"user_approval_status\")\r\n        .select(\"user_id, business_name, email, status, requested_at\");\r\n\r\n      if (error) throw error;\r\n\r\n      const { data: profiles } = await supabase\r\n        .from(\"vendor_profiles\")\r\n        .select(\"user_id, business_name, email, phone\");\r\n\r\n      const { data: products } = await supabase\r\n        .from(\"products\")\r\n        .select(\"user_id\")\r\n        .is(\"deleted_at\", null);\r\n\r\n      const productCounts = products?.reduce((acc: any, p: any) => {\r\n        acc[p.user_id] = (acc[p.user_id] || 0) + 1;\r\n        return acc;\r\n      }, {});\r\n\r\n      return vendors?.map((vendor: any) => ({\r\n        ...vendor,\r\n        profile: profiles?.find((p: any) => p.user_id === vendor.user_id),\r\n        productCount: productCounts?.[vendor.user_id] || 0,\r\n      }));\r\n    },\r\n    enabled: isAdmin,\r\n  });\r\n\r\n  const { data: inquiryData } = useQuery({\r\n    queryKey: [\"inquiry-report-data\"],\r\n    queryFn: async () => {\r\n      const { data: inquiries, error } = await supabase\r\n        .from(\"catalog_inquiries\")\r\n        .select(\"*\")\r\n        .order(\"created_at\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n      return inquiries;\r\n    },\r\n    enabled: isAdmin,\r\n  });\r\n\r\n  const { data: productData } = useQuery({\r\n    queryKey: [\"product-report-data\"],\r\n    queryFn: async () => {\r\n      const { data: products, error } = await supabase\r\n        .from(\"products\")\r\n        .select(\"*\")\r\n        .is(\"deleted_at\", null)\r\n        .order(\"created_at\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n\r\n      const { data: interests } = await supabase\r\n        .from(\"product_interests\")\r\n        .select(\"product_id\");\r\n\r\n      const interestCounts = interests?.reduce((acc: any, i: any) => {\r\n        acc[i.product_id] = (acc[i.product_id] || 0) + 1;\r\n        return acc;\r\n      }, {});\r\n\r\n      return products?.map((product: any) => ({\r\n        ...product,\r\n        interestCount: interestCounts?.[product.id] || 0,\r\n      }));\r\n    },\r\n    enabled: isAdmin,\r\n  });\r\n\r\n  // Export Vendor Performance PDF\r\n  const exportVendorPDF = () => {\r\n    setExporting(\"vendor-pdf\");\r\n    const doc = new jsPDF();\r\n\r\n    doc.setFontSize(18);\r\n    doc.text(\"Vendor Performance Report\", 14, 20);\r\n    doc.setFontSize(10);\r\n    doc.text(`Generated on: ${format(new Date(), \"MMM dd, yyyy HH:mm\")}`, 14, 28);\r\n\r\n    const tableData = vendorData?.map((vendor: any) => [\r\n      vendor.profile?.business_name || vendor.business_name || \"N/A\",\r\n      vendor.profile?.email || vendor.email || \"N/A\",\r\n      vendor.status,\r\n      vendor.productCount.toString(),\r\n      format(new Date(vendor.requested_at), \"MMM dd, yyyy\"),\r\n    ]);\r\n\r\n    autoTable(doc, {\r\n      head: [[\"Business Name\", \"Email\", \"Status\", \"Products\", \"Joined\"]],\r\n      body: tableData || [],\r\n      startY: 35,\r\n      styles: { fontSize: 8 },\r\n      headStyles: { fillColor: [59, 130, 246] },\r\n    });\r\n\r\n    doc.save(`vendor-performance-${format(new Date(), \"yyyy-MM-dd\")}.pdf`);\r\n    toast.success(\"Vendor report exported successfully\");\r\n    setExporting(null);\r\n  };\r\n\r\n  // Export Customer Inquiries Excel\r\n  const exportInquiriesExcel = () => {\r\n    setExporting(\"inquiry-excel\");\r\n\r\n    const worksheetData = inquiryData?.map((inquiry: any) => ({\r\n      \"Customer Name\": inquiry.customer_name,\r\n      \"Email\": inquiry.customer_email,\r\n      \"Phone\": inquiry.customer_phone || \"N/A\",\r\n      \"Message\": inquiry.message,\r\n      \"Date\": format(new Date(inquiry.created_at), \"MMM dd, yyyy HH:mm\"),\r\n    }));\r\n\r\n    const worksheet = XLSX.utils.json_to_sheet(worksheetData || []);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Inquiries\");\r\n\r\n    XLSX.writeFile(workbook, `customer-inquiries-${format(new Date(), \"yyyy-MM-dd\")}.xlsx`);\r\n    toast.success(\"Inquiry report exported successfully\");\r\n    setExporting(null);\r\n  };\r\n\r\n  // Export Product Trends PDF\r\n  const exportProductsPDF = () => {\r\n    setExporting(\"product-pdf\");\r\n    const doc = new jsPDF();\r\n\r\n    doc.setFontSize(18);\r\n    doc.text(\"Product Trends Report\", 14, 20);\r\n    doc.setFontSize(10);\r\n    doc.text(`Generated on: ${format(new Date(), \"MMM dd, yyyy HH:mm\")}`, 14, 28);\r\n\r\n    const topProducts = productData\r\n      ?.sort((a: any, b: any) => b.interestCount - a.interestCount)\r\n      .slice(0, 50);\r\n\r\n    const tableData = topProducts?.map((product: any) => [\r\n      product.name,\r\n      product.sku || \"N/A\",\r\n      product.category || \"N/A\",\r\n      `â‚¹${product.retail_price?.toLocaleString() || 0}`,\r\n      product.interestCount.toString(),\r\n    ]);\r\n\r\n    autoTable(doc, {\r\n      head: [[\"Product Name\", \"SKU\", \"Category\", \"Price\", \"Interests\"]],\r\n      body: tableData || [],\r\n      startY: 35,\r\n      styles: { fontSize: 8 },\r\n      headStyles: { fillColor: [59, 130, 246] },\r\n    });\r\n\r\n    doc.save(`product-trends-${format(new Date(), \"yyyy-MM-dd\")}.pdf`);\r\n    toast.success(\"Product trends report exported successfully\");\r\n    setExporting(null);\r\n  };\r\n\r\n  // Export All Data Excel\r\n  const exportAllDataExcel = () => {\r\n    setExporting(\"all-excel\");\r\n\r\n    const workbook = XLSX.utils.book_new();\r\n\r\n    // Vendors sheet\r\n    const vendorsData = vendorData?.map((vendor: any) => ({\r\n      \"Business Name\": vendor.profile?.business_name || vendor.business_name || \"N/A\",\r\n      \"Email\": vendor.profile?.email || vendor.email || \"N/A\",\r\n      \"Phone\": vendor.profile?.phone || \"N/A\",\r\n      \"Status\": vendor.status,\r\n      \"Products\": vendor.productCount,\r\n      \"Joined\": format(new Date(vendor.requested_at), \"MMM dd, yyyy\"),\r\n    }));\r\n    const vendorsSheet = XLSX.utils.json_to_sheet(vendorsData || []);\r\n    XLSX.utils.book_append_sheet(workbook, vendorsSheet, \"Vendors\");\r\n\r\n    // Inquiries sheet\r\n    const inquiriesData = inquiryData?.map((inquiry: any) => ({\r\n      \"Customer Name\": inquiry.customer_name,\r\n      \"Email\": inquiry.customer_email,\r\n      \"Phone\": inquiry.customer_phone || \"N/A\",\r\n      \"Message\": inquiry.message,\r\n      \"Date\": format(new Date(inquiry.created_at), \"MMM dd, yyyy\"),\r\n    }));\r\n    const inquiriesSheet = XLSX.utils.json_to_sheet(inquiriesData || []);\r\n    XLSX.utils.book_append_sheet(workbook, inquiriesSheet, \"Inquiries\");\r\n\r\n    // Products sheet\r\n    const productsData = productData?.slice(0, 1000).map((product: any) => ({\r\n      \"Name\": product.name,\r\n      \"SKU\": product.sku || \"N/A\",\r\n      \"Category\": product.category || \"N/A\",\r\n      \"Price\": product.retail_price || 0,\r\n      \"Stock\": product.stock_quantity || 0,\r\n      \"Interests\": product.interestCount,\r\n    }));\r\n    const productsSheet = XLSX.utils.json_to_sheet(productsData || []);\r\n    XLSX.utils.book_append_sheet(workbook, productsSheet, \"Products\");\r\n\r\n    XLSX.writeFile(workbook, `complete-report-${format(new Date(), \"yyyy-MM-dd\")}.xlsx`);\r\n    toast.success(\"Complete report exported successfully\");\r\n    setExporting(null);\r\n  };\r\n\r\n  if (roleLoading) {\r\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    navigate(\"/\");\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6 space-y-6\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <Button variant=\"ghost\" onClick={() => navigate(\"/super-admin\")}>\r\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n          Back to Dashboard\r\n        </Button>\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold flex items-center gap-2\">\r\n            <Download className=\"h-8 w-8\" />\r\n            Export Reports\r\n          </h1>\r\n          <p className=\"text-muted-foreground mt-1\">Generate and download various reports</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n              Vendor Performance\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Export vendor statistics including products, status, and join dates\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Button\r\n              onClick={exportVendorPDF}\r\n              disabled={exporting === \"vendor-pdf\"}\r\n              className=\"w-full\"\r\n            >\r\n              <FileText className=\"mr-2 h-4 w-4\" />\r\n              {exporting === \"vendor-pdf\" ? \"Exporting...\" : \"Export as PDF\"}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <TableIcon className=\"h-5 w-5\" />\r\n              Customer Inquiries\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Export all customer inquiries with contact details and messages\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Button\r\n              onClick={exportInquiriesExcel}\r\n              disabled={exporting === \"inquiry-excel\"}\r\n              className=\"w-full\"\r\n              variant=\"secondary\"\r\n            >\r\n              <FileText className=\"mr-2 h-4 w-4\" />\r\n              {exporting === \"inquiry-excel\" ? \"Exporting...\" : \"Export as Excel\"}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Package className=\"h-5 w-5\" />\r\n              Product Trends\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Export top products with interest counts and pricing\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Button\r\n              onClick={exportProductsPDF}\r\n              disabled={exporting === \"product-pdf\"}\r\n              className=\"w-full\"\r\n            >\r\n              <FileText className=\"mr-2 h-4 w-4\" />\r\n              {exporting === \"product-pdf\" ? \"Exporting...\" : \"Export as PDF\"}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Download className=\"h-5 w-5\" />\r\n              Complete Report\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Export all data (vendors, inquiries, products) in one Excel file\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Button\r\n              onClick={exportAllDataExcel}\r\n              disabled={exporting === \"all-excel\"}\r\n              className=\"w-full\"\r\n              variant=\"secondary\"\r\n            >\r\n              <FileText className=\"mr-2 h-4 w-4\" />\r\n              {exporting === \"all-excel\" ? \"Exporting...\" : \"Export as Excel\"}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExportReports;\r\n"],"names":["ExportReports","navigate","useNavigate","isAdmin","roleLoading","useUserRole","exporting","setExporting","useState","vendorData","useQuery","vendors","error","supabase","profiles","products","productCounts","acc","p","vendor","inquiryData","inquiries","productData","interests","interestCounts","i","product","exportVendorPDF","doc","jsPDF","format","tableData","_a","_b","autoTable","toast","exportInquiriesExcel","worksheetData","inquiry","worksheet","XLSX.utils","workbook","XLSX.writeFile","exportProductsPDF","topProducts","a","b","exportAllDataExcel","vendorsData","_c","vendorsSheet","inquiriesData","inquiriesSheet","productsData","productsSheet","jsx","jsxs","Button","ArrowLeft","Download","Card","CardHeader","CardTitle","Users","CardDescription","CardContent","FileText","TableIcon","Package"],"mappings":"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"}