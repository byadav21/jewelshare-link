{"version":3,"file":"jewelryCalculations-D1jiot5w.js","sources":["../../src/utils/jewelryCalculations.ts"],"sourcesContent":["/**\r\n * Jewelry Pricing Calculation Utilities\r\n * \r\n * @description Comprehensive pricing calculations for jewelry items,\r\n * including gold value, diamond value, making charges, and total cost.\r\n * Shared between JewelleryForm and Import page.\r\n * \r\n * @module jewelryCalculations\r\n */\r\n\r\n// ============================================\r\n// Type Definitions\r\n// ============================================\r\n\r\n/**\r\n * Input parameters for jewelry pricing calculations\r\n */\r\nexport interface JewelryPriceInputs {\r\n  /** Total weight of the piece in grams */\r\n  grossWeight: number;\r\n  /** Weight of gemstones in carats */\r\n  gemstoneWeight: number;\r\n  /** Primary diamond weight in carats */\r\n  dWt1: number;\r\n  /** Secondary/pointer diamond weight in carats */\r\n  dWt2: number;\r\n  /** Rate per carat for primary diamonds */\r\n  dRate1: number;\r\n  /** Rate per carat for pointer diamonds */\r\n  pointerDiamond: number;\r\n  /** Gold purity as decimal (0-1) */\r\n  purityFraction: number;\r\n  /** Current 24K gold rate per gram */\r\n  goldRate: number;\r\n  /** Making charges per gram */\r\n  makingChargesPerGram: number;\r\n  /** Certification/hallmark cost */\r\n  certificationCost: number;\r\n  /** Cost of gemstones */\r\n  gemstoneCost: number;\r\n}\r\n\r\n/**\r\n * Output values from jewelry pricing calculations\r\n */\r\nexport interface JewelryPriceOutputs {\r\n  /** Combined weight of all diamonds */\r\n  totalDiamondWeight: number;\r\n  /** Weight of gold after subtracting stones */\r\n  netWeight: number;\r\n  /** Total value of all diamonds */\r\n  dValue: number;\r\n  /** Total making/labor charges */\r\n  makingCharges: number;\r\n  /** Value of gold content */\r\n  goldValue: number;\r\n  /** Final total price */\r\n  totalPrice: number;\r\n  /** Cost price (before markup) */\r\n  costPrice: number;\r\n}\r\n\r\n// ============================================\r\n// Number Parsing Utilities\r\n// ============================================\r\n\r\n/**\r\n * Safely parse a number from various input types\r\n * \r\n * @description Handles strings, numbers, and null/undefined values.\r\n * Strips non-numeric characters from strings for robust parsing.\r\n * \r\n * @param val - The value to parse (string, number, or undefined)\r\n * @returns Parsed number or 0 if invalid\r\n * \r\n * @example\r\n * ```ts\r\n * safeNumber(42);          // 42\r\n * safeNumber(\"₹1,234.56\"); // 1234.56\r\n * safeNumber(null);        // 0\r\n * safeNumber(\"invalid\");   // 0\r\n * ```\r\n */\r\nexport const safeNumber = (val: any): number => {\r\n  if (typeof val === 'number' && !isNaN(val)) return val;\r\n  if (typeof val === 'string') {\r\n    const cleaned = val.replace(/[^0-9.-]/g, '');\r\n    const parsed = parseFloat(cleaned);\r\n    return isNaN(parsed) ? 0 : parsed;\r\n  }\r\n  return 0;\r\n};\r\n\r\n// ============================================\r\n// Purity Conversion Utilities\r\n// ============================================\r\n\r\n/**\r\n * Normalize purity value to decimal format (0-1)\r\n * \r\n * @description Handles multiple input formats:\r\n * - Decimal (0.75) - returned as-is\r\n * - Karat (18) - converted to decimal (18/24 = 0.75)\r\n * - Percentage (75 or \"75%\") - converted to decimal (75/100 = 0.75)\r\n * \r\n * @param value - The purity value in any format\r\n * @returns Normalized decimal value (0-1), defaults to 18K (0.75) if invalid\r\n * \r\n * @example\r\n * ```ts\r\n * normalizePurity(0.75);   // 0.75\r\n * normalizePurity(18);     // 0.75 (18K)\r\n * normalizePurity(\"75%\");  // 0.75\r\n * normalizePurity(null);   // 0.75 (default)\r\n * ```\r\n */\r\nexport const normalizePurity = (value: any): number => {\r\n  if (!value && value !== 0) return 18 / 24; // Default 18K = 0.75\r\n\r\n  // Handle percentage string format\r\n  if (typeof value === 'string' && value.includes('%')) {\r\n    const numValue = parseFloat(value.replace(/[^0-9.-]/g, ''));\r\n    return numValue > 0 ? numValue / 100 : 18 / 24;\r\n  }\r\n\r\n  const num = safeNumber(value);\r\n  if (num <= 0) return 18 / 24;\r\n  if (num <= 1) return num; // Already decimal (0.76)\r\n  if (num <= 24) return num / 24; // Karat value (18 = 18/24)\r\n  return num / 100; // Percentage (76 = 0.76)\r\n};\r\n\r\n/**\r\n * Get purity as percentage string for display\r\n * \r\n * @param purityValue - The purity value in any format\r\n * @returns Formatted percentage string with one decimal place\r\n * \r\n * @example\r\n * ```ts\r\n * getPurityPercentage(0.75); // \"75.0\"\r\n * getPurityPercentage(18);   // \"75.0\"\r\n * ```\r\n */\r\nexport const getPurityPercentage = (purityValue: any): string => {\r\n  const normalized = normalizePurity(purityValue);\r\n  return (normalized * 100).toFixed(1);\r\n};\r\n\r\n/**\r\n * Standard karat options with corresponding decimal values\r\n */\r\nexport const KARAT_OPTIONS = [\r\n  { value: '14', label: '14K', decimal: 14 / 24, percentage: '58.3%' },\r\n  { value: '18', label: '18K', decimal: 18 / 24, percentage: '75%' },\r\n  { value: '22', label: '22K', decimal: 22 / 24, percentage: '91.7%' },\r\n  { value: '24', label: '24K', decimal: 24 / 24, percentage: '100%' },\r\n] as const;\r\n\r\n// ============================================\r\n// Core Calculation Functions\r\n// ============================================\r\n\r\n/**\r\n * Calculate total diamond weight from primary and secondary diamonds\r\n * \r\n * @param dWt1 - Primary diamond weight in carats\r\n * @param dWt2 - Secondary/pointer diamond weight in carats\r\n * @returns Total diamond weight in carats\r\n * \r\n * @example\r\n * ```ts\r\n * calculateDiamondWeight(0.5, 0.3); // 0.8\r\n * ```\r\n */\r\nexport const calculateDiamondWeight = (dWt1: number, dWt2: number): number => {\r\n  return safeNumber(dWt1) + safeNumber(dWt2);\r\n};\r\n\r\n/**\r\n * Calculate net gold weight\r\n * \r\n * @description Formula: Gross Weight - (Total Diamond Weight + Gemstone Weight) / 5\r\n * The division by 5 converts carat weight to approximate gram weight\r\n * \r\n * @param grossWeight - Total piece weight in grams\r\n * @param totalDiamondWeight - Combined diamond weight in carats\r\n * @param gemstoneWeight - Gemstone weight in carats\r\n * @returns Net gold weight in grams (minimum 0)\r\n * \r\n * @example\r\n * ```ts\r\n * calculateNetWeight(10, 0.8, 0.2); // 9.8 (10 - (0.8 + 0.2) / 5)\r\n * ```\r\n */\r\nexport const calculateNetWeight = (\r\n  grossWeight: number,\r\n  totalDiamondWeight: number,\r\n  gemstoneWeight: number\r\n): number => {\r\n  const gw = safeNumber(grossWeight);\r\n  const tdw = safeNumber(totalDiamondWeight);\r\n  const gsw = safeNumber(gemstoneWeight);\r\n  return Math.max(0, gw - (tdw + gsw) / 5);\r\n};\r\n\r\n/**\r\n * Calculate total diamond value\r\n * \r\n * @description Formula: (D.WT 1 × D RATE 1) + (D.WT 2 × Pointer diamond rate)\r\n * \r\n * @param dWt1 - Primary diamond weight in carats\r\n * @param dRate1 - Rate per carat for primary diamonds\r\n * @param dWt2 - Secondary diamond weight in carats\r\n * @param pointerDiamond - Rate per carat for pointer diamonds\r\n * @returns Total diamond value in currency\r\n * \r\n * @example\r\n * ```ts\r\n * calculateDValue(0.5, 50000, 0.3, 20000); // 31000\r\n * ```\r\n */\r\nexport const calculateDValue = (\r\n  dWt1: number,\r\n  dRate1: number,\r\n  dWt2: number,\r\n  pointerDiamond: number\r\n): number => {\r\n  return safeNumber(dWt1) * safeNumber(dRate1) + safeNumber(dWt2) * safeNumber(pointerDiamond);\r\n};\r\n\r\n/**\r\n * Calculate making/labor charges\r\n * \r\n * @description Formula: Gross Weight × Making Charges Per Gram\r\n * \r\n * @param grossWeight - Total piece weight in grams\r\n * @param makingChargesPerGram - Making charges rate per gram\r\n * @returns Total making charges in currency\r\n * \r\n * @example\r\n * ```ts\r\n * calculateMakingCharges(10, 500); // 5000\r\n * ```\r\n */\r\nexport const calculateMakingCharges = (\r\n  grossWeight: number,\r\n  makingChargesPerGram: number\r\n): number => {\r\n  return safeNumber(grossWeight) * safeNumber(makingChargesPerGram);\r\n};\r\n\r\n/**\r\n * Calculate gold value\r\n * \r\n * @description Formula: Net Weight × Purity Fraction × Gold Rate\r\n * \r\n * @param netWeight - Net gold weight in grams\r\n * @param purityFraction - Gold purity as decimal (0-1)\r\n * @param goldRate - Current 24K gold rate per gram\r\n * @returns Gold value in currency\r\n * \r\n * @example\r\n * ```ts\r\n * calculateGoldValue(9.8, 0.75, 7000); // 51450\r\n * ```\r\n */\r\nexport const calculateGoldValue = (\r\n  netWeight: number,\r\n  purityFraction: number,\r\n  goldRate: number\r\n): number => {\r\n  return safeNumber(netWeight) * safeNumber(purityFraction) * safeNumber(goldRate);\r\n};\r\n\r\n/**\r\n * Calculate total jewelry price\r\n * \r\n * @description Formula: D VALUE + Making Charges + Gold Value + Certification Cost + Gemstone Cost\r\n * \r\n * @param dValue - Total diamond value\r\n * @param makingCharges - Total making charges\r\n * @param goldValue - Gold content value\r\n * @param certificationCost - Certification/hallmark cost\r\n * @param gemstoneCost - Gemstone cost\r\n * @returns Total price in currency\r\n * \r\n * @example\r\n * ```ts\r\n * calculateTotalPrice(31000, 5000, 51450, 500, 2000); // 89950\r\n * ```\r\n */\r\nexport const calculateTotalPrice = (\r\n  dValue: number,\r\n  makingCharges: number,\r\n  goldValue: number,\r\n  certificationCost: number,\r\n  gemstoneCost: number\r\n): number => {\r\n  return (\r\n    safeNumber(dValue) +\r\n    safeNumber(makingCharges) +\r\n    safeNumber(goldValue) +\r\n    safeNumber(certificationCost) +\r\n    safeNumber(gemstoneCost)\r\n  );\r\n};\r\n\r\n/**\r\n * Calculate all jewelry pricing components at once\r\n * \r\n * @description Master calculation function that computes all pricing\r\n * components in the correct order and returns a complete pricing breakdown.\r\n * \r\n * @param inputs - All input parameters for pricing calculation\r\n * @returns Complete pricing breakdown with all components\r\n * \r\n * @example\r\n * ```ts\r\n * const pricing = calculateJewelryPricing({\r\n *   grossWeight: 10,\r\n *   gemstoneWeight: 0.2,\r\n *   dWt1: 0.5,\r\n *   dWt2: 0.3,\r\n *   dRate1: 50000,\r\n *   pointerDiamond: 20000,\r\n *   purityFraction: 0.75,\r\n *   goldRate: 7000,\r\n *   makingChargesPerGram: 500,\r\n *   certificationCost: 500,\r\n *   gemstoneCost: 2000\r\n * });\r\n * // Returns: { totalDiamondWeight, netWeight, dValue, makingCharges, goldValue, totalPrice, costPrice }\r\n * ```\r\n */\r\nexport const calculateJewelryPricing = (inputs: JewelryPriceInputs): JewelryPriceOutputs => {\r\n  const {\r\n    grossWeight,\r\n    gemstoneWeight,\r\n    dWt1,\r\n    dWt2,\r\n    dRate1,\r\n    pointerDiamond,\r\n    purityFraction,\r\n    goldRate,\r\n    makingChargesPerGram,\r\n    certificationCost,\r\n    gemstoneCost,\r\n  } = inputs;\r\n\r\n  // Step 1: Calculate total diamond weight\r\n  const totalDiamondWeight = calculateDiamondWeight(dWt1, dWt2);\r\n\r\n  // Step 2: Calculate net weight\r\n  const netWeight = calculateNetWeight(grossWeight, totalDiamondWeight, gemstoneWeight);\r\n\r\n  // Step 3: Calculate diamond value\r\n  const dValue = calculateDValue(dWt1, dRate1, dWt2, pointerDiamond);\r\n\r\n  // Step 4: Calculate making charges\r\n  const makingCharges = calculateMakingCharges(grossWeight, makingChargesPerGram);\r\n\r\n  // Step 5: Calculate gold value\r\n  const goldValue = calculateGoldValue(netWeight, purityFraction, goldRate);\r\n\r\n  // Step 6: Calculate total price\r\n  const totalPrice = calculateTotalPrice(dValue, makingCharges, goldValue, certificationCost, gemstoneCost);\r\n\r\n  // Cost price equals total price (can be adjusted with margin later)\r\n  const costPrice = totalPrice > 0 ? totalPrice : 0.01;\r\n\r\n  return {\r\n    totalDiamondWeight,\r\n    netWeight,\r\n    dValue,\r\n    makingCharges,\r\n    goldValue,\r\n    totalPrice,\r\n    costPrice,\r\n  };\r\n};\r\n\r\n// ============================================\r\n// Excel Import Utilities\r\n// ============================================\r\n\r\n/**\r\n * Get value from row with multiple possible column names\r\n * \r\n * @description Searches for a value using multiple possible column names,\r\n * useful for handling various Excel format variations.\r\n * \r\n * @param row - The data row object\r\n * @param keys - Array of possible column names to try\r\n * @returns The first found value or null\r\n */\r\nconst getRowValue = (row: Record<string, any>, ...keys: string[]): any => {\r\n  for (const key of keys) {\r\n    if (row[key] !== undefined && row[key] !== null && row[key] !== '') {\r\n      return row[key];\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * Process jewelry row data from Excel import\r\n * \r\n * @description Extracts and calculates pricing from Excel import rows.\r\n * Supports multiple Excel column formats (GEMHUB format and standard format).\r\n * Uses vendor profile rates for making charges and gold rate calculations.\r\n * \r\n * @param row - The Excel row data as key-value pairs\r\n * @param goldRate - Current 24K gold rate per gram from vendor profile\r\n * @param makingChargesPerGram - Making charges rate from vendor profile\r\n * @returns Calculated pricing outputs plus the normalized purity fraction\r\n * \r\n * @example\r\n * ```ts\r\n * const rowData = {\r\n *   'Gross Weight': 10,\r\n *   'D.WT 1': 0.5,\r\n *   'D RATE 1': 50000,\r\n *   'PURITY': 18\r\n * };\r\n * const pricing = processJewelryImportRow(rowData, 7000, 500);\r\n * ```\r\n */\r\nexport const processJewelryImportRow = (\r\n  row: Record<string, any>,\r\n  goldRate: number,\r\n  makingChargesPerGram: number\r\n): JewelryPriceOutputs & { purityFraction: number } => {\r\n  // Parse input values - support GEMHUB format and other column name formats\r\n  const grossWeight = safeNumber(\r\n    getRowValue(row, 'Gross Weight', 'G WT', 'GWT', 'GROSS_WEIGHT', 'Gross_Weight')\r\n  );\r\n  const gemstoneWeight = safeNumber(\r\n    getRowValue(row, 'GEMSTONE WT', 'Gemstone Weight', 'GS_WT', 'GEMSTONE_WEIGHT')\r\n  );\r\n  const dWt1 = safeNumber(\r\n    getRowValue(row, 'Diamond Weight 1', 'D.WT 1', 'D WT 1', 'DWT1', 'D_WT_1')\r\n  );\r\n  const dWt2 = safeNumber(\r\n    getRowValue(row, 'Diamond Weight 2', 'D.WT 2', 'D WT 2', 'DWT2', 'D_WT_2')\r\n  );\r\n  const dRate1 = safeNumber(\r\n    getRowValue(row, 'Diamond RATE 1', 'D RATE 1', 'D_RATE_1', 'DRATE1')\r\n  );\r\n  const pointerDiamond = safeNumber(\r\n    getRowValue(row, 'Diamond Rate 2', 'Pointer diamond', 'D RATE 2', 'D_RATE_2', 'POINTER_DIAMOND')\r\n  );\r\n  const certificationCost = safeNumber(\r\n    getRowValue(row, 'Certification cost', 'CERTIFICATION_COST', 'Cert Cost', 'CERT_COST')\r\n  );\r\n  const gemstoneCost = safeNumber(\r\n    getRowValue(row, 'Gemstone cost', 'GEMSTONE_COST', 'GS_COST')\r\n  );\r\n\r\n  // Normalize purity - support multiple formats\r\n  const purityRaw = getRowValue(row, 'PURITY_FRACTION_USED', 'Purity', 'PURITY', 'Purity Fraction');\r\n  const purityFraction = normalizePurity(purityRaw);\r\n\r\n  // Check for pre-calculated values in Excel (GEMHUB format)\r\n  const netWeightFromExcel = safeNumber(\r\n    getRowValue(row, 'NET Weight', 'NET WT', 'Net Weight', 'NET_WEIGHT')\r\n  );\r\n  const dValueFromExcel = safeNumber(\r\n    getRowValue(row, 'D VALUE', 'DVALUE', 'Diamond Value')\r\n  );\r\n\r\n  // Calculate values - ALWAYS recalculate using vendor profile values\r\n  // Only use Excel pre-calculated values for NET WT and D VALUE if provided\r\n  const totalDiamondWeight = calculateDiamondWeight(dWt1, dWt2);\r\n  const netWeight = netWeightFromExcel || calculateNetWeight(grossWeight, totalDiamondWeight, gemstoneWeight);\r\n  const dValue = dValueFromExcel || calculateDValue(dWt1, dRate1, dWt2, pointerDiamond);\r\n\r\n  // ALWAYS calculate making charges and gold value from vendor profile\r\n  const makingCharges = calculateMakingCharges(grossWeight, makingChargesPerGram);\r\n  const goldValue = calculateGoldValue(netWeight, purityFraction, goldRate);\r\n\r\n  // Calculate total price using calculated values\r\n  const totalPrice = calculateTotalPrice(dValue, makingCharges, goldValue, certificationCost, gemstoneCost);\r\n  const costPrice = totalPrice > 0 ? totalPrice : 0.01;\r\n\r\n  return {\r\n    totalDiamondWeight,\r\n    netWeight,\r\n    dValue,\r\n    makingCharges,\r\n    goldValue,\r\n    totalPrice,\r\n    costPrice,\r\n    purityFraction,\r\n  };\r\n};\r\n\r\n/**\r\n * Parsed image URLs from Excel import\r\n */\r\nexport interface ParsedImageUrls {\r\n  /** Primary image URL */\r\n  url1: string | null;\r\n  /** Secondary image URL */\r\n  url2: string | null;\r\n  /** Tertiary image URL */\r\n  url3: string | null;\r\n}\r\n\r\n/**\r\n * Parse image URLs from Excel\r\n * \r\n * @description Handles various image URL formats including:\r\n * - Pipe-separated URLs (url1|url2|url3)\r\n * - Escaped characters from Excel (backslashes before colons and pipes)\r\n * - Single URL values\r\n * \r\n * @param imageUrlValue - The image URL value from Excel\r\n * @returns Object with up to three parsed image URLs\r\n * \r\n * @example\r\n * ```ts\r\n * parseImageUrls(\"https://example.com/1.jpg|https://example.com/2.jpg\");\r\n * // { url1: \"https://example.com/1.jpg\", url2: \"https://example.com/2.jpg\", url3: null }\r\n * \r\n * parseImageUrls(\"https\\\\://example.com/img.jpg\");\r\n * // { url1: \"https://example.com/img.jpg\", url2: null, url3: null }\r\n * ```\r\n */\r\nexport const parseImageUrls = (imageUrlValue: any): ParsedImageUrls => {\r\n  if (!imageUrlValue) return { url1: null, url2: null, url3: null };\r\n\r\n  // Clean up escaped characters from Excel (e.g., \"https\\://...\" or \"\\|\")\r\n  let urlString = String(imageUrlValue).trim()\r\n    .replace(/\\\\:/g, ':')  // Fix escaped colons\r\n    .replace(/\\\\\\|/g, '|') // Fix escaped pipes\r\n    .replace(/\\\\/g, '');   // Remove remaining backslashes\r\n\r\n  // Handle pipe-separated URLs\r\n  if (urlString.includes('|')) {\r\n    const urls = urlString.split('|').map(u => u.trim()).filter(u => u);\r\n    return {\r\n      url1: urls[0] || null,\r\n      url2: urls[1] || null,\r\n      url3: urls[2] || null,\r\n    };\r\n  }\r\n\r\n  return { url1: urlString || null, url2: null, url3: null };\r\n};\r\n"],"names":["safeNumber","val","cleaned","parsed","normalizePurity","value","numValue","num","getPurityPercentage","purityValue","KARAT_OPTIONS","calculateDiamondWeight","dWt1","dWt2","calculateNetWeight","grossWeight","totalDiamondWeight","gemstoneWeight","gw","tdw","gsw","calculateDValue","dRate1","pointerDiamond","calculateMakingCharges","makingChargesPerGram","calculateGoldValue","netWeight","purityFraction","goldRate","calculateTotalPrice","dValue","makingCharges","goldValue","certificationCost","gemstoneCost","getRowValue","row","keys","key","processJewelryImportRow","purityRaw","netWeightFromExcel","dValueFromExcel","totalPrice","costPrice"],"mappings":"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"}