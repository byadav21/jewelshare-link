{"version":3,"file":"useKeyboardHeight-BG0IWOn_.js","sources":["../../src/hooks/useKeyboardHeight.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Hook to detect keyboard visibility and height on mobile devices\r\n * Uses Visual Viewport API for accurate keyboard detection\r\n */\r\nexport const useKeyboardHeight = () => {\r\n  const [keyboardHeight, setKeyboardHeight] = useState(0);\r\n  const [isKeyboardVisible, setIsKeyboardVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Only run on mobile devices\r\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n    if (!isMobile) return;\r\n\r\n    // Check if Visual Viewport API is available\r\n    if (!window.visualViewport) return;\r\n\r\n    const handleResize = () => {\r\n      const viewport = window.visualViewport;\r\n      if (!viewport) return;\r\n\r\n      // Calculate keyboard height\r\n      // When keyboard opens, visualViewport.height decreases\r\n      const windowHeight = window.innerHeight;\r\n      const viewportHeight = viewport.height;\r\n      const heightDiff = windowHeight - viewportHeight;\r\n\r\n      // Threshold to determine if keyboard is open (accounts for browser UI changes)\r\n      const isOpen = heightDiff > 150;\r\n\r\n      setIsKeyboardVisible(isOpen);\r\n      setKeyboardHeight(isOpen ? heightDiff : 0);\r\n    };\r\n\r\n    // Listen to viewport resize events\r\n    window.visualViewport.addEventListener('resize', handleResize);\r\n    window.visualViewport.addEventListener('scroll', handleResize);\r\n\r\n    // Initial check\r\n    handleResize();\r\n\r\n    return () => {\r\n      if (window.visualViewport) {\r\n        window.visualViewport.removeEventListener('resize', handleResize);\r\n        window.visualViewport.removeEventListener('scroll', handleResize);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return { keyboardHeight, isKeyboardVisible };\r\n};\r\n"],"names":["useKeyboardHeight","keyboardHeight","setKeyboardHeight","useState","isKeyboardVisible","setIsKeyboardVisible","useEffect","handleResize","viewport","windowHeight","viewportHeight","heightDiff","isOpen"],"mappings":"+CAMO,MAAMA,EAAoB,IAAM,CACrC,KAAM,CAACC,EAAgBC,CAAiB,EAAIC,EAAAA,SAAS,CAAC,EAChD,CAACC,EAAmBC,CAAoB,EAAIF,EAAAA,SAAS,EAAK,EAEhEG,OAAAA,EAAAA,UAAU,IAAM,CAMd,GAHI,CADa,4BAA4B,KAAK,UAAU,SAAS,GAIjE,CAAC,OAAO,eAAgB,OAE5B,MAAMC,EAAe,IAAM,CACzB,MAAMC,EAAW,OAAO,eACxB,GAAI,CAACA,EAAU,OAIf,MAAMC,EAAe,OAAO,YACtBC,EAAiBF,EAAS,OAC1BG,EAAaF,EAAeC,EAG5BE,EAASD,EAAa,IAE5BN,EAAqBO,CAAM,EAC3BV,EAAkBU,EAASD,EAAa,CAAC,CAC3C,EAGA,cAAO,eAAe,iBAAiB,SAAUJ,CAAY,EAC7D,OAAO,eAAe,iBAAiB,SAAUA,CAAY,EAG7DA,EAAA,EAEO,IAAM,CACP,OAAO,iBACT,OAAO,eAAe,oBAAoB,SAAUA,CAAY,EAChE,OAAO,eAAe,oBAAoB,SAAUA,CAAY,EAEpE,CACF,EAAG,CAAA,CAAE,EAEE,CAAE,eAAAN,EAAgB,kBAAAG,CAAA,CAC3B"}