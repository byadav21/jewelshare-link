{"version":3,"file":"TermsOfService-CLxoZ1D2.js","sources":["../../src/pages/TermsOfService.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Header } from \"@/components/Header\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport DOMPurify from \"dompurify\";\r\nimport { DEFAULT_TERMS_OF_SERVICE } from \"@/constants/legalDefaults\";\r\n\r\nconst TermsOfService = () => {\r\n  const [content, setContent] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchContent = async () => {\r\n      const { data } = await supabase\r\n        .from(\"settings\")\r\n        .select(\"value\")\r\n        .eq(\"key\", \"terms_of_service\")\r\n        .single();\r\n      \r\n      if (data?.value && typeof data.value === \"string\" && data.value.trim()) {\r\n        setContent(data.value);\r\n      } else {\r\n        setContent(DEFAULT_TERMS_OF_SERVICE);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    \r\n    fetchContent();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <Header />\r\n      <main className=\"container mx-auto px-4 py-12\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          {loading ? (\r\n            <div className=\"space-y-4\">\r\n              <Skeleton className=\"h-10 w-1/3\" />\r\n              <Skeleton className=\"h-6 w-full\" />\r\n              <Skeleton className=\"h-6 w-3/4\" />\r\n              <Skeleton className=\"h-6 w-5/6\" />\r\n              <Skeleton className=\"h-6 w-2/3\" />\r\n            </div>\r\n          ) : (\r\n            <div \r\n              className=\"prose prose-lg dark:prose-invert max-w-none\"\r\n              dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(content) }}\r\n            />\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TermsOfService;\r\n"],"names":["TermsOfService","content","setContent","useState","loading","setLoading","useEffect","data","supabase","DEFAULT_TERMS_OF_SERVICE","jsxs","jsx","Header","Skeleton","DOMPurify"],"mappings":"0dAOA,MAAMA,EAAiB,IAAM,CAC3B,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAiB,EAAE,EAC3C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EAE3CG,OAAAA,EAAAA,UAAU,IAAM,EACO,SAAY,CAC/B,KAAM,CAAE,KAAAC,CAAA,EAAS,MAAMC,EACpB,KAAK,UAAU,EACf,OAAO,OAAO,EACd,GAAG,MAAO,kBAAkB,EAC5B,OAAA,EAECD,GAAA,MAAAA,EAAM,OAAS,OAAOA,EAAK,OAAU,UAAYA,EAAK,MAAM,OAC9DL,EAAWK,EAAK,KAAK,EAErBL,EAAWO,CAAwB,EAErCJ,EAAW,EAAK,CAClB,GAEA,CACF,EAAG,CAAA,CAAE,EAGHK,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,EAAO,EACRD,EAAAA,IAAC,OAAA,CAAK,UAAU,+BACd,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oBACZ,SAAAP,EACCM,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAS,UAAU,YAAA,CAAa,EACjCF,EAAAA,IAACE,EAAA,CAAS,UAAU,YAAA,CAAa,EACjCF,EAAAA,IAACE,EAAA,CAAS,UAAU,WAAA,CAAY,EAChCF,EAAAA,IAACE,EAAA,CAAS,UAAU,WAAA,CAAY,EAChCF,EAAAA,IAACE,EAAA,CAAS,UAAU,WAAA,CAAY,CAAA,CAAA,CAClC,EAEAF,EAAAA,IAAC,MAAA,CACC,UAAU,8CACV,wBAAyB,CAAE,OAAQG,EAAU,SAASb,CAAO,CAAA,CAAE,CAAA,EAGrE,CAAA,CACF,CAAA,EACF,CAEJ"}