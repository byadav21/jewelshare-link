{"version":3,"file":"AddProduct-DorMg2TU.js","sources":["../../node_modules/@radix-ui/react-radio-group/dist/index.mjs","../../src/components/ui/radio-group.tsx","../../src/components/forms/JewelleryForm.tsx","../../src/components/forms/GemstonesForm.tsx","../../src/components/forms/LooseDiamondsForm.tsx","../../src/pages/AddProduct.tsx"],"sourcesContent":["\"use client\";\n\n// src/radio-group.tsx\nimport * as React2 from \"react\";\nimport { composeEventHandlers as composeEventHandlers2 } from \"@radix-ui/primitive\";\nimport { useComposedRefs as useComposedRefs2 } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope as createContextScope2 } from \"@radix-ui/react-context\";\nimport { Primitive as Primitive2 } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\n\n// src/radio.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar RADIO_NAME = \"Radio\";\nvar [createRadioContext, createRadioScope] = createContextScope(RADIO_NAME);\nvar [RadioProvider, useRadioContext] = createRadioContext(RADIO_NAME);\nvar Radio = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadio,\n      name,\n      checked = false,\n      required,\n      disabled,\n      value = \"on\",\n      onCheck,\n      form,\n      ...radioProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    return /* @__PURE__ */ jsxs(RadioProvider, { scope: __scopeRadio, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"radio\",\n          \"aria-checked\": checked,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...radioProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            if (!checked) onCheck?.();\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        RadioBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nRadio.displayName = RADIO_NAME;\nvar INDICATOR_NAME = \"RadioIndicator\";\nvar RadioIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadio, forceMount, ...indicatorProps } = props;\n    const context = useRadioContext(INDICATOR_NAME, __scopeRadio);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.checked, children: /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nRadioIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"RadioBubbleInput\";\nvar RadioBubbleInput = React.forwardRef(\n  ({\n    __scopeRadio,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        type: \"radio\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nRadioBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\n\n// src/radio-group.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar RADIO_GROUP_NAME = \"RadioGroup\";\nvar [createRadioGroupContext, createRadioGroupScope] = createContextScope2(RADIO_GROUP_NAME, [\n  createRovingFocusGroupScope,\n  createRadioScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar useRadioScope = createRadioScope();\nvar [RadioGroupProvider, useRadioGroupContext] = createRadioGroupContext(RADIO_GROUP_NAME);\nvar RadioGroup = React2.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadioGroup,\n      name,\n      defaultValue,\n      value: valueProp,\n      required = false,\n      disabled = false,\n      orientation,\n      dir,\n      loop = true,\n      onValueChange,\n      ...groupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      defaultProp: defaultValue ?? null,\n      onChange: onValueChange,\n      caller: RADIO_GROUP_NAME\n    });\n    return /* @__PURE__ */ jsx2(\n      RadioGroupProvider,\n      {\n        scope: __scopeRadioGroup,\n        name,\n        required,\n        disabled,\n        value,\n        onValueChange: setValue,\n        children: /* @__PURE__ */ jsx2(\n          RovingFocusGroup.Root,\n          {\n            asChild: true,\n            ...rovingFocusGroupScope,\n            orientation,\n            dir: direction,\n            loop,\n            children: /* @__PURE__ */ jsx2(\n              Primitive2.div,\n              {\n                role: \"radiogroup\",\n                \"aria-required\": required,\n                \"aria-orientation\": orientation,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                dir: direction,\n                ...groupProps,\n                ref: forwardedRef\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroup.displayName = RADIO_GROUP_NAME;\nvar ITEM_NAME = \"RadioGroupItem\";\nvar RadioGroupItem = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, disabled, ...itemProps } = props;\n    const context = useRadioGroupContext(ITEM_NAME, __scopeRadioGroup);\n    const isDisabled = context.disabled || disabled;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    const ref = React2.useRef(null);\n    const composedRefs = useComposedRefs2(forwardedRef, ref);\n    const checked = context.value === itemProps.value;\n    const isArrowKeyPressedRef = React2.useRef(false);\n    React2.useEffect(() => {\n      const handleKeyDown = (event) => {\n        if (ARROW_KEYS.includes(event.key)) {\n          isArrowKeyPressedRef.current = true;\n        }\n      };\n      const handleKeyUp = () => isArrowKeyPressedRef.current = false;\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.addEventListener(\"keyup\", handleKeyUp);\n      return () => {\n        document.removeEventListener(\"keydown\", handleKeyDown);\n        document.removeEventListener(\"keyup\", handleKeyUp);\n      };\n    }, []);\n    return /* @__PURE__ */ jsx2(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !isDisabled,\n        active: checked,\n        children: /* @__PURE__ */ jsx2(\n          Radio,\n          {\n            disabled: isDisabled,\n            required: context.required,\n            checked,\n            ...radioScope,\n            ...itemProps,\n            name: context.name,\n            ref: composedRefs,\n            onCheck: () => context.onValueChange(itemProps.value),\n            onKeyDown: composeEventHandlers2((event) => {\n              if (event.key === \"Enter\") event.preventDefault();\n            }),\n            onFocus: composeEventHandlers2(itemProps.onFocus, () => {\n              if (isArrowKeyPressedRef.current) ref.current?.click();\n            })\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroupItem.displayName = ITEM_NAME;\nvar INDICATOR_NAME2 = \"RadioGroupIndicator\";\nvar RadioGroupIndicator = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, ...indicatorProps } = props;\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    return /* @__PURE__ */ jsx2(RadioIndicator, { ...radioScope, ...indicatorProps, ref: forwardedRef });\n  }\n);\nRadioGroupIndicator.displayName = INDICATOR_NAME2;\nvar Root2 = RadioGroup;\nvar Item2 = RadioGroupItem;\nvar Indicator = RadioGroupIndicator;\nexport {\n  Indicator,\n  Item2 as Item,\n  RadioGroup,\n  RadioGroupIndicator,\n  RadioGroupItem,\n  Root2 as Root,\n  createRadioGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\";\r\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\r\nimport { Circle } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst RadioGroup = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  return <RadioGroupPrimitive.Root className={cn(\"grid gap-2\", className)} {...props} ref={ref} />;\r\n});\r\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\r\n\r\nconst RadioGroupItem = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <RadioGroupPrimitive.Item\r\n      ref={ref}\r\n      className={cn(\r\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\r\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\r\n      </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n  );\r\n});\r\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\r\n\r\nexport { RadioGroup, RadioGroupItem };\r\n","import { useEffect, useState } from \"react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\n\r\ninterface JewelleryFormProps {\r\n  formData: any;\r\n  handleChange: (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\r\n  setFormData: (data: any) => void;\r\n}\r\n\r\nexport const JewelleryForm = ({ formData, handleChange, setFormData }: JewelleryFormProps) => {\r\n  const [vendorMakingCharges, setVendorMakingCharges] = useState(0);\r\n\r\n  // Fetch vendor's making charges on mount\r\n  useEffect(() => {\r\n    const fetchVendorProfile = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) return;\r\n\r\n      const { data } = await supabase\r\n        .from(\"vendor_profiles\")\r\n        .select(\"making_charges_per_gram\")\r\n        .eq(\"user_id\", user.id)\r\n        .maybeSingle();\r\n\r\n      if (data?.making_charges_per_gram) {\r\n        const charges = Number(data.making_charges_per_gram);\r\n        if (!isNaN(charges)) {\r\n          setVendorMakingCharges(charges);\r\n        }\r\n      }\r\n    };\r\n    fetchVendorProfile();\r\n  }, []);\r\n\r\n  // Auto-calculate T DWT (Total Diamond Weight): D.WT 1 + D.WT 2\r\n  useEffect(() => {\r\n    const dWt1 = parseFloat(formData.d_wt_1) || 0;\r\n    const dWt2 = parseFloat(formData.d_wt_2) || 0;\r\n    \r\n    const totalDiamondWeight = dWt1 + dWt2;\r\n    \r\n    if (totalDiamondWeight > 0 && totalDiamondWeight.toFixed(2) !== formData.diamond_weight) {\r\n      setFormData((prev: any) => ({\r\n        ...prev,\r\n        diamond_weight: totalDiamondWeight.toFixed(2)\r\n      }));\r\n    }\r\n  }, [formData.d_wt_1, formData.d_wt_2]);\r\n\r\n  // Auto-calculate D VALUE\r\n  useEffect(() => {\r\n    const dWt1 = parseFloat(formData.d_wt_1) || 0;\r\n    const dWt2 = parseFloat(formData.d_wt_2) || 0;\r\n    const dRate1 = parseFloat(formData.d_rate_1) || 0;\r\n    const pointerDiamond = parseFloat(formData.pointer_diamond) || 0;\r\n    const tDwt = parseFloat(formData.diamond_weight) || 0;\r\n\r\n    let calculatedDValue = 0;\r\n\r\n    // Primary formula: D.WT 1 × D RATE 1 + D.WT 2 × Pointer diamond\r\n    // Use this if both D.WT 1 or D.WT 2 exist (even if one is 0)\r\n    if (formData.d_wt_1 || formData.d_wt_2) {\r\n      calculatedDValue = (dWt1 * dRate1) + (dWt2 * pointerDiamond);\r\n    }\r\n    // Fallback formula: T DWT × D RATE 1 (when D.WT 1 and D.WT 2 are both missing)\r\n    else if (tDwt > 0 && dRate1 > 0) {\r\n      calculatedDValue = tDwt * dRate1;\r\n    }\r\n\r\n    if (calculatedDValue > 0 && calculatedDValue.toFixed(2) !== formData.d_value) {\r\n      setFormData((prev: any) => ({\r\n        ...prev,\r\n        d_value: calculatedDValue.toFixed(2)\r\n      }));\r\n    }\r\n  }, [formData.d_wt_1, formData.d_wt_2, formData.d_rate_1, formData.pointer_diamond, formData.diamond_weight]);\r\n\r\n  // Auto-calculate net weight: Gross Weight - (Diamond Weight + Gemstone Weight) / 5\r\n  useEffect(() => {\r\n    const grossWeight = parseFloat(formData.weight_grams) || 0;\r\n    const diamondWeightCarats = parseFloat(formData.diamond_weight) || 0;\r\n    const gemstoneWeightCarats = parseFloat(formData.carat_weight) || 0;\r\n    \r\n    if (grossWeight > 0 && (diamondWeightCarats > 0 || gemstoneWeightCarats > 0)) {\r\n      // Convert carats to grams by dividing by 5 (1 gram = 5 carats, so 1 carat = 0.2g)\r\n      const netWeight = grossWeight - ((diamondWeightCarats + gemstoneWeightCarats) / 5);\r\n      if (netWeight > 0 && netWeight.toFixed(3) !== formData.net_weight) {\r\n        setFormData((prev: any) => ({\r\n          ...prev,\r\n          net_weight: netWeight.toFixed(3)\r\n        }));\r\n      }\r\n    }\r\n  }, [formData.weight_grams, formData.diamond_weight, formData.carat_weight]);\r\n\r\n  // Auto-calculate Gemstone Cost: GEMSTONE WT × GEMSTONE RATE\r\n  useEffect(() => {\r\n    const gemstoneWeight = parseFloat(formData.carat_weight) || 0;\r\n    const gemstoneRate = parseFloat(formData.gemstone_rate) || 0;\r\n    \r\n    if (gemstoneWeight > 0 && gemstoneRate > 0) {\r\n      const calculatedGemstoneCost = gemstoneWeight * gemstoneRate;\r\n      if (calculatedGemstoneCost.toFixed(2) !== formData.gemstone_cost) {\r\n        setFormData((prev: any) => ({\r\n          ...prev,\r\n          gemstone_cost: calculatedGemstoneCost.toFixed(2)\r\n        }));\r\n      }\r\n    }\r\n  }, [formData.carat_weight, formData.gemstone_rate]);\r\n\r\n  // Auto-calculate MAKING charges (MKG): PER GRAM MAKING CHARGES × GROSS WEIGHT\r\n  useEffect(() => {\r\n    const grossWeight = parseFloat(formData.weight_grams) || 0;\r\n    \r\n    if (grossWeight > 0 && vendorMakingCharges > 0) {\r\n      const calculatedMkg = grossWeight * vendorMakingCharges;\r\n      if (calculatedMkg.toFixed(2) !== formData.mkg) {\r\n        setFormData((prev: any) => ({\r\n          ...prev,\r\n          mkg: calculatedMkg.toFixed(2)\r\n        }));\r\n      }\r\n    }\r\n  }, [formData.weight_grams, vendorMakingCharges]);\r\n\r\n  // Auto-calculate GOLD value and TOTAL price\r\n  useEffect(() => {\r\n    const netWeight = parseFloat(formData.net_weight) || 0;\r\n    const goldPerGram = parseFloat(formData.gold_per_gram_price) || 0;\r\n    const purityFraction = (parseFloat(formData.purity_fraction_used) || 100) / 100;\r\n    const diamondValue = parseFloat(formData.d_value) || 0;\r\n    const mkg = parseFloat(formData.mkg) || 0;\r\n    const certificationCost = parseFloat(formData.certification_cost) || 0;\r\n    const gemstoneCost = parseFloat(formData.gemstone_cost) || 0;\r\n    \r\n    // GOLD = NET WT × gold rate × PURITY_FRACTION_USED\r\n    const goldValue = netWeight * goldPerGram * purityFraction;\r\n    \r\n    // TOTAL = D VALUE + MAKING + GOLD + CERTIFICATION + GEMSTONE COST\r\n    const totalPrice = diamondValue + mkg + goldValue + certificationCost + gemstoneCost;\r\n    \r\n    if (totalPrice.toFixed(2) !== formData.retail_price) {\r\n      setFormData((prev: any) => ({\r\n        ...prev,\r\n        retail_price: totalPrice.toFixed(2),\r\n        cost_price: (totalPrice * 0.85).toFixed(2) // 85% of retail as default cost\r\n      }));\r\n    }\r\n  }, [\r\n    formData.net_weight,\r\n    formData.gold_per_gram_price,\r\n    formData.purity_fraction_used,\r\n    formData.d_value,\r\n    formData.mkg,\r\n    formData.certification_cost,\r\n    formData.gemstone_cost\r\n  ]);\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n        <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n        Jewellery Details\r\n        <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n      </h3>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"metal_type\">Metal Type</Label>\r\n          <Input\r\n            id=\"metal_type\"\r\n            name=\"metal_type\"\r\n            value={formData.metal_type}\r\n            onChange={handleChange}\r\n            placeholder=\"18k Gold\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"gemstone\">Gemstone</Label>\r\n          <Input\r\n            id=\"gemstone\"\r\n            name=\"gemstone\"\r\n            value={formData.gemstone}\r\n            onChange={handleChange}\r\n            placeholder=\"GH VS (Color Clarity)\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"weight_grams\">Gross Weight (g)</Label>\r\n          <Input\r\n            id=\"weight_grams\"\r\n            name=\"weight_grams\"\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            value={formData.weight_grams}\r\n            onChange={handleChange}\r\n            placeholder=\"4.37\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"carat_weight\">Gemstone Weight (ct)</Label>\r\n          <Input\r\n            id=\"carat_weight\"\r\n            name=\"carat_weight\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.carat_weight}\r\n            onChange={handleChange}\r\n            placeholder=\"0.50\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"net_weight\">Net Weight (g)</Label>\r\n          <Input\r\n            id=\"net_weight\"\r\n            name=\"net_weight\"\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            value={formData.net_weight}\r\n            onChange={handleChange}\r\n            placeholder=\"4.252\"\r\n            className=\"bg-muted/30\"\r\n            readOnly\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"d_wt_1\">D.WT 1 (ct)</Label>\r\n          <Input\r\n            id=\"d_wt_1\"\r\n            name=\"d_wt_1\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.d_wt_1}\r\n            onChange={handleChange}\r\n            placeholder=\"0.23\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"d_wt_2\">D.WT 2 (ct)</Label>\r\n          <Input\r\n            id=\"d_wt_2\"\r\n            name=\"d_wt_2\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.d_wt_2}\r\n            onChange={handleChange}\r\n            placeholder=\"0.36\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"diamond_weight\">Total D.WT (ct)</Label>\r\n          <Input\r\n            id=\"diamond_weight\"\r\n            name=\"diamond_weight\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.diamond_weight}\r\n            onChange={handleChange}\r\n            placeholder=\"0.59\"\r\n            className=\"bg-muted/30\"\r\n            readOnly\r\n          />\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Auto-calculated: D.WT 1 + D.WT 2\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"d_rate_1\">D Rate 1 (₹)</Label>\r\n          <Input\r\n            id=\"d_rate_1\"\r\n            name=\"d_rate_1\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.d_rate_1}\r\n            onChange={handleChange}\r\n            placeholder=\"15000\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"pointer_diamond\">Pointer Diamond (₹)</Label>\r\n          <Input\r\n            id=\"pointer_diamond\"\r\n            name=\"pointer_diamond\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.pointer_diamond}\r\n            onChange={handleChange}\r\n            placeholder=\"12000\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"d_value\">D Value (₹)</Label>\r\n          <Input\r\n            id=\"d_value\"\r\n            name=\"d_value\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.d_value}\r\n            onChange={handleChange}\r\n            placeholder=\"8850\"\r\n            className=\"bg-muted/30\"\r\n            readOnly\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"purity_fraction_used\">Purity (%)</Label>\r\n          <Input\r\n            id=\"purity_fraction_used\"\r\n            name=\"purity_fraction_used\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.purity_fraction_used}\r\n            onChange={handleChange}\r\n            placeholder=\"76\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"gold_per_gram_price\">Gold/Gram (₹)</Label>\r\n          <Input\r\n            id=\"gold_per_gram_price\"\r\n            name=\"gold_per_gram_price\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.gold_per_gram_price}\r\n            onChange={handleChange}\r\n            placeholder=\"7500\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"mkg\">Making Charges (₹)</Label>\r\n          <Input\r\n            id=\"mkg\"\r\n            name=\"mkg\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.mkg}\r\n            onChange={handleChange}\r\n            placeholder=\"4039.40\"\r\n            className=\"bg-muted/30\"\r\n            readOnly\r\n          />\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Auto-calculated: Gross Weight × {vendorMakingCharges}/g\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"retail_price\">Total Price (₹)</Label>\r\n          <Input\r\n            id=\"retail_price\"\r\n            name=\"retail_price\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.retail_price}\r\n            onChange={handleChange}\r\n            placeholder=\"0\"\r\n            className=\"bg-muted/30\"\r\n            readOnly\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"gemstone_rate\">Gemstone Rate (₹/ct)</Label>\r\n          <Input\r\n            id=\"gemstone_rate\"\r\n            name=\"gemstone_rate\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.gemstone_rate}\r\n            onChange={handleChange}\r\n            placeholder=\"5000\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"gemstone_cost\">Gemstone Cost (₹)</Label>\r\n          <Input\r\n            id=\"gemstone_cost\"\r\n            name=\"gemstone_cost\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.gemstone_cost}\r\n            onChange={handleChange}\r\n            placeholder=\"0\"\r\n            className=\"bg-muted/30\"\r\n            readOnly\r\n          />\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Auto-calculated: G.WT × Rate\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"certification_cost\">Cert Cost (₹)</Label>\r\n          <Input\r\n            id=\"certification_cost\"\r\n            name=\"certification_cost\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.certification_cost}\r\n            onChange={handleChange}\r\n            placeholder=\"0\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-4 bg-muted/50 rounded-lg border border-border\">\r\n        <p className=\"text-sm font-medium mb-3\">Formula Breakdown:</p>\r\n        <div className=\"space-y-2 text-sm\">\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-muted-foreground\">D Value:</span>\r\n            <span className=\"font-medium\">₹{parseFloat(formData.d_value || 0).toLocaleString('en-IN')}</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-muted-foreground\">Making Charges:</span>\r\n            <span className=\"font-medium\">₹{parseFloat(formData.mkg || 0).toLocaleString('en-IN')}</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-muted-foreground\">Gold Value:</span>\r\n            <span className=\"font-medium\">₹{(parseFloat(formData.net_weight || 0) * parseFloat(formData.gold_per_gram_price || 0) * (parseFloat(formData.purity_fraction_used || 100) / 100)).toLocaleString('en-IN')}</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-muted-foreground\">Certification:</span>\r\n            <span className=\"font-medium\">₹{parseFloat(formData.certification_cost || 0).toLocaleString('en-IN')}</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-muted-foreground\">Gemstone Cost:</span>\r\n            <span className=\"font-medium\">₹{parseFloat(formData.gemstone_cost || 0).toLocaleString('en-IN')}</span>\r\n          </div>\r\n          <div className=\"border-t pt-2 flex justify-between\">\r\n            <span className=\"font-semibold\">Total Price:</span>\r\n            <span className=\"font-bold text-primary\">₹{parseFloat(formData.retail_price || 0).toLocaleString('en-IN')}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\ninterface GemstonesFormProps {\r\n  formData: any;\r\n  handleChange: (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\r\n}\r\n\r\nexport const GemstonesForm = ({ formData, handleChange }: GemstonesFormProps) => {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n        <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n        Gemstone Details\r\n        <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n      </h3>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"gemstone_name\">Gemstone Name</Label>\r\n          <Input\r\n            id=\"gemstone_name\"\r\n            name=\"gemstone_name\"\r\n            value={formData.gemstone_name}\r\n            onChange={handleChange}\r\n            placeholder=\"Ruby, Sapphire, Emerald...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"gemstone_type\">Gemstone Type</Label>\r\n          <Input\r\n            id=\"gemstone_type\"\r\n            name=\"gemstone_type\"\r\n            value={formData.gemstone_type}\r\n            onChange={handleChange}\r\n            placeholder=\"Natural, Synthetic...\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"color\">Color</Label>\r\n          <Input\r\n            id=\"color\"\r\n            name=\"color\"\r\n            value={formData.color}\r\n            onChange={handleChange}\r\n            placeholder=\"Red, Blue, Green...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"clarity\">Clarity</Label>\r\n          <Input\r\n            id=\"clarity\"\r\n            name=\"clarity\"\r\n            value={formData.clarity}\r\n            onChange={handleChange}\r\n            placeholder=\"VVS, VS, SI...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"cut\">Cut</Label>\r\n          <Input\r\n            id=\"cut\"\r\n            name=\"cut\"\r\n            value={formData.cut}\r\n            onChange={handleChange}\r\n            placeholder=\"Excellent, Good...\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"carat_weight\">Carat Weight</Label>\r\n          <Input\r\n            id=\"carat_weight\"\r\n            name=\"carat_weight\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.carat_weight}\r\n            onChange={handleChange}\r\n            placeholder=\"5.50\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"per_carat_price\">Per Carat Price (₹)</Label>\r\n          <Input\r\n            id=\"per_carat_price\"\r\n            name=\"per_carat_price\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.per_carat_price}\r\n            onChange={handleChange}\r\n            placeholder=\"10000\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"color_shade_amount\">Color Shade Amount</Label>\r\n        <Input\r\n          id=\"color_shade_amount\"\r\n          name=\"color_shade_amount\"\r\n          value={formData.color_shade_amount}\r\n          onChange={handleChange}\r\n          placeholder=\"Vivid, Medium...\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\ninterface LooseDiamondsFormProps {\r\n  formData: any;\r\n  handleChange: (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\r\n}\r\n\r\nexport const LooseDiamondsForm = ({ formData, handleChange }: LooseDiamondsFormProps) => {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n        <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n        Diamond Details\r\n        <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n      </h3>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"shape\">Shape</Label>\r\n          <Input\r\n            id=\"shape\"\r\n            name=\"shape\"\r\n            value={formData.shape}\r\n            onChange={handleChange}\r\n            placeholder=\"Round, Princess, Oval...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"carat\">Carat</Label>\r\n          <Input\r\n            id=\"carat\"\r\n            name=\"carat\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            value={formData.carat}\r\n            onChange={handleChange}\r\n            placeholder=\"1.50\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"color\">Color</Label>\r\n          <Input\r\n            id=\"color\"\r\n            name=\"color\"\r\n            value={formData.color}\r\n            onChange={handleChange}\r\n            placeholder=\"D, E, F, G, H...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"clarity\">Clarity</Label>\r\n          <Input\r\n            id=\"clarity\"\r\n            name=\"clarity\"\r\n            value={formData.clarity}\r\n            onChange={handleChange}\r\n            placeholder=\"IF, VVS1, VVS2, VS1...\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"cut\">Cut</Label>\r\n          <Input\r\n            id=\"cut\"\r\n            name=\"cut\"\r\n            value={formData.cut}\r\n            onChange={handleChange}\r\n            placeholder=\"Excellent, Very Good...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"polish\">Polish</Label>\r\n          <Input\r\n            id=\"polish\"\r\n            name=\"polish\"\r\n            value={formData.polish}\r\n            onChange={handleChange}\r\n            placeholder=\"Excellent, Very Good...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"symmetry\">Symmetry</Label>\r\n          <Input\r\n            id=\"symmetry\"\r\n            name=\"symmetry\"\r\n            value={formData.symmetry}\r\n            onChange={handleChange}\r\n            placeholder=\"Excellent, Very Good...\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"fluorescence\">Fluorescence</Label>\r\n          <Input\r\n            id=\"fluorescence\"\r\n            name=\"fluorescence\"\r\n            value={formData.fluorescence}\r\n            onChange={handleChange}\r\n            placeholder=\"None, Faint, Medium...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"measurement\">Measurement</Label>\r\n          <Input\r\n            id=\"measurement\"\r\n            name=\"measurement\"\r\n            value={formData.measurement}\r\n            onChange={handleChange}\r\n            placeholder=\"6.50 x 6.55 x 4.05 mm\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"lab\">Lab</Label>\r\n          <Input\r\n            id=\"lab\"\r\n            name=\"lab\"\r\n            value={formData.lab}\r\n            onChange={handleChange}\r\n            placeholder=\"GIA, IGI, AGS...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"certification\">Certification #</Label>\r\n          <Input\r\n            id=\"certification\"\r\n            name=\"certification\"\r\n            value={formData.certification}\r\n            onChange={handleChange}\r\n            placeholder=\"Certificate number\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"ratio\">Ratio</Label>\r\n          <Input\r\n            id=\"ratio\"\r\n            name=\"ratio\"\r\n            value={formData.ratio}\r\n            onChange={handleChange}\r\n            placeholder=\"1.00 - 1.05\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <Label htmlFor=\"per_carat_price\">Per Carat Price (₹)</Label>\r\n        <Input\r\n          id=\"per_carat_price\"\r\n          name=\"per_carat_price\"\r\n          type=\"number\"\r\n          step=\"0.01\"\r\n          value={formData.per_carat_price}\r\n          onChange={handleChange}\r\n          placeholder=\"500000\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { ApprovalGuard } from \"@/components/ApprovalGuard\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\nimport { toast } from \"sonner\";\r\nimport { ArrowLeft } from \"lucide-react\";\r\nimport { useVendorPermissions } from \"@/hooks/useVendorPermissions\";\r\nimport { JewelleryForm } from \"@/components/forms/JewelleryForm\";\r\nimport { GemstonesForm } from \"@/components/forms/GemstonesForm\";\r\nimport { LooseDiamondsForm } from \"@/components/forms/LooseDiamondsForm\";\r\nimport { Upload, X, Loader2 } from \"lucide-react\";\r\nimport { PlanLimitWarning } from \"@/components/PlanLimitWarning\";\r\nimport { useRewardsSystem } from \"@/hooks/useRewardsSystem\";\r\nimport { jewelleryProductSchema } from \"@/lib/validations\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { AlertCircle } from \"lucide-react\";\r\n\r\nconst AddProduct = () => {\r\n  const navigate = useNavigate();\r\n  const { permissions, loading: permissionsLoading } = useVendorPermissions();\r\n  const { awardPoints } = useRewardsSystem();\r\n  const [loading, setLoading] = useState(false);\r\n  const [uploadingImages, setUploadingImages] = useState<{ [key: string]: boolean }>({});\r\n  const [approvedCategories, setApprovedCategories] = useState<string[]>([\"Jewellery\"]);\r\n  const [validationErrors, setValidationErrors] = useState<string[]>([]);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    sku: \"\",\r\n    category: \"\",\r\n    product_type: \"Jewellery\",\r\n    metal_type: \"\",\r\n    gemstone: \"\",\r\n    gemstone_name: \"\",\r\n    gemstone_type: \"\",\r\n    gemstone_rate: \"\",\r\n    color: \"\",\r\n    diamond_color: \"\",\r\n    clarity: \"\",\r\n    cut: \"\",\r\n    polish: \"\",\r\n    symmetry: \"\",\r\n    fluorescence: \"\",\r\n    shape: \"\",\r\n    measurement: \"\",\r\n    certification: \"\",\r\n    ratio: \"\",\r\n    lab: \"\",\r\n    weight_grams: \"\",\r\n    net_weight: \"\",\r\n    diamond_weight: \"\",\r\n    d_wt_1: \"\",\r\n    d_wt_2: \"\",\r\n    purity_fraction_used: \"\",\r\n    d_rate_1: \"\",\r\n    pointer_diamond: \"\",\r\n    d_value: \"\",\r\n    mkg: \"\",\r\n    carat: \"\",\r\n    carat_weight: \"\",\r\n    per_carat_price: \"\",\r\n    gold_per_gram_price: \"\",\r\n    certification_cost: \"\",\r\n    gemstone_cost: \"\",\r\n    cost_price: \"\",\r\n    retail_price: \"\",\r\n    total_usd: \"\",\r\n    stock_quantity: \"0\",\r\n    color_shade_amount: \"\",\r\n    image_url: \"\",\r\n    image_url_2: \"\",\r\n    image_url_3: \"\",\r\n    delivery_type: \"immediate delivery\",\r\n    dispatches_in_days: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchApprovedCategories();\r\n  }, []);\r\n\r\n  const fetchApprovedCategories = async () => {\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) return;\r\n\r\n      const { data, error } = await supabase\r\n        .from(\"user_approval_status\")\r\n        .select(\"approved_categories\")\r\n        .eq(\"user_id\", user.id)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      \r\n      const approved = data?.approved_categories || [\"Jewellery\"];\r\n      setApprovedCategories(approved);\r\n      setFormData(prev => ({ ...prev, product_type: approved[0] }));\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch approved categories:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!permissionsLoading && !permissions.can_add_products) {\r\n      toast.error(\"You don't have permission to add products\");\r\n      navigate(\"/\");\r\n    }\r\n  }, [permissions, permissionsLoading, navigate]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setValidationErrors([]);\r\n\r\n    // Validate jewelry products\r\n    if (formData.product_type === 'Jewellery') {\r\n      try {\r\n        jewelleryProductSchema.parse({\r\n          name: formData.name,\r\n          description: formData.description || undefined,\r\n          sku: formData.sku || undefined,\r\n          category: formData.category || undefined,\r\n          metal_type: formData.metal_type,\r\n          gemstone: formData.gemstone || undefined,\r\n          weight_grams: formData.weight_grams ? parseFloat(formData.weight_grams) : undefined,\r\n          net_weight: formData.net_weight ? parseFloat(formData.net_weight) : undefined,\r\n          gold_per_gram_price: formData.gold_per_gram_price ? parseFloat(formData.gold_per_gram_price) : undefined,\r\n          purity_fraction_used: formData.purity_fraction_used ? parseFloat(formData.purity_fraction_used) : undefined,\r\n          d_wt_1: formData.d_wt_1 ? parseFloat(formData.d_wt_1) : null,\r\n          d_wt_2: formData.d_wt_2 ? parseFloat(formData.d_wt_2) : null,\r\n          diamond_weight: formData.diamond_weight ? parseFloat(formData.diamond_weight) : null,\r\n          d_rate_1: formData.d_rate_1 ? parseFloat(formData.d_rate_1) : null,\r\n          pointer_diamond: formData.pointer_diamond ? parseFloat(formData.pointer_diamond) : null,\r\n          d_value: formData.d_value ? parseFloat(formData.d_value) : null,\r\n          mkg: formData.mkg ? parseFloat(formData.mkg) : undefined,\r\n          carat_weight: formData.carat_weight ? parseFloat(formData.carat_weight) : null,\r\n          gemstone_rate: formData.gemstone_rate ? parseFloat(formData.gemstone_rate) : null,\r\n          certification_cost: formData.certification_cost ? parseFloat(formData.certification_cost) : null,\r\n          gemstone_cost: formData.gemstone_cost ? parseFloat(formData.gemstone_cost) : null,\r\n          cost_price: formData.cost_price ? parseFloat(formData.cost_price) : undefined,\r\n          retail_price: formData.retail_price ? parseFloat(formData.retail_price) : undefined,\r\n          stock_quantity: parseInt(formData.stock_quantity),\r\n          delivery_type: formData.delivery_type === 'immediate delivery' ? 'immediate' : formData.delivery_type as 'immediate' | 'scheduled',\r\n          image_url: formData.image_url || null,\r\n          image_url_2: formData.image_url_2 || null,\r\n          image_url_3: formData.image_url_3 || null,\r\n        });\r\n      } catch (error: any) {\r\n        if (error.errors) {\r\n          const errors = error.errors.map((err: any) => `${err.path.join(' → ')}: ${err.message}`);\r\n          setValidationErrors(errors);\r\n          toast.error(\"Please fix the validation errors below\");\r\n          window.scrollTo({ top: 0, behavior: 'smooth' });\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) throw new Error(\"Not authenticated\");\r\n\r\n      const { error } = await supabase.from(\"products\").insert([\r\n        {\r\n          user_id: user.id,\r\n          name: formData.name,\r\n          description: formData.description || null,\r\n          sku: formData.sku || null,\r\n          category: formData.category || null,\r\n          product_type: formData.product_type,\r\n          metal_type: formData.metal_type || null,\r\n          gemstone: formData.gemstone || null,\r\n          gemstone_name: formData.gemstone_name || null,\r\n          gemstone_type: formData.gemstone_type || null,\r\n          color: formData.color || null,\r\n          diamond_color: formData.diamond_color || null,\r\n          clarity: formData.clarity || null,\r\n          cut: formData.cut || null,\r\n          polish: formData.polish || null,\r\n          symmetry: formData.symmetry || null,\r\n          fluorescence: formData.fluorescence || null,\r\n          shape: formData.shape || null,\r\n          measurement: formData.measurement || null,\r\n          certification: formData.certification || null,\r\n          ratio: formData.ratio || null,\r\n          lab: formData.lab || null,\r\n          weight_grams: formData.weight_grams ? parseFloat(formData.weight_grams) : null,\r\n          net_weight: formData.net_weight ? parseFloat(formData.net_weight) : null,\r\n          diamond_weight: formData.diamond_weight ? parseFloat(formData.diamond_weight) : null,\r\n          d_wt_1: formData.d_wt_1 ? parseFloat(formData.d_wt_1) : null,\r\n          d_wt_2: formData.d_wt_2 ? parseFloat(formData.d_wt_2) : null,\r\n          purity_fraction_used: formData.purity_fraction_used ? parseFloat(formData.purity_fraction_used) : null,\r\n          d_rate_1: formData.d_rate_1 ? parseFloat(formData.d_rate_1) : null,\r\n          pointer_diamond: formData.pointer_diamond ? parseFloat(formData.pointer_diamond) : null,\r\n          d_value: formData.d_value ? parseFloat(formData.d_value) : null,\r\n          mkg: formData.mkg ? parseFloat(formData.mkg) : null,\r\n          carat: formData.carat ? parseFloat(formData.carat) : null,\r\n          carat_weight: formData.carat_weight ? parseFloat(formData.carat_weight) : null,\r\n          per_carat_price: formData.per_carat_price ? parseFloat(formData.per_carat_price) : null,\r\n          gold_per_gram_price: formData.gold_per_gram_price ? parseFloat(formData.gold_per_gram_price) : null,\r\n          certification_cost: formData.certification_cost ? parseFloat(formData.certification_cost) : null,\r\n          gemstone_cost: formData.gemstone_cost ? parseFloat(formData.gemstone_cost) : null,\r\n          cost_price: parseFloat(formData.cost_price),\r\n          retail_price: parseFloat(formData.retail_price),\r\n          total_usd: formData.total_usd ? parseFloat(formData.total_usd) : null,\r\n          stock_quantity: parseInt(formData.stock_quantity),\r\n          color_shade_amount: formData.color_shade_amount || null,\r\n          image_url: formData.image_url || null,\r\n          image_url_2: formData.image_url_2 || null,\r\n          image_url_3: formData.image_url_3 || null,\r\n          delivery_type: formData.delivery_type,\r\n          dispatches_in_days: formData.dispatches_in_days ? parseInt(formData.dispatches_in_days) : null,\r\n        },\r\n      ]);\r\n\r\n      if (error) throw error;\r\n\r\n      // Award points for adding a product\r\n      try {\r\n        await awardPoints('product_added', { product_name: formData.name });\r\n      } catch (pointsError) {\r\n        console.error('Failed to award points:', pointsError);\r\n        // Don't fail the whole operation if points fail\r\n      }\r\n\r\n      toast.success(\"Product added successfully!\");\r\n      navigate(\"/\");\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Failed to add product\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleImageUpload = async (file: File, fieldName: string) => {\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      toast.error(\"Please upload an image file\");\r\n      return;\r\n    }\r\n\r\n    // Validate file size (max 5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      toast.error(\"Image size should be less than 5MB\");\r\n      return;\r\n    }\r\n\r\n    setUploadingImages(prev => ({ ...prev, [fieldName]: true }));\r\n\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) throw new Error(\"Not authenticated\");\r\n\r\n      // Create unique filename\r\n      const fileExt = file.name.split('.').pop();\r\n      const fileName = `${user.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${fileExt}`;\r\n\r\n      // Upload to Supabase Storage\r\n      const { data, error } = await supabase.storage\r\n        .from('product-images')\r\n        .upload(fileName, file, {\r\n          cacheControl: '3600',\r\n          upsert: false\r\n        });\r\n\r\n      if (error) throw error;\r\n\r\n      // Get public URL\r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from('product-images')\r\n        .getPublicUrl(data.path);\r\n\r\n      // Update form data\r\n      setFormData(prev => ({ ...prev, [fieldName]: publicUrl }));\r\n      toast.success(\"Image uploaded successfully!\");\r\n    } catch (error: any) {\r\n      console.error(\"Upload error:\", error);\r\n      toast.error(error.message || \"Failed to upload image\");\r\n    } finally {\r\n      setUploadingImages(prev => ({ ...prev, [fieldName]: false }));\r\n    }\r\n  };\r\n\r\n  const removeImage = (fieldName: string) => {\r\n    setFormData(prev => ({ ...prev, [fieldName]: \"\" }));\r\n  };\r\n\r\n  if (permissionsLoading) {\r\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <ApprovalGuard>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 py-8\">\r\n        <div className=\"container mx-auto px-4 max-w-4xl\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={() => navigate(\"/\")}\r\n            className=\"mb-6\"\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n            Back to Catalog\r\n          </Button>\r\n\r\n          <Card className=\"shadow-xl\">\r\n            <CardHeader className=\"border-b border-border/50\">\r\n              <CardTitle className=\"text-3xl font-serif bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent\">\r\n                Add New Product\r\n              </CardTitle>\r\n              <p className=\"text-muted-foreground text-sm mt-2\">Select a category and fill in the product details</p>\r\n            </CardHeader>\r\n            <CardContent className=\"pt-6\">\r\n              {/* Validation Errors */}\r\n              {validationErrors.length > 0 && (\r\n                <Alert variant=\"destructive\" className=\"mb-6\">\r\n                  <AlertCircle className=\"h-4 w-4\" />\r\n                  <AlertDescription>\r\n                    <div className=\"font-semibold mb-2\">Please fix the following errors:</div>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-sm\">\r\n                      {validationErrors.map((error, index) => (\r\n                        <li key={index}>{error}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </AlertDescription>\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Plan Limit Warning */}\r\n              <div className=\"mb-6\">\r\n                <PlanLimitWarning />\r\n              </div>\r\n              {/* Category Selector */}\r\n              {approvedCategories.length > 1 && (\r\n                <div className=\"mb-8 pb-6 border-b border-border/30\">\r\n                  <Label className=\"text-base font-semibold mb-4 block\">Select Product Category *</Label>\r\n                  <div className=\"flex gap-3 flex-wrap\">\r\n                    {approvedCategories.map((category) => {\r\n                      const isSelected = formData.product_type === category;\r\n                      const categoryKey = category.toLowerCase().replace(/\\s+/g, '-');\r\n                      \r\n                      const categoryStyles: Record<string, any> = {\r\n                        'jewellery': {\r\n                          gradient: 'from-category-jewellery/20 to-category-jewellery/5',\r\n                          border: 'border-category-jewellery/40',\r\n                          text: 'text-category-jewellery',\r\n                          glow: 'shadow-[0_0_20px_hsl(var(--category-jewellery)/0.3)]',\r\n                          icon: '💍'\r\n                        },\r\n                        'gemstones': {\r\n                          gradient: 'from-category-gemstone/20 to-category-gemstone/5',\r\n                          border: 'border-category-gemstone/40',\r\n                          text: 'text-category-gemstone',\r\n                          glow: 'shadow-[0_0_20px_hsl(var(--category-gemstone)/0.3)]',\r\n                          icon: '💎'\r\n                        },\r\n                        'loose-gemstones': {\r\n                          gradient: 'from-category-gemstone/20 to-category-gemstone/5',\r\n                          border: 'border-category-gemstone/40',\r\n                          text: 'text-category-gemstone',\r\n                          glow: 'shadow-[0_0_20px_hsl(var(--category-gemstone)/0.3)]',\r\n                          icon: '💎'\r\n                        },\r\n                        'loose-diamonds': {\r\n                          gradient: 'from-category-diamond/20 to-category-diamond/5',\r\n                          border: 'border-category-diamond/40',\r\n                          text: 'text-category-diamond',\r\n                          glow: 'shadow-[0_0_20px_hsl(var(--category-diamond)/0.3)]',\r\n                          icon: '✨'\r\n                        }\r\n                      };\r\n                      \r\n                      const style = categoryStyles[categoryKey] || categoryStyles['jewellery'];\r\n                      \r\n                      return (\r\n                        <button\r\n                          key={category}\r\n                          type=\"button\"\r\n                          onClick={() => setFormData({ ...formData, product_type: category })}\r\n                          className={`\r\n                            group relative overflow-hidden px-6 py-3 rounded-xl\r\n                            font-serif text-base font-semibold transition-all duration-300 ease-out\r\n                            ${isSelected \r\n                              ? `bg-gradient-to-br ${style.gradient} border-2 ${style.border} ${style.glow} scale-105` \r\n                              : 'bg-card/50 border-2 border-border/30 hover:border-border/60 hover:scale-102'\r\n                            }\r\n                          `}\r\n                        >\r\n                          <div className={`\r\n                            absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent\r\n                            -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-out\r\n                          `} />\r\n                          \r\n                          <span className={`\r\n                            relative flex items-center gap-2\r\n                            ${isSelected ? style.text : 'text-muted-foreground group-hover:text-foreground'}\r\n                            transition-colors duration-300\r\n                          `}>\r\n                            <span className=\"text-xl\">{style.icon}</span>\r\n                            <span className=\"tracking-wide\">{category}</span>\r\n                          </span>\r\n                          \r\n                          {isSelected && (\r\n                            <div className={`\r\n                              absolute bottom-0 left-1/2 -translate-x-1/2 h-1 w-3/4 rounded-full\r\n                              bg-gradient-to-r ${style.gradient} animate-pulse\r\n                            `} />\r\n                          )}\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                {/* Common Fields for All Categories */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                    Basic Information\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                  </h3>\r\n                  \r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"name\">Product Name *</Label>\r\n                    <Input\r\n                      id=\"name\"\r\n                      name=\"name\"\r\n                      value={formData.name}\r\n                      onChange={handleChange}\r\n                      required\r\n                      placeholder=\"Gold Diamond Ring\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"description\">Description</Label>\r\n                    <Textarea\r\n                      id=\"description\"\r\n                      name=\"description\"\r\n                      value={formData.description}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Beautiful 18k gold ring with diamond...\"\r\n                      rows={3}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"sku\">SKU</Label>\r\n                      <Input\r\n                        id=\"sku\"\r\n                        name=\"sku\"\r\n                        value={formData.sku}\r\n                        onChange={handleChange}\r\n                        placeholder=\"DPS19\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"category\">Sub-Category</Label>\r\n                      <Input\r\n                        id=\"category\"\r\n                        name=\"category\"\r\n                        value={formData.category}\r\n                        onChange={handleChange}\r\n                        placeholder=\"DIAMOND PANDENT SET\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Category-Specific Forms */}\r\n                {formData.product_type === 'Jewellery' && (\r\n                  <JewelleryForm\r\n                    formData={formData}\r\n                    handleChange={handleChange}\r\n                    setFormData={setFormData}\r\n                  />\r\n                )}\r\n\r\n                {(formData.product_type === 'Gemstones' || formData.product_type === 'Loose Gemstones') && (\r\n                  <GemstonesForm\r\n                    formData={formData}\r\n                    handleChange={handleChange}\r\n                  />\r\n                )}\r\n\r\n                {formData.product_type === 'Loose Diamonds' && (\r\n                  <LooseDiamondsForm\r\n                    formData={formData}\r\n                    handleChange={handleChange}\r\n                  />\r\n                )}\r\n\r\n                {/* Pricing Section - Common for All */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                    Pricing & Stock\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                  </h3>\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"cost_price\">Cost Price (₹) *</Label>\r\n                      <Input\r\n                        id=\"cost_price\"\r\n                        name=\"cost_price\"\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        value={formData.cost_price}\r\n                        onChange={handleChange}\r\n                        required\r\n                        placeholder=\"75000.00\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"retail_price\">Retail Price (₹) *</Label>\r\n                      <Input\r\n                        id=\"retail_price\"\r\n                        name=\"retail_price\"\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        value={formData.retail_price}\r\n                        onChange={handleChange}\r\n                        required\r\n                        placeholder=\"95000.00\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"stock_quantity\">Stock Quantity</Label>\r\n                    <Input\r\n                      id=\"stock_quantity\"\r\n                      name=\"stock_quantity\"\r\n                      type=\"number\"\r\n                      value={formData.stock_quantity}\r\n                      onChange={handleChange}\r\n                      placeholder=\"1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Images Section */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                    Product Images\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                  </h3>\r\n\r\n                  {/* Primary Image */}\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Primary Image *</Label>\r\n                    {formData.image_url ? (\r\n                      <div className=\"relative group\">\r\n                        <img\r\n                          src={formData.image_url}\r\n                          alt=\"Primary product\"\r\n                          className=\"w-full h-64 object-cover rounded-lg border-2 border-border\"\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => removeImage('image_url')}\r\n                          className=\"absolute top-2 right-2 bg-destructive text-destructive-foreground p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                        >\r\n                          <X className=\"h-4 w-4\" />\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"relative\">\r\n                        <input\r\n                          type=\"file\"\r\n                          id=\"image_upload\"\r\n                          accept=\"image/*\"\r\n                          className=\"hidden\"\r\n                          onChange={(e) => {\r\n                            const file = e.target.files?.[0];\r\n                            if (file) handleImageUpload(file, 'image_url');\r\n                          }}\r\n                          disabled={uploadingImages.image_url}\r\n                        />\r\n                        <label\r\n                          htmlFor=\"image_upload\"\r\n                          className={`\r\n                            flex flex-col items-center justify-center w-full h-64 \r\n                            border-2 border-dashed rounded-lg cursor-pointer\r\n                            bg-muted/50 hover:bg-muted transition-colors\r\n                            ${uploadingImages.image_url ? 'opacity-50 cursor-wait' : 'border-border hover:border-primary'}\r\n                          `}\r\n                        >\r\n                          {uploadingImages.image_url ? (\r\n                            <div className=\"flex flex-col items-center gap-2\">\r\n                              <Loader2 className=\"h-10 w-10 text-primary animate-spin\" />\r\n                              <span className=\"text-sm text-muted-foreground\">Uploading...</span>\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"flex flex-col items-center gap-2\">\r\n                              <Upload className=\"h-10 w-10 text-muted-foreground\" />\r\n                              <span className=\"text-sm font-medium\">Click to upload primary image</span>\r\n                              <span className=\"text-xs text-muted-foreground\">PNG, JPG up to 5MB</span>\r\n                            </div>\r\n                          )}\r\n                        </label>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Additional Images */}\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    {/* Image 2 */}\r\n                    <div className=\"space-y-2\">\r\n                      <Label>Image 2</Label>\r\n                      {formData.image_url_2 ? (\r\n                        <div className=\"relative group\">\r\n                          <img\r\n                            src={formData.image_url_2}\r\n                            alt=\"Product image 2\"\r\n                            className=\"w-full h-48 object-cover rounded-lg border-2 border-border\"\r\n                          />\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => removeImage('image_url_2')}\r\n                            className=\"absolute top-2 right-2 bg-destructive text-destructive-foreground p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                          >\r\n                            <X className=\"h-4 w-4\" />\r\n                          </button>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"relative\">\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"image_upload_2\"\r\n                            accept=\"image/*\"\r\n                            className=\"hidden\"\r\n                            onChange={(e) => {\r\n                              const file = e.target.files?.[0];\r\n                              if (file) handleImageUpload(file, 'image_url_2');\r\n                            }}\r\n                            disabled={uploadingImages.image_url_2}\r\n                          />\r\n                          <label\r\n                            htmlFor=\"image_upload_2\"\r\n                            className={`\r\n                              flex flex-col items-center justify-center w-full h-48 \r\n                              border-2 border-dashed rounded-lg cursor-pointer\r\n                              bg-muted/50 hover:bg-muted transition-colors\r\n                              ${uploadingImages.image_url_2 ? 'opacity-50 cursor-wait' : 'border-border hover:border-primary'}\r\n                            `}\r\n                          >\r\n                            {uploadingImages.image_url_2 ? (\r\n                              <Loader2 className=\"h-8 w-8 text-primary animate-spin\" />\r\n                            ) : (\r\n                              <div className=\"flex flex-col items-center gap-1\">\r\n                                <Upload className=\"h-8 w-8 text-muted-foreground\" />\r\n                                <span className=\"text-xs text-muted-foreground\">Upload image</span>\r\n                              </div>\r\n                            )}\r\n                          </label>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Image 3 */}\r\n                    <div className=\"space-y-2\">\r\n                      <Label>Image 3</Label>\r\n                      {formData.image_url_3 ? (\r\n                        <div className=\"relative group\">\r\n                          <img\r\n                            src={formData.image_url_3}\r\n                            alt=\"Product image 3\"\r\n                            className=\"w-full h-48 object-cover rounded-lg border-2 border-border\"\r\n                          />\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => removeImage('image_url_3')}\r\n                            className=\"absolute top-2 right-2 bg-destructive text-destructive-foreground p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                          >\r\n                            <X className=\"h-4 w-4\" />\r\n                          </button>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"relative\">\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"image_upload_3\"\r\n                            accept=\"image/*\"\r\n                            className=\"hidden\"\r\n                            onChange={(e) => {\r\n                              const file = e.target.files?.[0];\r\n                              if (file) handleImageUpload(file, 'image_url_3');\r\n                            }}\r\n                            disabled={uploadingImages.image_url_3}\r\n                          />\r\n                          <label\r\n                            htmlFor=\"image_upload_3\"\r\n                            className={`\r\n                              flex flex-col items-center justify-center w-full h-48 \r\n                              border-2 border-dashed rounded-lg cursor-pointer\r\n                              bg-muted/50 hover:bg-muted transition-colors\r\n                              ${uploadingImages.image_url_3 ? 'opacity-50 cursor-wait' : 'border-border hover:border-primary'}\r\n                            `}\r\n                          >\r\n                            {uploadingImages.image_url_3 ? (\r\n                              <Loader2 className=\"h-8 w-8 text-primary animate-spin\" />\r\n                            ) : (\r\n                              <div className=\"flex flex-col items-center gap-1\">\r\n                                <Upload className=\"h-8 w-8 text-muted-foreground\" />\r\n                                <span className=\"text-xs text-muted-foreground\">Upload image</span>\r\n                              </div>\r\n                            )}\r\n                          </label>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Delivery Section */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold text-foreground flex items-center gap-2\">\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                    Delivery\r\n                    <span className=\"h-px flex-1 bg-gradient-to-r from-transparent via-border to-transparent\"></span>\r\n                  </h3>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    <Label>Delivery Type</Label>\r\n                    <RadioGroup\r\n                      value={formData.delivery_type}\r\n                      onValueChange={(value) =>\r\n                        setFormData({ ...formData, delivery_type: value })\r\n                      }\r\n                    >\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <RadioGroupItem value=\"immediate delivery\" id=\"immediate\" />\r\n                        <Label htmlFor=\"immediate\">Immediate Delivery</Label>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <RadioGroupItem value=\"dispatches in\" id=\"scheduled\" />\r\n                        <Label htmlFor=\"scheduled\">Scheduled Delivery</Label>\r\n                      </div>\r\n                    </RadioGroup>\r\n                  </div>\r\n\r\n                  {formData.delivery_type === \"dispatches in\" && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"dispatches_in_days\">Dispatch in (days)</Label>\r\n                      <Input\r\n                        id=\"dispatches_in_days\"\r\n                        name=\"dispatches_in_days\"\r\n                        type=\"number\"\r\n                        value={formData.dispatches_in_days}\r\n                        onChange={handleChange}\r\n                        placeholder=\"3\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"pt-4\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    className=\"w-full h-12 text-lg shadow-lg hover:shadow-xl transition-all duration-300\"\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? \"Adding Product...\" : \"Add Product\"}\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </ApprovalGuard>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n"],"names":["RADIO_NAME","createRadioContext","createRadioScope","createContextScope","RadioProvider","useRadioContext","Radio","React.forwardRef","props","forwardedRef","__scopeRadio","name","checked","required","disabled","value","onCheck","form","radioProps","button","setButton","React.useState","composedRefs","useComposedRefs","node","hasConsumerStoppedPropagationRef","React.useRef","isFormControl","jsxs","jsx","Primitive","getState","composeEventHandlers","event","RadioBubbleInput","INDICATOR_NAME","RadioIndicator","forceMount","indicatorProps","context","Presence","BUBBLE_INPUT_NAME","control","bubbles","ref","prevChecked","usePrevious","controlSize","useSize","React.useEffect","input","inputProto","setChecked","ARROW_KEYS","RADIO_GROUP_NAME","createRadioGroupContext","createContextScope2","createRovingFocusGroupScope","useRovingFocusGroupScope","useRadioScope","RadioGroupProvider","useRadioGroupContext","RadioGroup","React2.forwardRef","__scopeRadioGroup","defaultValue","valueProp","orientation","dir","loop","onValueChange","groupProps","rovingFocusGroupScope","direction","useDirection","setValue","useControllableState","jsx2","RovingFocusGroup.Root","Primitive2","ITEM_NAME","RadioGroupItem","itemProps","isDisabled","radioScope","React2.useRef","useComposedRefs2","isArrowKeyPressedRef","React2.useEffect","handleKeyDown","handleKeyUp","RovingFocusGroup.Item","composeEventHandlers2","_a","INDICATOR_NAME2","RadioGroupIndicator","Root2","Item2","Indicator","className","RadioGroupPrimitive.Root","cn","RadioGroupPrimitive.Item","RadioGroupPrimitive.Indicator","Circle","JewelleryForm","formData","handleChange","setFormData","vendorMakingCharges","setVendorMakingCharges","useState","useEffect","user","supabase","data","charges","dWt1","dWt2","totalDiamondWeight","prev","dRate1","pointerDiamond","tDwt","calculatedDValue","grossWeight","diamondWeightCarats","gemstoneWeightCarats","netWeight","gemstoneWeight","gemstoneRate","calculatedGemstoneCost","calculatedMkg","goldPerGram","purityFraction","diamondValue","mkg","certificationCost","gemstoneCost","goldValue","totalPrice","Label","Input","GemstonesForm","LooseDiamondsForm","AddProduct","navigate","useNavigate","permissions","permissionsLoading","useVendorPermissions","awardPoints","useRewardsSystem","loading","setLoading","uploadingImages","setUploadingImages","approvedCategories","setApprovedCategories","validationErrors","setValidationErrors","fetchApprovedCategories","error","approved","toast","handleSubmit","e","jewelleryProductSchema","errors","err","pointsError","handleImageUpload","file","fieldName","fileExt","fileName","publicUrl","removeImage","ApprovalGuard","Button","ArrowLeft","Card","CardHeader","CardTitle","CardContent","Alert","AlertCircle","AlertDescription","index","PlanLimitWarning","category","isSelected","categoryKey","categoryStyles","style","Textarea","X","Loader2","Upload"],"mappings":"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","x_google_ignoreList":[0]}