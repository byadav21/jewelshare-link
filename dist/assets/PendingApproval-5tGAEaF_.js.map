{"version":3,"file":"PendingApproval-5tGAEaF_.js","sources":["../../src/pages/PendingApproval.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Clock, XCircle, LogOut } from \"lucide-react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useApprovalStatus } from \"@/hooks/useApprovalStatus\";\r\nimport { BackToHomeButton } from \"@/components/BackToHomeButton\";\r\n\r\nconst PendingApproval = () => {\r\n  const navigate = useNavigate();\r\n  const { status, loading, rejectionReason } = useApprovalStatus();\r\n\r\n  useEffect(() => {\r\n    if (!loading && status === \"approved\") {\r\n      navigate(\"/catalog\");\r\n    }\r\n  }, [status, loading, navigate]);\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    navigate(\"/auth\");\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\r\n        <div className=\"animate-pulse text-primary text-xl\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isPending = status === \"pending\";\r\n  const isRejected = status === \"rejected\";\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\r\n      <div className=\"absolute top-4 left-4\">\r\n        <BackToHomeButton variant=\"ghost\" />\r\n      </div>\r\n      <Card className=\"w-full max-w-md\">\r\n        <CardHeader className=\"text-center\">\r\n          {isPending ? (\r\n            <Clock className=\"w-16 h-16 mx-auto mb-4 text-primary animate-pulse\" />\r\n          ) : (\r\n            <XCircle className=\"w-16 h-16 mx-auto mb-4 text-destructive\" />\r\n          )}\r\n          <CardTitle className=\"text-2xl\">\r\n            {isPending ? \"Account Pending Approval\" : \"Account Not Approved\"}\r\n          </CardTitle>\r\n          <CardDescription className=\"text-base mt-2\">\r\n            {isPending\r\n              ? \"Your vendor account is currently under review by our admin team.\"\r\n              : \"Your vendor account application was not approved.\"}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {isPending && (\r\n            <div className=\"bg-muted p-4 rounded-lg\">\r\n              <p className=\"text-sm text-muted-foreground text-center\">\r\n                We typically review applications within 24-48 hours. You'll receive a notification once your account is approved.\r\n              </p>\r\n            </div>\r\n          )}\r\n          \r\n          {isRejected && rejectionReason && (\r\n            <div className=\"bg-destructive/10 border border-destructive/20 p-4 rounded-lg\">\r\n              <p className=\"text-sm font-medium mb-1\">Reason:</p>\r\n              <p className=\"text-sm text-muted-foreground\">{rejectionReason}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-2\">\r\n            <p className=\"text-sm text-center text-muted-foreground\">\r\n              Need assistance? Contact our support team.\r\n            </p>\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"w-full\"\r\n              onClick={handleLogout}\r\n            >\r\n              <LogOut className=\"mr-2 h-4 w-4\" />\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PendingApproval;\r\n"],"names":["PendingApproval","navigate","useNavigate","status","loading","rejectionReason","useApprovalStatus","useEffect","handleLogout","supabase","jsx","isPending","isRejected","jsxs","BackToHomeButton","Card","CardHeader","Clock","XCircle","CardTitle","CardDescription","CardContent","Button","LogOut"],"mappings":"+WASA,MAAMA,EAAkB,IAAM,CAC5B,MAAMC,EAAWC,EAAA,EACX,CAAE,OAAAC,EAAQ,QAAAC,EAAS,gBAAAC,CAAA,EAAoBC,EAAA,EAE7CC,EAAAA,UAAU,IAAM,CACV,CAACH,GAAWD,IAAW,YACzBF,EAAS,UAAU,CAEvB,EAAG,CAACE,EAAQC,EAASH,CAAQ,CAAC,EAE9B,MAAMO,EAAe,SAAY,CAC/B,MAAMC,EAAS,KAAK,QAAA,EACpBR,EAAS,OAAO,CAClB,EAEA,GAAIG,EACF,OACEM,EAAAA,IAAC,OAAI,UAAU,8DACb,eAAC,MAAA,CAAI,UAAU,qCAAqC,SAAA,YAAA,CAAU,CAAA,CAChE,EAIJ,MAAMC,EAAYR,IAAW,UACvBS,EAAaT,IAAW,WAE9B,OACEU,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAH,EAAAA,IAAC,OAAI,UAAU,wBACb,eAACI,EAAA,CAAiB,QAAQ,QAAQ,CAAA,CACpC,EACAD,EAAAA,KAACE,EAAA,CAAK,UAAU,kBACd,SAAA,CAAAF,EAAAA,KAACG,EAAA,CAAW,UAAU,cACnB,SAAA,CAAAL,EACCD,EAAAA,IAACO,GAAM,UAAU,mDAAA,CAAoD,EAErEP,EAAAA,IAACQ,EAAA,CAAQ,UAAU,yCAAA,CAA0C,QAE9DC,EAAA,CAAU,UAAU,WAClB,SAAAR,EAAY,2BAA6B,uBAC5C,QACCS,EAAA,CAAgB,UAAU,iBACxB,SAAAT,EACG,mEACA,mDAAA,CACN,CAAA,EACF,EACAE,EAAAA,KAACQ,EAAA,CAAY,UAAU,YACpB,SAAA,CAAAV,GACCD,EAAAA,IAAC,OAAI,UAAU,0BACb,eAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,mHAAA,CAEzD,CAAA,CACF,EAGDE,GAAcP,GACbQ,OAAC,MAAA,CAAI,UAAU,gEACb,SAAA,CAAAH,EAAAA,IAAC,IAAA,CAAE,UAAU,2BAA2B,SAAA,UAAO,EAC/CA,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAiC,SAAAL,CAAA,CAAgB,CAAA,EAChE,EAGFQ,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAH,EAAAA,IAAC,IAAA,CAAE,UAAU,4CAA4C,SAAA,6CAEzD,EACAG,EAAAA,KAACS,EAAA,CACC,QAAQ,UACR,UAAU,SACV,QAASd,EAET,SAAA,CAAAE,EAAAA,IAACa,EAAA,CAAO,UAAU,cAAA,CAAe,EAAE,QAAA,CAAA,CAAA,CAErC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ"}