import{j as e}from"./query-vendor-BLxHmmGk.js";import{u as w,r as c}from"./react-vendor-BeR0k5Z3.js";import{A as g}from"./AdminLayout-iDUtkfn_.js";import{s as a,C as m,i as p,k as h,g as C,l as x}from"./index-CX6yiz0b.js";import{l as y,aa as k,a3 as A,h as S,U as P,aJ as _,d as L,o as T}from"./ui-vendor-DjQqXt9S.js";import"./input-CiHC6UAI.js";import"./separator-D0WC8Ha9.js";import"./index-DhS5fNEb.js";import"./index-D6fUEw85.js";import"./NavLink-Bvq0lq1P.js";import"./index-BC78nHQ6.js";import"./index-DVcnno33.js";import"./supabase-vendor-VSDMYZ1k.js";import"./badge-45Abp579.js";const z=()=>{const i=w(),[t,u]=c.useState({blogPosts:0,publishedPosts:0,brands:0,pendingComments:0,activeSubscribers:0,totalVendors:0,pendingApprovals:0}),[v,b]=c.useState(!0);c.useEffect(()=>{f()},[]);const f=async()=>{try{const[{data:s},{data:r},{data:n},{data:o},{data:l},{data:d}]=await Promise.all([a.from("blog_posts").select("id, published"),a.from("brands").select("id"),a.from("blog_comments").select("id").eq("status","pending"),a.from("newsletter_subscribers").select("id").eq("is_active",!0),a.from("vendor_permissions").select("id"),a.from("user_approval_status").select("id").eq("status","pending")]);u({blogPosts:(s==null?void 0:s.length)||0,publishedPosts:(s==null?void 0:s.filter(N=>N.published).length)||0,brands:(r==null?void 0:r.length)||0,pendingComments:(n==null?void 0:n.length)||0,activeSubscribers:(o==null?void 0:o.length)||0,totalVendors:(l==null?void 0:l.length)||0,pendingApprovals:(d==null?void 0:d.length)||0})}catch(s){console.error("Failed to fetch stats",s)}finally{b(!1)}},j=[{title:"Blog Posts",value:t.blogPosts,description:`${t.publishedPosts} published`,icon:y,link:"/admin/blog",color:"text-blue-500"},{title:"Brand Logos",value:t.brands,description:"Active brands",icon:k,link:"/admin/brands",color:"text-purple-500"},{title:"Pending Comments",value:t.pendingComments,description:"Needs moderation",icon:A,link:"/admin/comments",color:"text-orange-500"},{title:"Newsletter Subscribers",value:t.activeSubscribers,description:"Active subscribers",icon:S,link:"/admin/newsletter",color:"text-green-500"},{title:"Total Vendors",value:t.totalVendors,description:"Registered vendors",icon:P,link:"/vendor-management",color:"text-indigo-500"},{title:"Pending Approvals",value:t.pendingApprovals,description:"Needs review",icon:_,link:"/vendor-approvals",color:"text-red-500"}];return v?e.jsx(g,{children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsx("div",{className:"animate-pulse",children:"Loading dashboard..."})})}):e.jsx(g,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of your platform's content and activity"})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.map(s=>e.jsxs(m,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>i(s.link),children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:s.title}),e.jsx(s.icon,{className:`h-5 w-5 ${s.color}`})]}),e.jsxs(C,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]},s.title))}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(m,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>i("/analytics-dashboard"),children:e.jsxs(p,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-primary"}),"Analytics Dashboard"]}),e.jsx(x,{children:"View detailed analytics and engagement metrics"})]})}),e.jsx(m,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>i("/audit-logs"),children:e.jsxs(p,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-primary"}),"Audit Logs"]}),e.jsx(x,{children:"Track admin actions and system changes"})]})})]})]})})};export{z as default};
//# sourceMappingURL=AdminDashboard-bKhT0L2v.js.map
