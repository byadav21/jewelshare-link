{"version":3,"mappings":";u2BAWO,MAAMA,EAAkB,CAAC,CAC9B,MAAAC,EACA,KAAAC,EAAO,IACP,UAAAC,EACA,UAAAC,EACA,YAAAC,EACA,YAAAC,EAAc,EAChB,IAA4B,CAC1B,MAAMC,EAAOH,IAAcE,EAAc,wBAA0B,gBAC7DE,EAASH,IAAgBC,EAAc,wBAA0B,gBACjEG,EAAUL,EAAY,EAAI,GAE1BM,EAAc,IAAM,CACxB,OAAQT,EAAA,CACN,IAAK,QACH,OACEU,OAAAC,WAAA,CACE,UAAAC,MAAC,UAAO,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,KAAAN,EAAY,QAAAE,CAAA,CAAkB,EAC7DI,MAAC,UAAO,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,EAC3EK,MAAC,UAAO,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,GAC3F,EAGJ,IAAK,WACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,QAAK,EAAE,KAAK,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,KAAAN,EAAY,QAAAE,CAAA,CAAkB,EACzEI,MAAC,QAAK,EAAE,KAAK,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,EACvFK,MAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,EACpFK,MAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,GACtF,EAGJ,IAAK,OACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,WAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,KAAAN,EAAY,QAAAE,CAAA,CAAkB,EACvEI,MAAC,WAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,QACpF,WAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,KAAK,OAAO,OAAAA,EAAgB,YAAY,IAAI,QAAQ,MAAM,GACrG,EAGJ,IAAK,UACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,QAAK,EAAE,KAAK,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,GAAG,KAAK,KAAAN,EAAY,QAAAE,EAAkB,QAChF,QAAK,EAAE,KAAK,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,GAAG,KAAK,KAAK,OAAO,OAAAD,EAAgB,YAAY,IAAI,QAC9F,QAAK,EAAE,KAAK,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,GAAG,KAAK,KAAK,OAAO,OAAAA,EAAgB,YAAY,IAAI,QAAQ,MAAM,GAC/G,EAGJ,IAAK,UACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,WAAQ,OAAO,0BAA0B,KAAAN,EAAY,QAAAE,EAAkB,EACxEI,MAAC,WAAQ,OAAO,0BAA0B,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,EACtFK,MAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,EACpFK,MAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,EACpFK,MAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,GACtF,EAGJ,IAAK,OACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,QAAK,EAAE,mDAAmD,KAAAN,EAAY,QAAAE,EAAkB,EACzFI,MAAC,QAAK,EAAE,mDAAmD,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,GACzG,EAGJ,IAAK,WACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,WAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,KAAAN,EAAY,QAAAE,CAAA,CAAkB,EACvEI,MAAC,WAAQ,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,EACrFK,MAAC,QAAK,GAAG,IAAI,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,GACrF,EAGJ,IAAK,QACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,QAAK,EAAE,0FAA0F,KAAAN,EAAY,QAAAE,EAAkB,EAChII,MAAC,QAAK,EAAE,0FAA0F,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,GAChJ,EAGJ,IAAK,UACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,WAAQ,OAAO,qCAAqC,KAAAN,EAAY,QAAAE,EAAkB,EACnFI,MAAC,WAAQ,OAAO,qCAAqC,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,GACnG,EAGJ,IAAK,UACH,OACEG,OAAAC,WAAA,CACE,UAAAC,MAAC,WAAQ,OAAO,8CAA8C,KAAAN,EAAY,QAAAE,EAAkB,EAC5FI,MAAC,WAAQ,OAAO,8CAA8C,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,EAC1GK,MAAC,WAAQ,OAAO,kDAAkD,KAAK,OAAO,OAAAL,EAAgB,YAAY,IAAI,QAAQ,MAAM,GAC9H,EAGJ,QACE,OAAO,KAEb,EAEA,OACEG,OAAC,OAAI,QAAQ,cAAc,UAAAR,EAAsB,MAAO,CAAE,MAAOD,EAAM,OAAQA,CAAA,EAC5E,UAAAI,GACCO,MAAC,QACC,SAAAF,OAAC,kBAAe,GAAG,kBAAkB,GAAG,KAAK,GAAG,KAAK,GAAG,OAAO,GAAG,OAChE,UAAAE,MAAC,QAAK,OAAO,KAAK,UAAU,2BAA2B,EACvDA,MAAC,QAAK,OAAO,OAAO,UAAU,yBAAyB,GACzD,EACF,EAEDH,EAAA,CAAY,EACf,CAEJ,ECtGaI,EAAWC,GAAsC,CAC5D,MAAMC,EAAUD,EAAS,QAAQ,OAAQ,EAAE,EAC3C,GAAIC,EAAQ,SAAS,GAAG,EAAG,CACzB,MAAMC,EAAQD,EAAQ,MAAM,GAAG,EAAE,IAAIE,GAAK,WAAWA,CAAC,CAAC,EACvD,GAAID,EAAM,SAAW,GAAK,CAAC,MAAMA,EAAM,CAAC,CAAC,GAAK,CAAC,MAAMA,EAAM,CAAC,CAAC,EAC3D,MAAO,CAAE,OAAQA,EAAM,CAAC,EAAG,MAAOA,EAAM,CAAC,EAE7C,KAAO,CACL,MAAME,EAAM,WAAWH,CAAO,EAC9B,GAAI,CAAC,MAAMG,CAAG,EACZ,MAAO,CAAE,OAAQA,EAAK,MAAOA,CAAA,CAEjC,CACA,OAAO,IACT,EAkBaC,EAAkBC,GAA0B,CAEvD,MAAMC,EAAQ,GAAaD,EAAQ,GACnC,OAAO,KAAK,IAAIC,EAAO,GAAG,CAC5B,EAyCaC,GAAuBR,GAA6B,CAC/D,MAAMS,EAASV,EAAQC,CAAQ,EAC/B,OAAKS,GACGA,EAAO,OAASA,EAAO,MAAQ,MAAO,QAAQ,CAAC,EADnC,KAEtB,ECjGaC,GAAqB,CAAC,CACjC,cAAAC,EACA,aAAAC,EACA,YAAAC,EACA,aAAAC,EACA,YAAAC,CACF,IAEInB,OAAC,OAAI,UAAU,6GACb,UAAAA,OAAC,OAAI,UAAU,oDACb,UAAAE,MAAC,OAAI,UAAU,gEAAgE,EAC/EA,MAAC,OAAI,UAAU,yEAAyE,GAC1F,SAEC,OAAI,UAAWkB,EAAG,0BAA2BH,GAAe,QAAQ,EACnE,UAAAjB,OAACqB,EAAO,IAAP,CAEC,QAAS,CAAE,MAAO,EAAG,QAAS,GAC9B,QAAS,CAAE,MAAO,EAAG,QAAS,GAC9B,WAAY,CAAE,KAAM,SAAU,UAAW,IAAK,QAAS,IACvD,UAAU,6BAEV,UAAAnB,MAACb,GAAgB,MAAO0B,EAAe,KAAMN,EAAeO,EAAa,KAAK,EAAG,EACjFhB,OAACsB,EAAA,CAAM,QAAQ,YAAY,UAAU,OAAQ,UAAAN,EAAa,MAAM,OAAG,IAP9D,GAAGD,CAAa,IAAIC,EAAa,KAAK,IAU7Cd,MAACqB,GACE,SAAAN,GACCjB,OAACqB,EAAO,IAAP,CACC,QAAS,CAAE,MAAO,EAAG,QAAS,EAAG,EAAG,KACpC,QAAS,CAAE,MAAO,EAAG,QAAS,EAAG,EAAG,GACpC,KAAM,CAAE,MAAO,EAAG,QAAS,EAAG,EAAG,KACjC,UAAU,6BAEV,UAAAnB,MAACb,GAAgB,MAAO6B,EAAc,KAAMT,EAAeU,EAAY,KAAK,EAAG,EAC/EnB,OAACsB,EAAA,CAAM,QAAQ,UAAU,UAAU,OAAQ,UAAAH,EAAY,MAAM,OAAG,IAClE,CAEJ,GACF,GACF,ECxCSK,GAAmB,CAAC,CAC/B,MAAAC,EACA,mBAAAC,EACA,cAAAC,CACF,IAEIzB,MAAC,OAAI,UAAU,oCACb,SAAAA,MAAC,OAAI,UAAU,kBACb,SAAAF,OAAC,SAAM,UAAU,SACf,UAAAE,MAAC,SACC,SAAAF,OAAC,MAAG,UAAU,cACZ,UAAAE,MAAC,MAAG,UAAU,4CAA4C,iBAAK,EAC/DA,MAAC,MAAG,UAAU,4CAA4C,2BAAe,EACzEA,MAAC,MAAG,UAAU,4CAA4C,sBAAU,EACpEA,MAAC,MAAG,UAAU,8CAA8C,kBAAM,GACpE,EACF,QACC,SACE,SAAAuB,EAAM,IAAI,CAAClC,EAAMqC,IAChB5B,OAAC,MAEC,UAAWoB,EACT,4CACAQ,IAAUF,EAAqB,gBAAkB,qBAEnD,QAAS,IAAMC,EAAcC,CAAK,EAElC,UAAA1B,MAAC,MAAG,UAAU,YACZ,SAAAF,OAACsB,EAAA,CAAM,QAASM,IAAUF,EAAqB,UAAY,UAAW,UAAU,YAC7E,UAAAnC,EAAK,MAAM,OACd,EACF,EACAW,MAAC,MAAG,UAAU,wBAAyB,WAAK,GAAG,EAC/CA,MAAC,MAAG,UAAU,kCAAmC,WAAK,MAAM,QAC3D,MAAG,UAAU,YACZ,SAAAA,MAAC,OAAI,UAAU,sBACb,SAAAA,MAAC,OACC,UAAU,0EACV,MAAO,CAAE,MAAO,KAAK,IAAI,EAAGX,EAAK,MAAQ,EAAE,EAAG,OAAQ,KAAK,IAAI,EAAGA,EAAK,MAAQ,EAAE,EAAE,GAEvF,EACF,IArBKA,EAAK,MAuBb,EACH,GACF,EACF,EACF,EC7DSsC,EAAiB,CAC5B,MAAO,CACL,KAAM,kBACN,YAAa,+CACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,GAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,IAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,EAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,KAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,IAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,KAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,EAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,IAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,EAAM,GAAI,MAAO,MAAO,OACjC,CAAE,MAAO,EAAM,GAAI,OAAQ,MAAO,OAClC,CAAE,MAAO,EAAM,GAAI,OAAQ,MAAO,MAAM,CAC1C,EAEF,SAAU,CACR,KAAM,eACN,YAAa,uCACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,MAAM,CAC/C,EAEF,KAAM,CACJ,KAAM,OACN,YAAa,yCACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,IAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,MAAM,CAChD,EAEF,QAAS,CACP,KAAM,cACN,YAAa,mCACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,MAAM,CAC/C,EAEF,QAAS,CACP,KAAM,cACN,YAAa,+BACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,MAAM,CAChD,EAEF,KAAM,CACJ,KAAM,aACN,YAAa,8CACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,IAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,MAAM,CAChD,EAEF,SAAU,CACR,KAAM,WACN,YAAa,oCACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,KAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,IAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,KAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,IAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,OACxC,CAAE,MAAO,EAAM,GAAI,aAAc,MAAO,MAAM,CAChD,EAEF,MAAO,CACL,KAAM,cACN,YAAa,0BACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,cAAe,MAAO,OACzC,CAAE,MAAO,EAAM,GAAI,cAAe,MAAO,MAAM,CACjD,EAEF,QAAS,CACP,KAAM,cACN,YAAa,wCACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,MAAM,CAC/C,EAEF,QAAS,CACP,KAAM,cACN,YAAa,uCACb,KAAM,IACN,MAAO,CACL,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,GAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,KAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,IAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,OACvC,CAAE,MAAO,EAAM,GAAI,YAAa,MAAO,MAAM,CAC/C,CAEJ,EAKaC,EAAyC,CACpD,MAAO,sBACP,SAAU,qBACV,KAAM,qBACN,QAAS,qBACT,QAAS,qBACT,KAAM,oBACN,SAAU,oBACV,MAAO,mBACP,QAAS,qBACT,QAAS,oBACX,EAGaC,EAAa,CACxB,CAAE,KAAM,EAAG,WAAY,KAAM,cAAe,MAC5C,CAAE,KAAM,EAAG,WAAY,KAAM,cAAe,MAC5C,CAAE,KAAM,EAAG,WAAY,KAAM,cAAe,MAC5C,CAAE,KAAM,EAAG,WAAY,KAAM,cAAe,MAC5C,CAAE,KAAM,EAAG,WAAY,KAAM,cAAe,MAC5C,CAAE,KAAM,EAAG,WAAY,GAAM,cAAe,MAC5C,CAAE,KAAM,GAAI,WAAY,KAAM,cAAe,KAC/C,EC7MMC,GAAmBC,GAAqB,CAC5C,MAAMC,EAAOH,EAAW,KAAKI,GAAKA,EAAE,OAASF,CAAQ,EACrD,OAAOC,GAAA,YAAAA,EAAM,aAAc,IAC7B,EAEaE,GAAkB,CAAC,CAC9B,cAAArB,EACA,aAAAC,EACA,iBAAAqB,EACA,iBAAAC,CACF,IAA4B,CAE1B,MAAMC,EAAYV,EAAed,CAAa,EACxCyB,EAAeR,GAAgBK,CAAgB,EAC/CI,EAAc,WAAWzB,EAAa,GAAG,MAAM,GAAG,EAAE,CAAC,GAAKA,EAAa,EAAE,EAE/E,OACEhB,OAAC,OAAI,UAAU,YACb,UAAAE,MAAC,OAAI,UAAU,sCACZ,SAAA6B,EAAW,IAAKG,GACflC,OAAC0C,EAAA,CAEC,QAASL,IAAqBH,EAAK,KAAO,UAAY,UACtD,KAAK,KACL,QAAS,IAAMI,EAAiBJ,EAAK,IAAI,EACzC,UAAU,eACX,kBACOA,EAAK,OANNA,EAAK,KAQb,EACH,QAEC,OAAI,UAAU,iDACb,SAAAlC,OAAC,OAAI,UAAU,WACb,UAAAA,OAACqB,EAAO,IAAP,CACC,UAAU,yHACV,MAAO,CAAE,MAAOmB,EAAe,EAAY,GAAI,OAAQ,KACvD,QAAS,CAAE,MAAO,IAClB,QAAS,CAAE,MAAO,GAClB,WAAY,CAAE,KAAM,UAEpB,UAAAtC,MAAC,OACC,UAAU,gHACV,MAAO,CAAE,MAAOsC,EAAe,EAAY,GAAI,OAAQ,GAAG,GAE5DtC,MAACmB,EAAO,IAAP,CACC,UAAU,qCACV,MAAO,CAAE,IAAK,KACd,QAAS,CAAE,MAAO,GAClB,QAAS,CAAE,MAAO,GAClB,WAAY,CAAE,MAAO,GAAK,KAAM,UAEhC,SAAAnB,MAACb,EAAA,CACC,MAAO0B,EACP,KAAM0B,EAAc,GACtB,EACF,IAGFzC,OAAC,OAAI,UAAU,gFACb,UAAAA,OAAC,OAAI,UAAU,0BACb,UAAAE,MAAC,OAAI,UAAU,qCAAqC,EACpDF,OAAC,QAAK,UAAU,wBAAwB,uBAAWqC,CAAA,EAAiB,GACtE,EACArC,OAAC,OAAI,UAAU,0BACb,UAAAE,MAAC,OAAI,UAAU,wCAAwC,EACvDF,OAAC,QAAK,UAAU,wBAAyB,UAAAwC,EAAa,OAAG,GAC3D,GACF,GACF,EACF,QAEC,OAAI,UAAU,uDACZ,SAAAT,EAAW,IAAKG,GACflC,OAAC,OAEC,UAAWoB,EACT,kEACAiB,IAAqBH,EAAK,KAAO,+BAAiC,iCAEpE,QAAS,IAAMI,EAAiBJ,EAAK,IAAI,EAEzC,UAAAlC,OAAC,KAAE,UAAU,gBAAgB,kBAAMkC,EAAK,MAAK,EAC7ClC,OAAC,KAAE,UAAU,gCAAiC,UAAAkC,EAAK,WAAW,OAAG,IAR5DA,EAAK,KAUb,EACH,QAEC,OAAI,UAAU,oCACb,SAAAlC,OAAC,OAAI,UAAU,yBACb,UAAAE,MAACyC,EAAA,CAAK,UAAU,8BAA8B,EAC9C3C,OAAC,OAAI,UAAU,UACb,UAAAA,OAAC,KAAE,UAAU,mBACV,UAAAgB,EAAa,MAAM,OAAKuB,EAAU,KAAK,YAAUF,EAAiB,WACrE,EACArC,OAAC,KAAE,UAAU,wBAAwB,8BACjBgB,EAAa,GAAG,wBAAsBwB,EAAa,gBACpE,IACAC,EAAcD,EAAe,IAC1B,wDACAC,EAAcD,EAAe,IAC7B,wDACA,gDACN,GACF,GACF,EACF,GACF,CAEJ,EC1GaI,GAAoB,CAAC,CAChC,eAAAC,EACA,kBAAAC,EACA,mBAAAC,EACA,mBAAAC,EACA,cAAAC,CACF,IAA8B,CAC5B,MAAMC,EAAY,OAAO,KAAKrB,CAAc,EAE5C,OACE7B,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OAAI,UAAU,oCACb,UAAAE,MAAC,KAAE,UAAU,sBAAsB,0CAA8B,EACjEF,OAACsB,EAAA,CAAM,QAAQ,YAAa,UAAAuB,EAAe,OAAO,aAAS,GAC7D,QACC,OAAI,UAAU,wDACZ,SAAAK,EAAU,IAAK5D,GAAU,CACxB,MAAM6D,EAAaN,EAAe,SAASvD,CAAK,EAChD,OACEU,OAACqB,EAAO,OAAP,CAEC,QAAS,IAAM4B,EAAc3D,CAAK,EAClC,UAAW8B,EACT,kDACA+B,EAAa,+BAAiC,yCAEhD,WAAY,CAAE,MAAO,MACrB,SAAU,CAAE,MAAO,KAEnB,UAAAjD,MAACb,EAAA,CAAgB,MAAAC,EAAc,KAAM,GAAI,UAAU,UAAU,EAC7DY,MAAC,QAAK,UAAU,iDACb,SAAA2B,EAAevC,CAAK,EAAE,KAAK,MAAM,GAAG,EAAE,CAAC,EAC1C,EACC6D,GACCjD,MAAC,OAAI,UAAU,8CAA8C,MAAO,CAAE,gBAAiB4B,EAAaxC,CAAK,EAAE,CAAG,IAd3GA,CAAA,CAkBX,CAAC,EACH,GACF,EAEAU,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OAAI,UAAU,oCACb,UAAAA,OAAC,QAAK,UAAU,8CACd,UAAAE,MAACkD,EAAA,CAAM,UAAU,UAAU,EAAE,gBAE/B,EACApD,OAACsB,EAAA,CAAM,UAAU,oBAAqB,UAAAyB,EAAmB,OAAG,GAC9D,EACA7C,MAACmD,EAAA,CACC,MAAO,CAACP,CAAiB,EACzB,cAAgBQ,GAAUN,EAAmBM,EAAM,CAAC,CAAC,EACrD,IAAKzB,EAAe,MAAM,MAAM,OAAS,EACzC,KAAM,EACN,UAAU,QACZ,EACF,EAEA7B,OAAC,OAAI,UAAU,wHACb,UAAAA,OAAC,OAAI,UAAU,wEACb,UAAAE,MAAC,OAAI,UAAU,gEAAgE,EAC/EA,MAAC,OAAI,UAAU,yEAAyE,GAC1F,EAEAA,MAAC,OAAI,UAAU,WACZ,WAAe,IAAI,CAACZ,EAAOsC,IAAU,CAEpC,MAAM2B,EADY1B,EAAevC,CAAK,EACX,MAAMwD,CAAiB,EAClD,GAAI,CAACS,EAAU,OAAO,KAEtB,MAAM1C,EAASV,EAAQoD,EAAS,EAAE,EAClC,GAAI,CAAC1C,EAAQ,OAAO,KAEpB,MAAM2C,EAAQ3C,EAAO,OAAS,GACxB4C,EAAS5C,EAAO,MAAQ,GAE9B,OACEX,MAACmB,EAAO,IAAP,CAEC,UAAU,WACV,MAAO,CACL,KAAM,MAAO,IAAK,MAAO,UAAW,wBACpC,OAAQwB,EAAe,OAASjB,CAAA,EAElC,QAAS,CAAE,MAAO,EAAG,QAAS,GAC9B,QAAS,CAAE,MAAO,EAAG,QAAS,IAC9B,WAAY,CAAE,MAAOA,EAAQ,GAAK,KAAM,UAExC,SAAA1B,MAACb,EAAA,CACC,MAAAC,EACA,KAAM,KAAK,IAAIkE,EAAOC,CAAM,EAC5B,UAAW3B,EAAaxC,CAAK,EAC7B,YAAawC,EAAaxC,CAAK,EAC/B,YAAa,IACf,EAhBKA,CAAA,CAmBX,CAAC,EACH,GACF,QAEC,OAAI,UAAU,sCACZ,SAAAuD,EAAe,IAAKvD,GAAU,CAC7B,MAAMiE,EAAW1B,EAAevC,CAAK,EAAE,MAAMwD,CAAiB,EAC9D,OACE9C,OAAC,OAAgB,UAAU,kEACzB,UAAAE,MAAC,OAAI,UAAU,uBAAuB,MAAO,CAAE,gBAAiB4B,EAAaxC,CAAK,GAAK,EACvFY,MAAC,QAAK,UAAU,sBAAuB,SAAA2B,EAAevC,CAAK,EAAE,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE,EAChFU,OAAC,QAAK,UAAU,gCAAiC,UAAAuD,GAAA,YAAAA,EAAU,GAAG,OAAG,IAHzDjE,CAIV,CAEJ,CAAC,EACH,QAEC,OAAI,UAAU,oCACb,SAAAU,OAAC,SAAM,UAAU,SACf,UAAAE,MAAC,SACC,SAAAF,OAAC,MAAG,UAAU,cACZ,UAAAE,MAAC,MAAG,UAAU,4CAA4C,iBAAK,EAC/DA,MAAC,MAAG,UAAU,4CAA4C,sBAAU,EACpEA,MAAC,MAAG,UAAU,4CAA4C,iBAAK,EAC/DA,MAAC,MAAG,UAAU,4CAA4C,wBAAY,GACxE,EACF,QACC,SACE,SAAA2C,EAAe,IAAI,CAACvD,EAAOsC,IAAU,CACpC,MAAM2B,EAAW1B,EAAevC,CAAK,EAAE,MAAMwD,CAAiB,EAC9D,OACE9C,OAAC,MAAe,UAAWoB,EAAG,WAAYQ,EAAQ,IAAM,GAAK,aAAa,EACxE,UAAA1B,MAAC,MAAG,UAAU,YACZ,SAAAF,OAAC,OAAI,UAAU,0BACb,UAAAE,MAAC,OAAI,UAAU,uBAAuB,MAAO,CAAE,gBAAiB4B,EAAaxC,CAAK,GAAK,QACtF,QAAK,UAAU,cAAe,SAAAuC,EAAevC,CAAK,EAAE,KAAK,GAC5D,EACF,EACAU,OAAC,MAAG,UAAU,YAAa,UAAAuD,GAAA,YAAAA,EAAU,GAAG,OAAG,EAC3CvD,OAAC,MAAG,UAAU,kCAAmC,UAAAuD,GAAA,YAAAA,EAAU,MAAM,OAAG,EACpEvD,OAAC,MAAG,UAAU,YAAY,cAAEY,IAAoB2C,GAAA,YAAAA,EAAU,KAAM,GAAG,EAAE,QAAI,IATlEjE,CAUT,CAEJ,CAAC,EACH,GACF,EACF,QAEC,OAAI,UAAU,uDACb,SAAAU,OAAC,OAAI,UAAU,yBACb,UAAAE,MAACwD,EAAA,CAAK,UAAU,8BAA8B,EAC9C1D,OAAC,OAAI,UAAU,UACb,UAAAE,MAAC,KAAE,UAAU,mBAAmB,mCAAuB,EACvDF,OAAC,KAAE,UAAU,wBAAwB,gBAC/B+C,EAAmB,mPAGzB,GACF,GACF,EACF,GACF,CAEJ,ECvKaY,GAAuB,CAACC,EAAiBC,KAsC7C,CAAE,iBArCgBC,UAAQ,IAAyB,CACxD,MAAMC,EAAe,WAAWH,CAAO,EACjCI,EAAcH,EAAe,WAAWA,CAAY,EAAIE,EAE9D,GAAI,MAAMA,CAAY,GAAKA,GAAgB,QAAU,GAErD,MAAME,EAA6B,GAElC,cAAO,KAAKpC,CAAc,EAAiB,QAAQvC,GAAS,CAC3D,MAAM4E,EAAYrC,EAAevC,CAAK,EAEtC4E,EAAU,MAAM,QAAQ3E,GAAQ,CAC9B,MAAMsB,EAASV,EAAQZ,EAAK,EAAE,EAC9B,GAAI,CAACsB,EAAQ,OAGb,MAAMsD,EAAa,KAAK,IAAItD,EAAO,OAASkD,CAAY,EAClDK,EAAY,KAAK,IAAIvD,EAAO,MAAQmD,CAAW,EAC/CK,EAAaF,EAAaC,EAG5BC,GAAc,GAChBJ,EAAQ,KAAK,CACX,MAAA3E,EACA,UAAW4E,EAAU,KACrB,MAAO3E,EAAK,MACZ,GAAIA,EAAK,GACT,WAAA8E,CAAA,CACD,CAEL,CAAC,CACH,CAAC,EAGMJ,EAAQ,KAAK,CAACK,EAAGC,IAAMD,EAAE,WAAaC,EAAE,UAAU,EAAE,MAAM,EAAG,EAAE,CACxE,EAAG,CAACX,EAASC,CAAY,CAAC,CAEjB,GCxBLW,GAAkBC,OAAK,WAAM,OAAO,+BAA8B,mCAAC,EAEnEC,GAAqB,IAAM,OAC/B,KAAM,CAAC3D,EAAe4D,CAAgB,EAAIC,WAAmB,OAAO,EAC9D,CAAClD,EAAoBmD,CAAqB,EAAID,WAAS,CAAC,EACxD,CAAC3D,EAAa6D,CAAc,EAAIF,WAAS,EAAK,EAC9C,CAAC1D,EAAc6D,CAAe,EAAIH,WAAmB,UAAU,EAC/D,CAAChB,EAASoB,CAAU,EAAIJ,WAAS,EAAE,EACnC,CAACf,EAAcoB,CAAe,EAAIL,WAAS,EAAE,EAC7C,CAACvC,EAAkB6C,EAAmB,EAAIN,WAAS,CAAC,EACpD,CAACO,EAAiBC,EAAkB,EAAIR,WAAS,EAAK,EACtD,CAACS,EAAkBC,EAAmB,EAAIV,WAAS,EAAK,EACxD,CAACW,GAA0BC,EAA2B,EAAIZ,WAAqB,CAAC,QAAS,OAAQ,UAAU,CAAC,EAC5G,CAAC9B,EAAmB2C,EAAoB,EAAIb,WAAS,CAAC,EACtD,CAACc,EAAcC,EAAe,EAAIf,WAAS,EAAI,EAE/C,CAAE,iBAAAgB,CAAA,EAAqBjC,GAAqBC,EAASC,CAAY,EAEjEtB,EAAYV,EAAed,CAAa,EACxC8E,GAAmBhE,EAAeX,CAAY,EAC9CF,EAAeuB,EAAU,MAAMb,CAAkB,EACjDP,GAAc0E,GAAiB,MAAMnE,CAAkB,EACvDqB,KAAqB+C,EAAAjE,EAAe,MAAM,MAAMiB,CAAiB,IAA5C,YAAAgD,EAA+C,QAAS,EAE7EC,GAAwBC,cAAa1G,GAAoB,CAC7DkG,GAA4BS,GACtBA,EAAK,SAAS3G,CAAK,EACjB2G,EAAK,QAAU,EAAUA,EACtBA,EAAK,OAAOC,GAAKA,IAAM5G,CAAK,EAEjC2G,EAAK,QAAU,EAAUA,EACtB,CAAC,GAAGA,EAAM3G,CAAK,CACvB,CACH,EAAG,EAAE,EAEC4D,EAAY,OAAO,KAAKrB,CAAc,EAE5C,OACE7B,OAAC,OAAI,UAAU,6BACb,UAAAE,MAACiG,GAAA,EAAO,EAGRjG,MAAC,WAAQ,UAAU,sGACjB,SAAAA,MAAC,OAAI,UAAU,kCACb,SAAAA,MAACkG,EAAA,CACC,SAAApG,OAAC,OAAI,UAAU,gCACb,UAAAA,OAAC,OAAI,UAAU,2GACb,UAAAE,MAACmG,EAAA,CAAQ,UAAU,uBAAuB,EAC1CnG,MAAC,QAAK,UAAU,2BAA2B,kCAAsB,GACnE,EACAA,MAAC,MAAG,UAAU,sCAAsC,gCAAoB,EACxEA,MAAC,KAAE,UAAU,gCAAgC,yJAG7C,GACF,EACF,EACF,EACF,EAEAF,OAAC,QAAK,UAAU,+BAEd,UAAAE,MAACkG,EAAA,CACC,SAAApG,OAAC,OAAI,UAAU,OACb,UAAAA,OAAC,MAAG,UAAU,qDACZ,UAAAE,MAACoG,GAAA,CAAS,UAAU,uBAAuB,EAAE,wBAE/C,QACC,OAAI,UAAU,uEACZ,SAAApD,EAAU,IAAK5D,GACdU,OAACqB,EAAO,OAAP,CAEC,QAAS,IAAMsD,EAAiBrF,CAAK,EACrC,UAAW8B,EACT,+DACAL,IAAkBzB,EACd,2DACA,2DAEN,WAAY,CAAE,MAAO,MACrB,SAAU,CAAE,MAAO,KAEnB,UAAAY,MAACb,EAAA,CAAgB,MAAAC,EAAc,KAAM,GAAI,UAAU,eAAe,EAClEY,MAAC,QAAK,UAAU,wCACb,SAAA2B,EAAevC,CAAK,EAAE,KAAK,MAAM,GAAG,EAAE,CAAC,EAC1C,EACCyB,IAAkBzB,GACjBY,MAACmB,EAAO,IAAP,CACC,SAAS,iBACT,UAAU,sDACV,QAAS,GACT,WAAY,CAAE,KAAM,SAAU,UAAW,IAAK,QAAS,GAAG,EAC5D,GArBG/B,CAAA,CAwBR,EACH,GACF,EACF,EAEAU,OAAC,OAAI,UAAU,4BAEb,UAAAE,MAACkG,GAAa,MAAO,GACnB,SAAApG,OAACuG,EAAA,CAAK,UAAU,kBACd,UAAArG,MAACsG,GAAW,UAAU,8CACpB,SAAAxG,OAAC,OAAI,UAAU,oCACb,UAAAA,OAAC,OACC,UAAAA,OAACyG,EAAA,CAAU,UAAU,0BACnB,UAAAvG,MAACwG,GAAA,CAAO,UAAU,UAAU,EAC3BnE,EAAU,MACb,EACArC,MAACyG,EAAA,CAAiB,SAAApE,EAAU,YAAY,GAC1C,EACArC,MAACwC,EAAA,CACC,QAASzB,EAAc,UAAY,UACnC,KAAK,KACL,QAAS,IAAM6D,EAAe,CAAC7D,CAAW,EAC3C,oBAED,EACF,EACF,EACAjB,OAAC4G,EAAA,CAAY,UAAU,MACrB,UAAA1G,MAACY,GAAA,CACC,cAAAC,EACA,aAAAC,EACA,YAAAC,EACA,aAAAC,EACA,YAAAC,EAAA,GAIFjB,MAACqB,GACE,SAAAN,GACCjB,OAACqB,EAAO,IAAP,CACC,QAAS,CAAE,OAAQ,EAAG,QAAS,GAC/B,QAAS,CAAE,OAAQ,OAAQ,QAAS,GACpC,KAAM,CAAE,OAAQ,EAAG,QAAS,GAC5B,UAAU,uBAEV,UAAAnB,MAAC,KAAE,UAAU,qCAAqC,yBAAa,EAC/DA,MAAC,OAAI,UAAU,uBACZ,SAAAgD,EAAU,OAAQgD,GAAMA,IAAMnF,CAAa,EAAE,IAAKzB,GACjDU,OAAC0C,EAAA,CAEC,QAASxB,IAAiB5B,EAAQ,UAAY,UAC9C,KAAK,KACL,QAAS,IAAMyF,EAAgBzF,CAAK,EACpC,UAAU,QAEV,UAAAY,MAACb,EAAA,CAAgB,MAAAC,EAAc,KAAM,GAAI,EACxCuC,EAAevC,CAAK,EAAE,KAAK,MAAM,GAAG,EAAE,CAAC,IAPnCA,CAAA,CASR,EACH,KAGN,EAGAU,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OAAI,UAAU,oCACb,UAAAA,OAAC,QAAK,UAAU,8CACd,UAAAE,MAACkD,EAAA,CAAM,UAAU,UAAU,EAAE,gBAE/B,EACApD,OAAC,QAAK,UAAU,kCAAmC,UAAAgB,EAAa,MAAM,OAAG,GAC3E,EACAd,MAACmD,EAAA,CACC,MAAO,CAAC3B,CAAkB,EAC1B,cAAgB4B,GAAUuB,EAAsBvB,EAAM,CAAC,CAAC,EACxD,IAAKf,EAAU,MAAM,OAAS,EAC9B,KAAM,EACN,UAAU,SAEZvC,OAAC,OAAI,UAAU,qDACb,UAAAA,OAAC,QAAM,UAAAuC,EAAU,MAAM,CAAC,EAAE,MAAM,OAAG,SAClC,QAAM,UAAAA,EAAU,MAAMA,EAAU,MAAM,OAAS,CAAC,EAAE,MAAM,OAAG,GAC9D,GACF,EAGAvC,OAAC,OAAI,UAAU,8BACb,UAAAA,OAAC,OAAI,UAAU,yCACb,UAAAE,MAAC2G,EAAA,CAAM,UAAU,oCAAoC,EACrD3G,MAAC,KAAE,UAAU,gCAAgC,sBAAU,EACvDF,OAAC,KAAE,UAAU,wBAAyB,UAAAgB,EAAa,GAAG,OAAG,GAC3D,EACAhB,OAAC,OAAI,UAAU,yCACb,UAAAE,MAACmG,EAAA,CAAQ,UAAU,oCAAoC,EACvDnG,MAAC,KAAE,UAAU,gCAAgC,iBAAK,EAClDF,OAAC,KAAE,UAAU,wBAAyB,UAAAgB,EAAa,MAAM,OAAG,GAC9D,GACF,QAGC,OAAI,UAAU,4DACb,SAAAhB,OAAC,OAAI,UAAU,yBACb,UAAAE,MAACyC,EAAA,CAAK,UAAU,8BAA8B,SAC7C,OACC,UAAAzC,MAAC,KAAE,UAAU,sBAAsB,+BAAmB,EACtDF,OAAC,KAAE,UAAU,qCAAqC,eAC7CgB,EAAa,MAAM,UAAQuB,EAAU,KAAK,cAAc,2BAAyBvB,EAAa,GAAG,sBACrFA,EAAa,OAAS,IAAM,cAAgBA,EAAa,OAAS,EAAI,UAAY,WAAW,+BAC9G,GACF,GACF,EACF,GACF,GACF,EACF,EAGAd,MAACkG,EAAA,CAAa,MAAO,GACnB,gBAACG,EAAA,CACC,UAAAvG,OAACwG,EAAA,CACC,UAAAxG,OAACyG,EAAA,CAAU,UAAU,0BACnB,UAAAvG,MAAC2G,EAAA,CAAM,UAAU,UAAU,EAAE,yBACNtE,EAAU,MACnC,EACArC,MAACyG,GAAgB,8EAAkE,GACrF,SACCC,EAAA,CACC,UAAA1G,MAACsB,GAAA,CACC,MAAOe,EAAU,MACjB,mBAAAb,EACA,cAAemD,CAAA,SAGhB,OAAI,UAAU,yCACb,SAAA7E,OAAC,OAAI,UAAU,yBACb,UAAAE,MAACwD,EAAA,CAAK,UAAU,uCAAuC,EACvD1D,OAAC,OAAI,UAAU,gCACb,UAAAE,MAAC,KAAE,UAAU,mCAAmC,4BAAgB,EAChEF,OAAC,MAAG,UAAU,kCACZ,UAAAE,MAAC,MAAG,8DAAkD,EACtDA,MAAC,MAAG,2EAA+D,EACnEA,MAAC,MAAG,wDAA4C,GAClD,GACF,GACF,EACF,GACF,GACF,EACF,GACF,QAGCkG,EAAA,CAAa,MAAO,IACnB,SAAApG,OAACuG,EAAA,CAAK,UAAU,OACd,UAAArG,MAACsG,GAAW,UAAU,2DACpB,SAAAxG,OAAC,OAAI,UAAU,oDACb,UAAAA,OAAC,OACC,UAAAA,OAACyG,EAAA,CAAU,UAAU,0BACnB,UAAAvG,MAAC4G,GAAA,CAAI,UAAU,UAAU,EAAE,qBAE7B,EACA5G,MAACyG,GAAgB,8EAAkE,GACrF,QACC,OAAI,UAAU,0BACb,SAAA3G,OAAC,OAAI,UAAU,0BACb,UAAAE,MAAC6G,IAAO,GAAG,cAAc,QAASrB,EAAc,gBAAiBC,GAAiB,QACjFqB,EAAA,CAAM,QAAQ,cAAc,UAAU,UAAU,uBAAW,GAC9D,EACF,GACF,EACF,QACCJ,EAAA,CAAY,UAAU,MACrB,SAAA5G,OAAC,OAAI,UAAU,4BACb,UAAAE,MAAC,OAAI,UAAU,uCACb,SAAAA,MAAC+G,WAAA,CAAS,SACR/G,MAAC,OAAI,UAAU,sGACb,SAAAA,MAAC,OAAI,UAAU,iFAAiF,EAClG,EAEA,SAAAA,MAACsE,GAAA,CAAgB,MAAOzD,EAAe,WAAY2E,EAAc,SAAQ,GAAC,EAC5E,EACF,EACA1F,OAAC,OAAI,UAAU,yCACb,UAAAE,MAAC,MAAG,UAAU,wBAAyB,SAAAqC,EAAU,KAAK,EACtDrC,MAAC,KAAE,UAAU,wBAAyB,WAAU,YAAY,EAC5DF,OAAC,OAAI,UAAU,yBACb,UAAAA,OAAC,OAAI,UAAU,6BACb,UAAAE,MAAC,KAAE,UAAU,gCAAgC,yBAAa,EAC1DF,OAAC,KAAE,UAAU,kCAAmC,UAAAgB,EAAa,MAAM,OAAG,GACxE,EACAhB,OAAC,OAAI,UAAU,6BACb,UAAAE,MAAC,KAAE,UAAU,gCAAgC,sBAAU,EACvDF,OAAC,KAAE,UAAU,qBAAsB,UAAAgB,EAAa,GAAG,OAAG,GACxD,GACF,EACAd,MAAC,KAAE,UAAU,gCAAgC,4GAE7C,GACF,GACF,EACF,GACF,EACF,QAGCkG,EAAA,CAAa,MAAO,GACnB,SAAApG,OAACuG,EAAA,CAAK,UAAU,OACd,UAAAvG,OAACwG,EAAA,CAAW,UAAU,8CACpB,UAAAxG,OAACyG,EAAA,CAAU,UAAU,0BACnB,UAAAvG,MAACgH,EAAA,CAAO,UAAU,UAAU,EAAE,sBAEhC,EACAhH,MAACyG,GAAgB,yEAA6D,GAChF,QACCC,EAAA,CAAY,UAAU,MACrB,SAAA5G,OAAC,OAAI,UAAU,4BACb,UAAAA,OAAC,OAAI,UAAU,YACb,UAAAA,OAAC,OAAI,UAAU,yBACb,UAAAA,OAAC,OAAI,UAAU,YACb,UAAAE,MAAC8G,EAAA,CAAM,QAAQ,YAAY,UAAU,sBAAsB,uBAAW,EACtEhH,OAAC,OAAI,UAAU,WACb,UAAAE,MAACgH,EAAA,CAAO,UAAU,yEAAyE,EAC3FhH,MAACiH,EAAA,CACC,GAAG,YACH,KAAK,SACL,KAAK,MACL,IAAI,IACJ,YAAY,YACZ,MAAOvD,EACP,SAAWwD,GAAMpC,EAAWoC,EAAE,OAAO,KAAK,EAC1C,UAAU,QACZ,EACF,GACF,EACApH,OAAC,OAAI,UAAU,YACb,UAAAA,OAACgH,EAAA,CAAM,QAAQ,WAAW,UAAU,sBAAsB,wBAC7C9G,MAAC,QAAK,UAAU,gCAAgC,sBAAU,GACvE,EACAA,MAACiH,EAAA,CACC,GAAG,WACH,KAAK,SACL,KAAK,MACL,IAAI,IACJ,YAAY,iBACZ,MAAOtD,EACP,SAAWuD,GAAMnC,EAAgBmC,EAAE,OAAO,KAAK,GACjD,EACF,GACF,EACAlH,MAAC,KAAE,UAAU,gCAAgC,sFAE7C,GACF,EAEAF,OAAC,OAAI,UAAU,YACb,UAAAE,MAAC,KAAE,UAAU,sBAAsB,4BAAgB,EAClD0F,EAAiB,OAAS,EACzB1F,MAAC,OAAI,UAAU,+CACZ,SAAA0F,EAAiB,IAAI,CAACyB,EAAQzF,IAC7B5B,OAACqB,EAAO,IAAP,CAEC,QAAS,CAAE,QAAS,EAAG,EAAG,KAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,GAC1B,WAAY,CAAE,MAAOO,EAAQ,KAC7B,UAAWR,EACT,wFACAiG,EAAO,WAAa,GAAM,kCAAoC,iCAEhE,QAAS,IAAM,CACb1C,EAAiB0C,EAAO,KAAK,EAC7B,MAAMC,EAAMzF,EAAewF,EAAO,KAAK,EAAE,MAAM,UAAUnB,IAAKA,GAAE,QAAUmB,EAAO,KAAK,EAClFC,IAAQ,IAAIzC,EAAsByC,CAAG,CAC3C,EAEA,UAAAtH,OAAC,OAAI,UAAU,0BACb,UAAAE,MAACb,EAAA,CAAgB,MAAOgI,EAAO,MAAO,KAAM,GAAI,SAC/C,OACC,UAAAnH,MAAC,KAAE,UAAU,sBAAuB,SAAAmH,EAAO,UAAU,EACrDrH,OAAC,KAAE,UAAU,gCAAiC,UAAAqH,EAAO,GAAG,OAAG,GAC7D,GACF,SACC/F,EAAA,CAAM,QAAS+F,EAAO,WAAa,GAAM,UAAY,YAAa,cAAEA,EAAO,MAAM,OAAG,IArBhF,GAAGA,EAAO,KAAK,IAAIA,EAAO,KAAK,GAuBvC,EACH,EACEzD,EACF5D,OAAC,OAAI,UAAU,+DACb,UAAAE,MAACgH,EAAA,CAAO,UAAU,kCAAkC,EACpDhH,MAAC,KAAE,UAAU,UAAU,mCAAuB,EAC9CA,MAAC,KAAE,UAAU,eAAe,2CAA+B,GAC7D,EAEAF,OAAC,OAAI,UAAU,+DACb,UAAAE,MAAC2G,EAAA,CAAM,UAAU,kCAAkC,EACnD3G,MAAC,KAAE,UAAU,UAAU,sCAA0B,GACnD,GAEJ,GACF,EACF,GACF,EACF,QAGCkG,EAAA,CAAa,MAAO,GACnB,SAAApG,OAACuG,EAAA,CAAK,UAAU,OACd,UAAArG,MAACsG,GAAW,UAAU,8CACpB,SAAAxG,OAAC,OAAI,UAAU,oCACb,UAAAA,OAAC,OACC,UAAAA,OAACyG,EAAA,CAAU,UAAU,0BACnB,UAAAvG,MAACqH,GAAA,CAAU,UAAU,UAAU,EAAE,qBAEnC,EACArH,MAACyG,GAAgB,2DAA+C,GAClE,EACAzG,MAACwC,EAAA,CACC,QAASyC,EAAkB,UAAY,UACvC,KAAK,KACL,QAAS,IAAMC,GAAmB,CAACD,CAAe,EAEjD,WAAkB,eAAiB,gBACtC,EACF,EACF,EACAjF,MAAC0G,GAAY,UAAU,MACrB,eAACrF,EAAA,CAAgB,KAAK,OACnB,SAAA4D,EACCjF,MAACmB,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,OAAQ,GAC/B,QAAS,CAAE,QAAS,EAAG,OAAQ,QAC/B,KAAM,CAAE,QAAS,EAAG,OAAQ,GAE5B,SAAAnB,MAACkC,GAAA,CACC,cAAArB,EACA,aAAAC,EACA,iBAAAqB,EACA,iBAAkB6C,EAAA,EACpB,GAGFlF,OAACqB,EAAO,IAAP,CAAW,QAAS,CAAE,QAAS,GAAK,QAAS,CAAE,QAAS,GAAK,UAAU,yCACtE,UAAAnB,MAACyC,EAAA,CAAK,UAAU,oCAAoC,EACpDzC,MAAC,KAAE,mFAAuE,GAC5E,EAEJ,EACF,GACF,EACF,QAGCkG,EAAA,CAAa,MAAO,IACnB,SAAApG,OAACuG,EAAA,CAAK,UAAU,OACd,UAAArG,MAACsG,GAAW,UAAU,4DACpB,SAAAxG,OAAC,OAAI,UAAU,oCACb,UAAAA,OAAC,OACC,UAAAA,OAACyG,EAAA,CAAU,UAAU,0BACnB,UAAAvG,MAACsH,EAAA,CAAO,UAAU,UAAU,EAAE,uBAEhC,EACAtH,MAACyG,GAAgB,oEAAwD,GAC3E,EACAzG,MAACwC,EAAA,CACC,QAAS2C,EAAmB,UAAY,UACxC,KAAK,KACL,QAAS,IAAMC,GAAoB,CAACD,CAAgB,EAEnD,WAAmB,eAAiB,kBACvC,EACF,EACF,EACAnF,MAAC0G,GAAY,UAAU,MACrB,eAACrF,EAAA,CAAgB,KAAK,OACnB,SAAA8D,EACCnF,MAACmB,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,OAAQ,GAC/B,QAAS,CAAE,QAAS,EAAG,OAAQ,QAC/B,KAAM,CAAE,QAAS,EAAG,OAAQ,GAE5B,SAAAnB,MAAC0C,GAAA,CACC,eAAgB2C,GAChB,kBAAAzC,EACA,mBAAAC,GACA,mBAAoB0C,GACpB,cAAeM,EAAA,EACjB,GAGF/F,OAACqB,EAAO,IAAP,CAAW,QAAS,CAAE,QAAS,GAAK,QAAS,CAAE,QAAS,GAAK,UAAU,yCACtE,UAAAnB,MAACsH,EAAA,CAAO,UAAU,oCAAoC,EACtDtH,MAAC,KAAE,mGAAuF,GAC5F,EAEJ,EACF,GACF,EACF,QAGCkG,EAAA,CAAa,MAAO,GACnB,SAAApG,OAAC,OAAI,UAAU,QACb,UAAAA,OAAC,MAAG,UAAU,kDACZ,UAAAE,MAACmG,EAAA,CAAQ,UAAU,uBAAuB,EAAE,uCAE9C,QACC,OAAI,UAAU,uDACZ,SAAAnD,EAAU,IAAK5D,GAAU,CACxB,MAAMmI,EAAe5F,EAAevC,CAAK,EAAE,MAAM,KAAK4G,GAAKA,EAAE,QAAU,CAAC,EACxE,OACElG,OAACqB,EAAO,IAAP,CAEC,UAAU,sGACV,QAAS,IAAM,CACbsD,EAAiBrF,CAAK,EACtBuF,EAAsBhD,EAAevC,CAAK,EAAE,MAAM,UAAU4G,GAAKA,EAAE,QAAU,CAAC,CAAC,CACjF,EACA,WAAY,CAAE,EAAG,IAEjB,UAAAhG,MAACb,EAAA,CAAgB,MAAAC,EAAc,KAAM,GAAI,UAAU,eAAe,QACjE,MAAG,UAAU,yCAA0C,SAAAuC,EAAevC,CAAK,EAAE,KAAK,EACnFU,OAAC,OAAI,UAAU,sDACb,UAAAA,OAAC,KAAE,UAAU,8BAA+B,UAAAyH,GAAA,YAAAA,EAAc,GAAG,OAAG,SAC/D,KAAE,oBAAQA,GAAA,YAAAA,EAAc,MAAM,OAAG,GACpC,IAbKnI,CAAA,CAgBX,CAAC,EACH,GACF,EACF,GACF,QAECoI,GAAA,EAAO,QACPC,GAAA,EAAc,GACjB,CAEJ","names":["DiamondShapeSVG","shape","size","className","fillColor","strokeColor","useGradient","fill","stroke","opacity","renderShape","jsxs","Fragment","jsx","parseMM","mmString","cleaned","parts","p","val","getVisualScale","carat","scale","calculateFaceUpArea","parsed","DiamondSizePreview","selectedShape","selectedSize","compareMode","compareShape","compareSize","cn","motion","Badge","AnimatePresence","DiamondSizeTable","sizes","selectedCaratIndex","onSelectIndex","index","DIAMOND_SHAPES","SHAPE_COLORS","RING_SIZES","getRingDiameter","ringSize","ring","r","RingSizeOverlay","selectedRingSize","onRingSizeChange","shapeData","ringDiameter","diamondSize","Button","Hand","MultiShapeOverlay","selectedShapes","overlayCaratIndex","overlayCaratWeight","onCaratIndexChange","onToggleShape","shapeKeys","isSelected","Scale","Slider","value","sizeData","width","height","Info","useDiamondComparison","mmInput","mmWidthInput","useMemo","searchLength","searchWidth","results","shapeInfo","lengthDiff","widthDiff","matchScore","a","b","Diamond3DViewer","lazy","DiamondSizingChart","setSelectedShape","useState","setSelectedCaratIndex","setCompareMode","setCompareShape","setMmInput","setMmWidthInput","setSelectedRingSize","showRingOverlay","setShowRingOverlay","multiOverlayMode","setMultiOverlayMode","selectedShapesForOverlay","setSelectedShapesForOverlay","setOverlayCaratIndex","autoRotate3D","setAutoRotate3D","mmToCaratResults","compareShapeData","_a","toggleShapeForOverlay","useCallback","prev","s","Header","ScrollReveal","Diamond","Sparkles","Card","CardHeader","CardTitle","ZoomIn","CardDescription","CardContent","Ruler","Box","Switch","Label","Suspense","Search","Input","e","result","idx","CircleDot","Layers","oneCaratSize","Footer","ThemeSwitcher"],"ignoreList":[],"sources":["../../src/components/diamond/DiamondShapeSVG.tsx","../../src/utils/diamondCalculations.ts","../../src/components/diamond/DiamondSizePreview.tsx","../../src/components/diamond/DiamondSizeTable.tsx","../../src/constants/diamondData.ts","../../src/components/diamond/RingSizeOverlay.tsx","../../src/components/diamond/MultiShapeOverlay.tsx","../../src/hooks/useDiamondComparison.ts","../../src/pages/DiamondSizingChart.tsx"],"sourcesContent":["import { ShapeKey } from \"@/constants/diamondData\";\r\n\r\ninterface DiamondShapeSVGProps {\r\n  shape: ShapeKey;\r\n  size?: number;\r\n  className?: string;\r\n  fillColor?: string;\r\n  strokeColor?: string;\r\n  useGradient?: boolean;\r\n}\r\n\r\nexport const DiamondShapeSVG = ({ \r\n  shape, \r\n  size = 100, \r\n  className,\r\n  fillColor,\r\n  strokeColor,\r\n  useGradient = true\r\n}: DiamondShapeSVGProps) => {\r\n  const fill = fillColor || (useGradient ? \"url(#diamondGradient)\" : \"currentColor\");\r\n  const stroke = strokeColor || (useGradient ? \"url(#diamondGradient)\" : \"currentColor\");\r\n  const opacity = fillColor ? 1 : 0.3;\r\n\r\n  const renderShape = () => {\r\n    switch (shape) {\r\n      case \"round\":\r\n        return (\r\n          <>\r\n            <circle cx=\"50\" cy=\"50\" r=\"45\" fill={fill} opacity={opacity} />\r\n            <circle cx=\"50\" cy=\"50\" r=\"45\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n            <circle cx=\"50\" cy=\"50\" r=\"35\" fill=\"none\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n          </>\r\n        );\r\n      \r\n      case \"princess\":\r\n        return (\r\n          <>\r\n            <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" fill={fill} opacity={opacity} />\r\n            <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n            <line x1=\"10\" y1=\"10\" x2=\"90\" y2=\"90\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n            <line x1=\"90\" y1=\"10\" x2=\"10\" y2=\"90\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n          </>\r\n        );\r\n      \r\n      case \"oval\":\r\n        return (\r\n          <>\r\n            <ellipse cx=\"50\" cy=\"50\" rx=\"40\" ry=\"28\" fill={fill} opacity={opacity} />\r\n            <ellipse cx=\"50\" cy=\"50\" rx=\"40\" ry=\"28\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n            <ellipse cx=\"50\" cy=\"50\" rx=\"30\" ry=\"20\" fill=\"none\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n          </>\r\n        );\r\n      \r\n      case \"cushion\":\r\n        return (\r\n          <>\r\n            <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"15\" fill={fill} opacity={opacity} />\r\n            <rect x=\"10\" y=\"10\" width=\"80\" height=\"80\" rx=\"15\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n            <rect x=\"20\" y=\"20\" width=\"60\" height=\"60\" rx=\"10\" fill=\"none\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n          </>\r\n        );\r\n      \r\n      case \"emerald\":\r\n        return (\r\n          <>\r\n            <polygon points=\"15,20 85,20 90,80 10,80\" fill={fill} opacity={opacity} />\r\n            <polygon points=\"15,20 85,20 90,80 10,80\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n            <line x1=\"25\" y1=\"35\" x2=\"75\" y2=\"35\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n            <line x1=\"20\" y1=\"50\" x2=\"80\" y2=\"50\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n            <line x1=\"18\" y1=\"65\" x2=\"82\" y2=\"65\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n          </>\r\n        );\r\n      \r\n      case \"pear\":\r\n        return (\r\n          <>\r\n            <path d=\"M50 10 C20 40, 15 65, 50 95 C85 65, 80 40, 50 10\" fill={fill} opacity={opacity} />\r\n            <path d=\"M50 10 C20 40, 15 65, 50 95 C85 65, 80 40, 50 10\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n          </>\r\n        );\r\n      \r\n      case \"marquise\":\r\n        return (\r\n          <>\r\n            <ellipse cx=\"50\" cy=\"50\" rx=\"45\" ry=\"25\" fill={fill} opacity={opacity} />\r\n            <ellipse cx=\"50\" cy=\"50\" rx=\"45\" ry=\"25\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n            <line x1=\"5\" y1=\"50\" x2=\"95\" y2=\"50\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n          </>\r\n        );\r\n      \r\n      case \"heart\":\r\n        return (\r\n          <>\r\n            <path d=\"M50 88 C20 60, 5 40, 25 20 C40 8, 50 20, 50 30 C50 20, 60 8, 75 20 C95 40, 80 60, 50 88\" fill={fill} opacity={opacity} />\r\n            <path d=\"M50 88 C20 60, 5 40, 25 20 C40 8, 50 20, 50 30 C50 20, 60 8, 75 20 C95 40, 80 60, 50 88\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n          </>\r\n        );\r\n      \r\n      case \"radiant\":\r\n        return (\r\n          <>\r\n            <polygon points=\"20,10 80,10 95,50 80,90 20,90 5,50\" fill={fill} opacity={opacity} />\r\n            <polygon points=\"20,10 80,10 95,50 80,90 20,90 5,50\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n          </>\r\n        );\r\n      \r\n      case \"asscher\":\r\n        return (\r\n          <>\r\n            <polygon points=\"20,5 80,5 95,20 95,80 80,95 20,95 5,80 5,20\" fill={fill} opacity={opacity} />\r\n            <polygon points=\"20,5 80,5 95,20 95,80 80,95 20,95 5,80 5,20\" fill=\"none\" stroke={stroke} strokeWidth=\"2\" />\r\n            <polygon points=\"30,15 70,15 85,30 85,70 70,85 30,85 15,70 15,30\" fill=\"none\" stroke={stroke} strokeWidth=\"1\" opacity=\"0.5\" />\r\n          </>\r\n        );\r\n      \r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 100 100\" className={className} style={{ width: size, height: size }}>\r\n      {useGradient && (\r\n        <defs>\r\n          <linearGradient id=\"diamondGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n            <stop offset=\"0%\" stopColor=\"hsl(var(--diamond-from))\" />\r\n            <stop offset=\"100%\" stopColor=\"hsl(var(--diamond-to))\" />\r\n          </linearGradient>\r\n        </defs>\r\n      )}\r\n      {renderShape()}\r\n    </svg>\r\n  );\r\n};\r\n","/**\r\n * @fileoverview Diamond calculation utilities for sizing charts and comparison tools\r\n * @module utils/diamondCalculations\r\n */\r\n\r\n/**\r\n * Parsed millimeter dimensions\r\n */\r\nexport interface ParsedMM {\r\n  /** Length in millimeters */\r\n  length: number;\r\n  /** Width in millimeters */\r\n  width: number;\r\n}\r\n\r\n/**\r\n * Parse millimeter value from string format\r\n * \r\n * @description Handles both \"x.x x x.x\" format (e.g., \"6.5 x 6.5\") \r\n * and single value format (e.g., \"6.5\")\r\n * \r\n * @param mmString - Millimeter string to parse\r\n * @returns Parsed dimensions or null if invalid\r\n * \r\n * @example\r\n * ```ts\r\n * parseMM(\"6.5 x 4.5\") // { length: 6.5, width: 4.5 }\r\n * parseMM(\"6.5\") // { length: 6.5, width: 6.5 }\r\n * parseMM(\"invalid\") // null\r\n * ```\r\n */\r\nexport const parseMM = (mmString: string): ParsedMM | null => {\r\n  const cleaned = mmString.replace(/\\s+/g, \"\");\r\n  if (cleaned.includes(\"x\")) {\r\n    const parts = cleaned.split(\"x\").map(p => parseFloat(p));\r\n    if (parts.length === 2 && !isNaN(parts[0]) && !isNaN(parts[1])) {\r\n      return { length: parts[0], width: parts[1] };\r\n    }\r\n  } else {\r\n    const val = parseFloat(cleaned);\r\n    if (!isNaN(val)) {\r\n      return { length: val, width: val };\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * Calculate visual scale for diamond display based on carat weight\r\n * \r\n * @description Generates a pixel size for visual representation that\r\n * scales appropriately with carat weight while staying within bounds\r\n * \r\n * @param carat - Diamond carat weight\r\n * @returns Visual scale in pixels (capped at 200px)\r\n * \r\n * @example\r\n * ```ts\r\n * getVisualScale(1.0) // 90\r\n * getVisualScale(2.0) // 120\r\n * getVisualScale(5.0) // 200 (capped)\r\n * ```\r\n */\r\nexport const getVisualScale = (carat: number): number => {\r\n  const baseScale = 60;\r\n  const scale = baseScale + (carat * 30);\r\n  return Math.min(scale, 200);\r\n};\r\n\r\n/**\r\n * Get overlay scale for multi-diamond comparison\r\n * \r\n * @description Provides consistent scaling across all shapes for accurate\r\n * visual comparison. Uses 10 pixels per millimeter for larger dimension.\r\n * \r\n * @param mmString - Millimeter dimensions string\r\n * @returns Scale in pixels (default 80 if parsing fails)\r\n * \r\n * @example\r\n * ```ts\r\n * getOverlayScale(\"6.5 x 4.5\") // 65\r\n * getOverlayScale(\"8.0\") // 80\r\n * ```\r\n */\r\nexport const getOverlayScale = (mmString: string): number => {\r\n  const parsed = parseMM(mmString);\r\n  if (!parsed) return 80;\r\n  const maxDim = Math.max(parsed.length, parsed.width);\r\n  return maxDim * 10;\r\n};\r\n\r\n/**\r\n * Calculate face-up area for a diamond\r\n * \r\n * @description Calculates the visible surface area when viewing the\r\n * diamond from above (face-up position). Uses ellipse area formula\r\n * with 0.785 factor (π/4) for approximation.\r\n * \r\n * @param mmString - Millimeter dimensions string\r\n * @returns Face-up area in square millimeters (formatted to 1 decimal)\r\n * \r\n * @example\r\n * ```ts\r\n * calculateFaceUpArea(\"6.5 x 6.5\") // \"33.2\"\r\n * calculateFaceUpArea(\"8.0 x 6.0\") // \"37.7\"\r\n * calculateFaceUpArea(\"invalid\") // \"N/A\"\r\n * ```\r\n */\r\nexport const calculateFaceUpArea = (mmString: string): string => {\r\n  const parsed = parseMM(mmString);\r\n  if (!parsed) return \"N/A\";\r\n  return (parsed.length * parsed.width * 0.785).toFixed(1);\r\n};\r\n\r\n/**\r\n * Calculate diamond price based on Rapaport pricing\r\n * \r\n * @param pricePerCarat - Rapaport price per carat in USD\r\n * @param caratWeight - Diamond carat weight\r\n * @param discountPercent - Discount percentage (positive) or markup (negative)\r\n * @returns Calculated price in USD\r\n * \r\n * @example\r\n * ```ts\r\n * calculateDiamondPrice(5000, 1.5, 10) // 6750 (10% discount)\r\n * calculateDiamondPrice(5000, 1.5, -5) // 7875 (5% markup)\r\n * ```\r\n */\r\nexport const calculateDiamondPrice = (\r\n  pricePerCarat: number,\r\n  caratWeight: number,\r\n  discountPercent: number = 0\r\n): number => {\r\n  const basePrice = pricePerCarat * caratWeight;\r\n  const adjustmentFactor = 1 - (discountPercent / 100);\r\n  return Math.round(basePrice * adjustmentFactor * 100) / 100;\r\n};\r\n\r\n/**\r\n * Get approximate carat weight from millimeter dimensions\r\n * \r\n * @description Uses shape-specific formulas to estimate carat weight\r\n * from physical dimensions. This is an approximation as actual weight\r\n * depends on cut depth and proportions.\r\n * \r\n * @param length - Length in millimeters\r\n * @param width - Width in millimeters\r\n * @param depth - Depth in millimeters\r\n * @param shape - Diamond shape\r\n * @returns Estimated carat weight\r\n */\r\nexport const estimateCaratFromDimensions = (\r\n  length: number,\r\n  width: number,\r\n  depth: number,\r\n  shape: \"round\" | \"oval\" | \"cushion\" | \"emerald\" | \"princess\" | \"pear\" | \"marquise\" | \"heart\" | \"radiant\" | \"asscher\"\r\n): number => {\r\n  // Shape-specific multipliers for weight estimation\r\n  const multipliers: Record<string, number> = {\r\n    round: 0.0061,\r\n    oval: 0.0062,\r\n    cushion: 0.00815,\r\n    emerald: 0.0083,\r\n    princess: 0.0083,\r\n    pear: 0.00575,\r\n    marquise: 0.00565,\r\n    heart: 0.0059,\r\n    radiant: 0.0081,\r\n    asscher: 0.0080,\r\n  };\r\n\r\n  const multiplier = multipliers[shape] || 0.0061;\r\n  return Math.round(length * width * depth * multiplier * 100) / 100;\r\n};\r\n","import { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { DiamondShapeSVG } from \"./DiamondShapeSVG\";\r\nimport { ShapeKey } from \"@/constants/diamondData\";\r\nimport { getVisualScale } from \"@/utils/diamondCalculations\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface DiamondSizePreviewProps {\r\n  selectedShape: ShapeKey;\r\n  selectedSize: { carat: number; mm: string; depth: string };\r\n  compareMode: boolean;\r\n  compareShape: ShapeKey;\r\n  compareSize: { carat: number; mm: string; depth: string };\r\n}\r\n\r\nexport const DiamondSizePreview = ({\r\n  selectedShape,\r\n  selectedSize,\r\n  compareMode,\r\n  compareShape,\r\n  compareSize,\r\n}: DiamondSizePreviewProps) => {\r\n  return (\r\n    <div className=\"relative h-64 flex items-center justify-center bg-gradient-to-br from-muted/30 to-muted/10 rounded-xl mb-6\">\r\n      <div className=\"absolute inset-0 flex items-center justify-center\">\r\n        <div className=\"w-full h-px border-t border-dashed border-muted-foreground/30\" />\r\n        <div className=\"absolute h-full w-px border-l border-dashed border-muted-foreground/30\" />\r\n      </div>\r\n      \r\n      <div className={cn(\"flex items-center gap-8\", compareMode && \"gap-16\")}>\r\n        <motion.div\r\n          key={`${selectedShape}-${selectedSize.carat}`}\r\n          initial={{ scale: 0, opacity: 0 }}\r\n          animate={{ scale: 1, opacity: 1 }}\r\n          transition={{ type: \"spring\", stiffness: 200, damping: 20 }}\r\n          className=\"flex flex-col items-center\"\r\n        >\r\n          <DiamondShapeSVG shape={selectedShape} size={getVisualScale(selectedSize.carat)} />\r\n          <Badge variant=\"secondary\" className=\"mt-3\">{selectedSize.carat} ct</Badge>\r\n        </motion.div>\r\n\r\n        <AnimatePresence>\r\n          {compareMode && (\r\n            <motion.div\r\n              initial={{ scale: 0, opacity: 0, x: -20 }}\r\n              animate={{ scale: 1, opacity: 1, x: 0 }}\r\n              exit={{ scale: 0, opacity: 0, x: -20 }}\r\n              className=\"flex flex-col items-center\"\r\n            >\r\n              <DiamondShapeSVG shape={compareShape} size={getVisualScale(compareSize.carat)} />\r\n              <Badge variant=\"outline\" className=\"mt-3\">{compareSize.carat} ct</Badge>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Badge } from \"@/components/ui/badge\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface SizeData {\r\n  readonly carat: number;\r\n  readonly mm: string;\r\n  readonly depth: string;\r\n}\r\n\r\ninterface DiamondSizeTableProps {\r\n  sizes: readonly SizeData[];\r\n  selectedCaratIndex: number;\r\n  onSelectIndex: (index: number) => void;\r\n}\r\n\r\nexport const DiamondSizeTable = ({\r\n  sizes,\r\n  selectedCaratIndex,\r\n  onSelectIndex,\r\n}: DiamondSizeTableProps) => {\r\n  return (\r\n    <div className=\"rounded-lg border overflow-hidden\">\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead>\r\n            <tr className=\"bg-muted/50\">\r\n              <th className=\"px-4 py-3 text-left text-sm font-semibold\">Carat</th>\r\n              <th className=\"px-4 py-3 text-left text-sm font-semibold\">Dimensions (mm)</th>\r\n              <th className=\"px-4 py-3 text-left text-sm font-semibold\">Depth (mm)</th>\r\n              <th className=\"px-4 py-3 text-center text-sm font-semibold\">Visual</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {sizes.map((size, index) => (\r\n              <tr\r\n                key={size.carat}\r\n                className={cn(\r\n                  \"border-t transition-colors cursor-pointer\",\r\n                  index === selectedCaratIndex ? \"bg-primary/10\" : \"hover:bg-muted/30\"\r\n                )}\r\n                onClick={() => onSelectIndex(index)}\r\n              >\r\n                <td className=\"px-4 py-3\">\r\n                  <Badge variant={index === selectedCaratIndex ? \"default\" : \"outline\"} className=\"font-mono\">\r\n                    {size.carat} ct\r\n                  </Badge>\r\n                </td>\r\n                <td className=\"px-4 py-3 font-medium\">{size.mm}</td>\r\n                <td className=\"px-4 py-3 text-muted-foreground\">{size.depth}</td>\r\n                <td className=\"px-4 py-3\">\r\n                  <div className=\"flex justify-center\">\r\n                    <div \r\n                      className=\"rounded-full bg-gradient-to-br from-primary/60 to-primary/40 opacity-60\"\r\n                      style={{ width: Math.max(8, size.carat * 12), height: Math.max(8, size.carat * 12) }}\r\n                    />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// Diamond shape data with mm sizes for different carat weights\r\nexport const DIAMOND_SHAPES = {\r\n  round: {\r\n    name: \"Round Brilliant\",\r\n    description: \"The most popular and brilliant diamond shape\",\r\n    icon: \"●\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"4.1\", depth: \"2.5\" },\r\n      { carat: 0.50, mm: \"5.2\", depth: \"3.1\" },\r\n      { carat: 0.75, mm: \"5.8\", depth: \"3.5\" },\r\n      { carat: 1.00, mm: \"6.5\", depth: \"3.9\" },\r\n      { carat: 1.25, mm: \"6.9\", depth: \"4.2\" },\r\n      { carat: 1.50, mm: \"7.4\", depth: \"4.5\" },\r\n      { carat: 1.75, mm: \"7.8\", depth: \"4.7\" },\r\n      { carat: 2.00, mm: \"8.2\", depth: \"4.9\" },\r\n      { carat: 2.50, mm: \"8.8\", depth: \"5.3\" },\r\n      { carat: 3.00, mm: \"9.3\", depth: \"5.6\" },\r\n      { carat: 4.00, mm: \"10.2\", depth: \"6.1\" },\r\n      { carat: 5.00, mm: \"11.0\", depth: \"6.6\" },\r\n    ],\r\n  },\r\n  princess: {\r\n    name: \"Princess Cut\",\r\n    description: \"Square shape with brilliant faceting\",\r\n    icon: \"◆\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"3.3 x 3.3\", depth: \"2.4\" },\r\n      { carat: 0.50, mm: \"4.2 x 4.2\", depth: \"3.0\" },\r\n      { carat: 0.75, mm: \"4.8 x 4.8\", depth: \"3.4\" },\r\n      { carat: 1.00, mm: \"5.5 x 5.5\", depth: \"3.9\" },\r\n      { carat: 1.25, mm: \"5.9 x 5.9\", depth: \"4.2\" },\r\n      { carat: 1.50, mm: \"6.2 x 6.2\", depth: \"4.5\" },\r\n      { carat: 1.75, mm: \"6.5 x 6.5\", depth: \"4.7\" },\r\n      { carat: 2.00, mm: \"7.0 x 7.0\", depth: \"5.0\" },\r\n      { carat: 2.50, mm: \"7.5 x 7.5\", depth: \"5.4\" },\r\n      { carat: 3.00, mm: \"8.0 x 8.0\", depth: \"5.7\" },\r\n      { carat: 4.00, mm: \"8.8 x 8.8\", depth: \"6.3\" },\r\n      { carat: 5.00, mm: \"9.5 x 9.5\", depth: \"6.8\" },\r\n    ],\r\n  },\r\n  oval: {\r\n    name: \"Oval\",\r\n    description: \"Elongated shape with brilliant sparkle\",\r\n    icon: \"⬭\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"5.0 x 3.5\", depth: \"2.2\" },\r\n      { carat: 0.50, mm: \"6.0 x 4.0\", depth: \"2.6\" },\r\n      { carat: 0.75, mm: \"7.0 x 5.0\", depth: \"3.0\" },\r\n      { carat: 1.00, mm: \"8.0 x 5.5\", depth: \"3.4\" },\r\n      { carat: 1.25, mm: \"8.5 x 5.8\", depth: \"3.6\" },\r\n      { carat: 1.50, mm: \"9.0 x 6.0\", depth: \"3.8\" },\r\n      { carat: 1.75, mm: \"9.5 x 6.3\", depth: \"4.0\" },\r\n      { carat: 2.00, mm: \"10.0 x 6.5\", depth: \"4.2\" },\r\n      { carat: 2.50, mm: \"10.5 x 7.0\", depth: \"4.5\" },\r\n      { carat: 3.00, mm: \"11.0 x 7.5\", depth: \"4.8\" },\r\n      { carat: 4.00, mm: \"12.0 x 8.0\", depth: \"5.2\" },\r\n      { carat: 5.00, mm: \"13.0 x 8.5\", depth: \"5.6\" },\r\n    ],\r\n  },\r\n  cushion: {\r\n    name: \"Cushion Cut\",\r\n    description: \"Soft square with rounded corners\",\r\n    icon: \"▢\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"3.5 x 3.5\", depth: \"2.3\" },\r\n      { carat: 0.50, mm: \"4.5 x 4.5\", depth: \"2.9\" },\r\n      { carat: 0.75, mm: \"5.0 x 5.0\", depth: \"3.3\" },\r\n      { carat: 1.00, mm: \"5.5 x 5.5\", depth: \"3.6\" },\r\n      { carat: 1.25, mm: \"6.0 x 6.0\", depth: \"3.9\" },\r\n      { carat: 1.50, mm: \"6.5 x 6.5\", depth: \"4.2\" },\r\n      { carat: 1.75, mm: \"6.8 x 6.8\", depth: \"4.5\" },\r\n      { carat: 2.00, mm: \"7.0 x 7.0\", depth: \"4.6\" },\r\n      { carat: 2.50, mm: \"7.5 x 7.5\", depth: \"5.0\" },\r\n      { carat: 3.00, mm: \"8.0 x 8.0\", depth: \"5.3\" },\r\n      { carat: 4.00, mm: \"8.8 x 8.8\", depth: \"5.8\" },\r\n      { carat: 5.00, mm: \"9.5 x 9.5\", depth: \"6.2\" },\r\n    ],\r\n  },\r\n  emerald: {\r\n    name: \"Emerald Cut\",\r\n    description: \"Elegant rectangular step-cut\",\r\n    icon: \"▭\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"4.5 x 3.0\", depth: \"2.0\" },\r\n      { carat: 0.50, mm: \"5.5 x 4.0\", depth: \"2.6\" },\r\n      { carat: 0.75, mm: \"6.0 x 4.5\", depth: \"2.9\" },\r\n      { carat: 1.00, mm: \"7.0 x 5.0\", depth: \"3.2\" },\r\n      { carat: 1.25, mm: \"7.5 x 5.3\", depth: \"3.5\" },\r\n      { carat: 1.50, mm: \"8.0 x 5.5\", depth: \"3.7\" },\r\n      { carat: 1.75, mm: \"8.3 x 5.8\", depth: \"3.9\" },\r\n      { carat: 2.00, mm: \"8.5 x 6.0\", depth: \"4.0\" },\r\n      { carat: 2.50, mm: \"9.0 x 6.5\", depth: \"4.3\" },\r\n      { carat: 3.00, mm: \"9.5 x 7.0\", depth: \"4.6\" },\r\n      { carat: 4.00, mm: \"10.5 x 7.5\", depth: \"5.0\" },\r\n      { carat: 5.00, mm: \"11.5 x 8.0\", depth: \"5.4\" },\r\n    ],\r\n  },\r\n  pear: {\r\n    name: \"Pear Shape\",\r\n    description: \"Teardrop shape combining round and marquise\",\r\n    icon: \"◇\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"5.0 x 3.5\", depth: \"2.1\" },\r\n      { carat: 0.50, mm: \"6.5 x 4.5\", depth: \"2.7\" },\r\n      { carat: 0.75, mm: \"7.5 x 5.0\", depth: \"3.1\" },\r\n      { carat: 1.00, mm: \"8.5 x 5.5\", depth: \"3.4\" },\r\n      { carat: 1.25, mm: \"9.0 x 5.8\", depth: \"3.6\" },\r\n      { carat: 1.50, mm: \"9.5 x 6.0\", depth: \"3.8\" },\r\n      { carat: 1.75, mm: \"10.0 x 6.3\", depth: \"4.0\" },\r\n      { carat: 2.00, mm: \"10.5 x 6.5\", depth: \"4.2\" },\r\n      { carat: 2.50, mm: \"11.0 x 7.0\", depth: \"4.5\" },\r\n      { carat: 3.00, mm: \"12.0 x 7.5\", depth: \"4.8\" },\r\n      { carat: 4.00, mm: \"13.0 x 8.0\", depth: \"5.2\" },\r\n      { carat: 5.00, mm: \"14.0 x 8.5\", depth: \"5.6\" },\r\n    ],\r\n  },\r\n  marquise: {\r\n    name: \"Marquise\",\r\n    description: \"Football-shaped with pointed ends\",\r\n    icon: \"◇\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"6.0 x 3.0\", depth: \"1.9\" },\r\n      { carat: 0.50, mm: \"8.0 x 4.0\", depth: \"2.5\" },\r\n      { carat: 0.75, mm: \"9.0 x 4.5\", depth: \"2.8\" },\r\n      { carat: 1.00, mm: \"10.0 x 5.0\", depth: \"3.1\" },\r\n      { carat: 1.25, mm: \"10.5 x 5.3\", depth: \"3.3\" },\r\n      { carat: 1.50, mm: \"11.0 x 5.5\", depth: \"3.5\" },\r\n      { carat: 1.75, mm: \"11.5 x 5.8\", depth: \"3.7\" },\r\n      { carat: 2.00, mm: \"12.0 x 6.0\", depth: \"3.8\" },\r\n      { carat: 2.50, mm: \"13.0 x 6.5\", depth: \"4.1\" },\r\n      { carat: 3.00, mm: \"14.0 x 7.0\", depth: \"4.4\" },\r\n      { carat: 4.00, mm: \"15.0 x 7.5\", depth: \"4.8\" },\r\n      { carat: 5.00, mm: \"16.0 x 8.0\", depth: \"5.1\" },\r\n    ],\r\n  },\r\n  heart: {\r\n    name: \"Heart Shape\",\r\n    description: \"Romantic symbol of love\",\r\n    icon: \"♥\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"4.0 x 4.0\", depth: \"2.4\" },\r\n      { carat: 0.50, mm: \"5.0 x 5.0\", depth: \"3.0\" },\r\n      { carat: 0.75, mm: \"5.5 x 5.5\", depth: \"3.4\" },\r\n      { carat: 1.00, mm: \"6.5 x 6.5\", depth: \"3.9\" },\r\n      { carat: 1.25, mm: \"7.0 x 7.0\", depth: \"4.2\" },\r\n      { carat: 1.50, mm: \"7.5 x 7.5\", depth: \"4.5\" },\r\n      { carat: 1.75, mm: \"7.8 x 7.8\", depth: \"4.7\" },\r\n      { carat: 2.00, mm: \"8.0 x 8.0\", depth: \"4.8\" },\r\n      { carat: 2.50, mm: \"8.5 x 8.5\", depth: \"5.2\" },\r\n      { carat: 3.00, mm: \"9.0 x 9.0\", depth: \"5.5\" },\r\n      { carat: 4.00, mm: \"10.0 x 10.0\", depth: \"6.0\" },\r\n      { carat: 5.00, mm: \"11.0 x 11.0\", depth: \"6.5\" },\r\n    ],\r\n  },\r\n  radiant: {\r\n    name: \"Radiant Cut\",\r\n    description: \"Trimmed corners with brilliant facets\",\r\n    icon: \"◈\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"3.5 x 3.0\", depth: \"2.2\" },\r\n      { carat: 0.50, mm: \"4.5 x 4.0\", depth: \"2.8\" },\r\n      { carat: 0.75, mm: \"5.0 x 4.5\", depth: \"3.2\" },\r\n      { carat: 1.00, mm: \"5.5 x 5.0\", depth: \"3.5\" },\r\n      { carat: 1.25, mm: \"6.0 x 5.5\", depth: \"3.8\" },\r\n      { carat: 1.50, mm: \"6.5 x 5.8\", depth: \"4.0\" },\r\n      { carat: 1.75, mm: \"7.0 x 6.0\", depth: \"4.2\" },\r\n      { carat: 2.00, mm: \"7.3 x 6.5\", depth: \"4.5\" },\r\n      { carat: 2.50, mm: \"7.8 x 7.0\", depth: \"4.8\" },\r\n      { carat: 3.00, mm: \"8.3 x 7.5\", depth: \"5.1\" },\r\n      { carat: 4.00, mm: \"9.0 x 8.0\", depth: \"5.5\" },\r\n      { carat: 5.00, mm: \"9.8 x 8.5\", depth: \"5.9\" },\r\n    ],\r\n  },\r\n  asscher: {\r\n    name: \"Asscher Cut\",\r\n    description: \"Square step-cut with cropped corners\",\r\n    icon: \"◇\",\r\n    sizes: [\r\n      { carat: 0.25, mm: \"3.3 x 3.3\", depth: \"2.3\" },\r\n      { carat: 0.50, mm: \"4.2 x 4.2\", depth: \"2.9\" },\r\n      { carat: 0.75, mm: \"4.8 x 4.8\", depth: \"3.3\" },\r\n      { carat: 1.00, mm: \"5.5 x 5.5\", depth: \"3.8\" },\r\n      { carat: 1.25, mm: \"5.9 x 5.9\", depth: \"4.1\" },\r\n      { carat: 1.50, mm: \"6.2 x 6.2\", depth: \"4.3\" },\r\n      { carat: 1.75, mm: \"6.5 x 6.5\", depth: \"4.5\" },\r\n      { carat: 2.00, mm: \"7.0 x 7.0\", depth: \"4.8\" },\r\n      { carat: 2.50, mm: \"7.5 x 7.5\", depth: \"5.2\" },\r\n      { carat: 3.00, mm: \"8.0 x 8.0\", depth: \"5.5\" },\r\n      { carat: 4.00, mm: \"8.8 x 8.8\", depth: \"6.0\" },\r\n      { carat: 5.00, mm: \"9.5 x 9.5\", depth: \"6.5\" },\r\n    ],\r\n  },\r\n} as const;\r\n\r\nexport type ShapeKey = keyof typeof DIAMOND_SHAPES;\r\n\r\n// Shape colors for multi-overlay comparison\r\nexport const SHAPE_COLORS: Record<ShapeKey, string> = {\r\n  round: \"hsl(var(--primary))\",\r\n  princess: \"hsl(280, 70%, 50%)\",\r\n  oval: \"hsl(200, 70%, 50%)\",\r\n  cushion: \"hsl(340, 70%, 50%)\",\r\n  emerald: \"hsl(160, 70%, 50%)\",\r\n  pear: \"hsl(30, 70%, 50%)\",\r\n  marquise: \"hsl(60, 70%, 50%)\",\r\n  heart: \"hsl(0, 70%, 50%)\",\r\n  radiant: \"hsl(220, 70%, 50%)\",\r\n  asscher: \"hsl(120, 70%, 50%)\",\r\n};\r\n\r\n// Ring size data with inner diameter in mm\r\nexport const RING_SIZES = [\r\n  { size: 4, diameterMM: 14.9, circumference: 46.8 },\r\n  { size: 5, diameterMM: 15.7, circumference: 49.3 },\r\n  { size: 6, diameterMM: 16.5, circumference: 51.9 },\r\n  { size: 7, diameterMM: 17.3, circumference: 54.4 },\r\n  { size: 8, diameterMM: 18.1, circumference: 56.9 },\r\n  { size: 9, diameterMM: 19.0, circumference: 59.5 },\r\n  { size: 10, diameterMM: 19.8, circumference: 62.1 },\r\n] as const;\r\n","import { motion } from \"framer-motion\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { DiamondShapeSVG } from \"./DiamondShapeSVG\";\r\nimport { RING_SIZES, ShapeKey, DIAMOND_SHAPES } from \"@/constants/diamondData\";\r\nimport { Hand } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface RingSizeOverlayProps {\r\n  selectedShape: ShapeKey;\r\n  selectedSize: { carat: number; mm: string; depth: string };\r\n  selectedRingSize: number;\r\n  onRingSizeChange: (size: number) => void;\r\n}\r\n\r\nconst getRingDiameter = (ringSize: number) => {\r\n  const ring = RING_SIZES.find(r => r.size === ringSize);\r\n  return ring?.diameterMM || 16.5;\r\n};\r\n\r\nexport const RingSizeOverlay = ({\r\n  selectedShape,\r\n  selectedSize,\r\n  selectedRingSize,\r\n  onRingSizeChange,\r\n}: RingSizeOverlayProps) => {\r\n  const ringScale = 8;\r\n  const shapeData = DIAMOND_SHAPES[selectedShape];\r\n  const ringDiameter = getRingDiameter(selectedRingSize);\r\n  const diamondSize = parseFloat(selectedSize.mm.split(\"x\")[0] || selectedSize.mm);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex flex-wrap gap-2 justify-center\">\r\n        {RING_SIZES.map((ring) => (\r\n          <Button\r\n            key={ring.size}\r\n            variant={selectedRingSize === ring.size ? \"default\" : \"outline\"}\r\n            size=\"sm\"\r\n            onClick={() => onRingSizeChange(ring.size)}\r\n            className=\"min-w-[60px]\"\r\n          >\r\n            Size {ring.size}\r\n          </Button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"relative flex items-center justify-center py-8\">\r\n        <div className=\"relative\">\r\n          <motion.div\r\n            className=\"relative bg-gradient-to-b from-amber-200/60 to-amber-300/60 dark:from-amber-800/40 dark:to-amber-900/40 rounded-t-full\"\r\n            style={{ width: ringDiameter * ringScale + 20, height: 200 }}\r\n            initial={{ scale: 0.9 }}\r\n            animate={{ scale: 1 }}\r\n            transition={{ type: \"spring\" }}\r\n          >\r\n            <div \r\n              className=\"absolute top-8 left-1/2 -translate-x-1/2 rounded-full border-4 border-yellow-500/80 dark:border-yellow-400/60\"\r\n              style={{ width: ringDiameter * ringScale + 16, height: 24 }}\r\n            />\r\n            <motion.div\r\n              className=\"absolute left-1/2 -translate-x-1/2\"\r\n              style={{ top: -10 }}\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1 }}\r\n              transition={{ delay: 0.2, type: \"spring\" }}\r\n            >\r\n              <DiamondShapeSVG \r\n                shape={selectedShape} \r\n                size={diamondSize * ringScale}\r\n              />\r\n            </motion.div>\r\n          </motion.div>\r\n\r\n          <div className=\"absolute -right-32 top-1/2 -translate-y-1/2 text-sm space-y-1 hidden md:block\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-3 h-3 rounded-full bg-primary/60\" />\r\n              <span className=\"text-muted-foreground\">Ring Size {selectedRingSize}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-3 h-3 rounded-full bg-yellow-500/60\" />\r\n              <span className=\"text-muted-foreground\">{ringDiameter} mm</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-3\">\r\n        {RING_SIZES.map((ring) => (\r\n          <div\r\n            key={ring.size}\r\n            className={cn(\r\n              \"p-3 rounded-lg text-center border transition-all cursor-pointer\",\r\n              selectedRingSize === ring.size ? \"bg-primary/10 border-primary\" : \"bg-muted/30 hover:bg-muted/50\"\r\n            )}\r\n            onClick={() => onRingSizeChange(ring.size)}\r\n          >\r\n            <p className=\"font-semibold\">Size {ring.size}</p>\r\n            <p className=\"text-xs text-muted-foreground\">{ring.diameterMM} mm</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"p-4 rounded-lg bg-muted/30 border\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <Hand className=\"h-5 w-5 text-primary mt-0.5\" />\r\n          <div className=\"text-sm\">\r\n            <p className=\"font-medium mb-1\">\r\n              {selectedSize.carat} ct {shapeData.name} on Size {selectedRingSize} Finger\r\n            </p>\r\n            <p className=\"text-muted-foreground\">\r\n              Diamond measures {selectedSize.mm} mm on a finger with {ringDiameter} mm diameter.\r\n              {\" \"}\r\n              {diamondSize / ringDiameter > 0.45\r\n                ? \"The diamond will appear substantial and eye-catching.\"\r\n                : diamondSize / ringDiameter > 0.35\r\n                ? \"The diamond will have a balanced, elegant appearance.\"\r\n                : \"The diamond will appear delicate and subtle.\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { motion } from \"framer-motion\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Slider } from \"@/components/ui/slider\";\r\nimport { DiamondShapeSVG } from \"./DiamondShapeSVG\";\r\nimport { DIAMOND_SHAPES, SHAPE_COLORS, ShapeKey } from \"@/constants/diamondData\";\r\nimport { parseMM, calculateFaceUpArea } from \"@/utils/diamondCalculations\";\r\nimport { Scale, Info } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface MultiShapeOverlayProps {\r\n  selectedShapes: ShapeKey[];\r\n  overlayCaratIndex: number;\r\n  overlayCaratWeight: number;\r\n  onCaratIndexChange: (index: number) => void;\r\n  onToggleShape: (shape: ShapeKey) => void;\r\n}\r\n\r\nexport const MultiShapeOverlay = ({\r\n  selectedShapes,\r\n  overlayCaratIndex,\r\n  overlayCaratWeight,\r\n  onCaratIndexChange,\r\n  onToggleShape,\r\n}: MultiShapeOverlayProps) => {\r\n  const shapeKeys = Object.keys(DIAMOND_SHAPES) as ShapeKey[];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <p className=\"text-sm font-medium\">Select shapes to compare (2-5)</p>\r\n          <Badge variant=\"secondary\">{selectedShapes.length} selected</Badge>\r\n        </div>\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2\">\r\n          {shapeKeys.map((shape) => {\r\n            const isSelected = selectedShapes.includes(shape);\r\n            return (\r\n              <motion.button\r\n                key={shape}\r\n                onClick={() => onToggleShape(shape)}\r\n                className={cn(\r\n                  \"relative p-3 rounded-lg border-2 transition-all\",\r\n                  isSelected ? \"border-primary bg-primary/10\" : \"border-border hover:border-primary/50\"\r\n                )}\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n              >\r\n                <DiamondShapeSVG shape={shape} size={28} className=\"mx-auto\" />\r\n                <span className=\"text-[10px] block text-center mt-1 font-medium\">\r\n                  {DIAMOND_SHAPES[shape].name.split(\" \")[0]}\r\n                </span>\r\n                {isSelected && (\r\n                  <div className=\"absolute top-1 right-1 w-2 h-2 rounded-full\" style={{ backgroundColor: SHAPE_COLORS[shape] }} />\r\n                )}\r\n              </motion.button>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <span className=\"text-sm font-medium flex items-center gap-2\">\r\n            <Scale className=\"h-4 w-4\" />\r\n            Carat Weight\r\n          </span>\r\n          <Badge className=\"text-lg px-3 py-1\">{overlayCaratWeight} ct</Badge>\r\n        </div>\r\n        <Slider\r\n          value={[overlayCaratIndex]}\r\n          onValueChange={(value) => onCaratIndexChange(value[0])}\r\n          max={DIAMOND_SHAPES.round.sizes.length - 1}\r\n          step={1}\r\n          className=\"py-4\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"relative h-80 flex items-center justify-center bg-gradient-to-br from-muted/30 to-muted/10 rounded-xl overflow-hidden\">\r\n        <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\r\n          <div className=\"w-full h-px border-t border-dashed border-muted-foreground/20\" />\r\n          <div className=\"absolute h-full w-px border-l border-dashed border-muted-foreground/20\" />\r\n        </div>\r\n\r\n        <div className=\"relative\">\r\n          {selectedShapes.map((shape, index) => {\r\n            const shapeInfo = DIAMOND_SHAPES[shape];\r\n            const sizeData = shapeInfo.sizes[overlayCaratIndex];\r\n            if (!sizeData) return null;\r\n            \r\n            const parsed = parseMM(sizeData.mm);\r\n            if (!parsed) return null;\r\n            \r\n            const width = parsed.length * 12;\r\n            const height = parsed.width * 12;\r\n            \r\n            return (\r\n              <motion.div\r\n                key={shape}\r\n                className=\"absolute\"\r\n                style={{\r\n                  left: \"50%\", top: \"50%\", transform: \"translate(-50%, -50%)\",\r\n                  zIndex: selectedShapes.length - index,\r\n                }}\r\n                initial={{ scale: 0, opacity: 0 }}\r\n                animate={{ scale: 1, opacity: 0.7 }}\r\n                transition={{ delay: index * 0.1, type: \"spring\" }}\r\n              >\r\n                <DiamondShapeSVG \r\n                  shape={shape} \r\n                  size={Math.max(width, height)} \r\n                  fillColor={SHAPE_COLORS[shape]} \r\n                  strokeColor={SHAPE_COLORS[shape]}\r\n                  useGradient={false}\r\n                />\r\n              </motion.div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap justify-center gap-3\">\r\n        {selectedShapes.map((shape) => {\r\n          const sizeData = DIAMOND_SHAPES[shape].sizes[overlayCaratIndex];\r\n          return (\r\n            <div key={shape} className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/30 border\">\r\n              <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: SHAPE_COLORS[shape] }} />\r\n              <span className=\"text-sm font-medium\">{DIAMOND_SHAPES[shape].name.split(\" \")[0]}</span>\r\n              <span className=\"text-xs text-muted-foreground\">{sizeData?.mm} mm</span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"rounded-lg border overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead>\r\n            <tr className=\"bg-muted/50\">\r\n              <th className=\"px-4 py-3 text-left text-sm font-semibold\">Shape</th>\r\n              <th className=\"px-4 py-3 text-left text-sm font-semibold\">Dimensions</th>\r\n              <th className=\"px-4 py-3 text-left text-sm font-semibold\">Depth</th>\r\n              <th className=\"px-4 py-3 text-left text-sm font-semibold\">Face-Up Area</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {selectedShapes.map((shape, index) => {\r\n              const sizeData = DIAMOND_SHAPES[shape].sizes[overlayCaratIndex];\r\n              return (\r\n                <tr key={shape} className={cn(\"border-t\", index % 2 === 0 && \"bg-muted/20\")}>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: SHAPE_COLORS[shape] }} />\r\n                      <span className=\"font-medium\">{DIAMOND_SHAPES[shape].name}</span>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">{sizeData?.mm} mm</td>\r\n                  <td className=\"px-4 py-3 text-muted-foreground\">{sizeData?.depth} mm</td>\r\n                  <td className=\"px-4 py-3\">~{calculateFaceUpArea(sizeData?.mm || \"0\")} mm²</td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"p-4 rounded-lg bg-primary/5 border border-primary/20\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <Info className=\"h-5 w-5 text-primary mt-0.5\" />\r\n          <div className=\"text-sm\">\r\n            <p className=\"font-medium mb-1\">Size Comparison Insight</p>\r\n            <p className=\"text-muted-foreground\">\r\n              At {overlayCaratWeight} carat, different shapes appear to have different sizes due to varying depth and proportions. \r\n              Elongated shapes like Marquise and Pear typically look larger face-up, while deeper cuts like Round and Cushion \r\n              carry more weight in their depth.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useMemo } from \"react\";\r\nimport { DIAMOND_SHAPES, ShapeKey } from \"@/constants/diamondData\";\r\nimport { parseMM } from \"@/utils/diamondCalculations\";\r\n\r\ninterface MMToCaratResult {\r\n  shape: ShapeKey;\r\n  shapeName: string;\r\n  carat: number;\r\n  mm: string;\r\n  matchScore: number;\r\n}\r\n\r\nexport const useDiamondComparison = (mmInput: string, mmWidthInput?: string) => {\r\n  const mmToCaratResults = useMemo((): MMToCaratResult[] => {\r\n    const searchLength = parseFloat(mmInput);\r\n    const searchWidth = mmWidthInput ? parseFloat(mmWidthInput) : searchLength;\r\n    \r\n    if (isNaN(searchLength) || searchLength <= 0) return [];\r\n    \r\n    const results: MMToCaratResult[] = [];\r\n    \r\n    (Object.keys(DIAMOND_SHAPES) as ShapeKey[]).forEach(shape => {\r\n      const shapeInfo = DIAMOND_SHAPES[shape];\r\n      \r\n      shapeInfo.sizes.forEach(size => {\r\n        const parsed = parseMM(size.mm);\r\n        if (!parsed) return;\r\n        \r\n        // Calculate match score (lower is better)\r\n        const lengthDiff = Math.abs(parsed.length - searchLength);\r\n        const widthDiff = Math.abs(parsed.width - searchWidth);\r\n        const matchScore = lengthDiff + widthDiff;\r\n        \r\n        // Only include if reasonably close (within 2mm)\r\n        if (matchScore <= 4) {\r\n          results.push({\r\n            shape,\r\n            shapeName: shapeInfo.name,\r\n            carat: size.carat,\r\n            mm: size.mm,\r\n            matchScore\r\n          });\r\n        }\r\n      });\r\n    });\r\n    \r\n    // Sort by match score\r\n    return results.sort((a, b) => a.matchScore - b.matchScore).slice(0, 10);\r\n  }, [mmInput, mmWidthInput]);\r\n\r\n  return { mmToCaratResults };\r\n};\r\n","import { useState, lazy, Suspense, useCallback } from \"react\";\r\nimport { Header } from \"@/components/Header\";\r\nimport { Footer } from \"@/components/Footer\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Slider } from \"@/components/ui/slider\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { ScrollReveal } from \"@/components/ScrollReveal\";\r\nimport { ThemeSwitcher } from \"@/components/ThemeSwitcher\";\r\nimport { DiamondShapeSVG } from \"@/components/diamond/DiamondShapeSVG\";\r\nimport { DiamondSizePreview } from \"@/components/diamond/DiamondSizePreview\";\r\nimport { DiamondSizeTable } from \"@/components/diamond/DiamondSizeTable\";\r\nimport { RingSizeOverlay } from \"@/components/diamond/RingSizeOverlay\";\r\nimport { MultiShapeOverlay } from \"@/components/diamond/MultiShapeOverlay\";\r\nimport { DIAMOND_SHAPES, ShapeKey } from \"@/constants/diamondData\";\r\nimport { useDiamondComparison } from \"@/hooks/useDiamondComparison\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { \r\n  Diamond, Ruler, Scale, Sparkles, Info, ZoomIn, Hand, Search,\r\n  CircleDot, Layers, Box\r\n} from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nconst Diamond3DViewer = lazy(() => import(\"@/components/Diamond3DViewer\"));\r\n\r\nconst DiamondSizingChart = () => {\r\n  const [selectedShape, setSelectedShape] = useState<ShapeKey>(\"round\");\r\n  const [selectedCaratIndex, setSelectedCaratIndex] = useState(3);\r\n  const [compareMode, setCompareMode] = useState(false);\r\n  const [compareShape, setCompareShape] = useState<ShapeKey>(\"princess\");\r\n  const [mmInput, setMmInput] = useState(\"\");\r\n  const [mmWidthInput, setMmWidthInput] = useState(\"\");\r\n  const [selectedRingSize, setSelectedRingSize] = useState(6);\r\n  const [showRingOverlay, setShowRingOverlay] = useState(false);\r\n  const [multiOverlayMode, setMultiOverlayMode] = useState(false);\r\n  const [selectedShapesForOverlay, setSelectedShapesForOverlay] = useState<ShapeKey[]>([\"round\", \"oval\", \"princess\"]);\r\n  const [overlayCaratIndex, setOverlayCaratIndex] = useState(3);\r\n  const [autoRotate3D, setAutoRotate3D] = useState(true);\r\n\r\n  const { mmToCaratResults } = useDiamondComparison(mmInput, mmWidthInput);\r\n\r\n  const shapeData = DIAMOND_SHAPES[selectedShape];\r\n  const compareShapeData = DIAMOND_SHAPES[compareShape];\r\n  const selectedSize = shapeData.sizes[selectedCaratIndex];\r\n  const compareSize = compareShapeData.sizes[selectedCaratIndex];\r\n  const overlayCaratWeight = DIAMOND_SHAPES.round.sizes[overlayCaratIndex]?.carat || 1;\r\n\r\n  const toggleShapeForOverlay = useCallback((shape: ShapeKey) => {\r\n    setSelectedShapesForOverlay(prev => {\r\n      if (prev.includes(shape)) {\r\n        if (prev.length <= 2) return prev;\r\n        return prev.filter(s => s !== shape);\r\n      }\r\n      if (prev.length >= 5) return prev;\r\n      return [...prev, shape];\r\n    });\r\n  }, []);\r\n\r\n  const shapeKeys = Object.keys(DIAMOND_SHAPES) as ShapeKey[];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <Header />\r\n      \r\n      {/* Hero Section */}\r\n      <section className=\"relative overflow-hidden border-b bg-gradient-to-br from-primary/5 via-background to-accent/5 py-16\">\r\n        <div className=\"container mx-auto px-4 relative\">\r\n          <ScrollReveal>\r\n            <div className=\"text-center max-w-3xl mx-auto\">\r\n              <div className=\"inline-flex items-center gap-2 rounded-full border border-primary/30 bg-primary/5 px-4 py-2 text-sm mb-6\">\r\n                <Diamond className=\"h-4 w-4 text-primary\" />\r\n                <span className=\"text-primary font-medium\">Interactive Size Guide</span>\r\n              </div>\r\n              <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">Diamond Sizing Chart</h1>\r\n              <p className=\"text-lg text-muted-foreground\">\r\n                Explore diamond dimensions across all shapes. Compare carat weights, \r\n                millimeter sizes, and visualize how each shape looks at different sizes.\r\n              </p>\r\n            </div>\r\n          </ScrollReveal>\r\n        </div>\r\n      </section>\r\n\r\n      <main className=\"container mx-auto px-4 py-12\">\r\n        {/* Shape Selector */}\r\n        <ScrollReveal>\r\n          <div className=\"mb-8\">\r\n            <h2 className=\"text-xl font-semibold mb-4 flex items-center gap-2\">\r\n              <Sparkles className=\"h-5 w-5 text-primary\" />\r\n              Select Diamond Shape\r\n            </h2>\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-10 gap-3\">\r\n              {shapeKeys.map((shape) => (\r\n                <motion.button\r\n                  key={shape}\r\n                  onClick={() => setSelectedShape(shape)}\r\n                  className={cn(\r\n                    \"relative p-4 rounded-xl border-2 transition-all duration-300\",\r\n                    selectedShape === shape\r\n                      ? \"border-primary bg-primary/10 shadow-lg shadow-primary/20\"\r\n                      : \"border-border hover:border-primary/50 hover:bg-muted/50\"\r\n                  )}\r\n                  whileHover={{ scale: 1.05 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                >\r\n                  <DiamondShapeSVG shape={shape} size={40} className=\"mx-auto mb-2\" />\r\n                  <span className=\"text-xs font-medium block text-center\">\r\n                    {DIAMOND_SHAPES[shape].name.split(\" \")[0]}\r\n                  </span>\r\n                  {selectedShape === shape && (\r\n                    <motion.div\r\n                      layoutId=\"shapeIndicator\"\r\n                      className=\"absolute inset-0 border-2 border-primary rounded-xl\"\r\n                      initial={false}\r\n                      transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n                    />\r\n                  )}\r\n                </motion.button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </ScrollReveal>\r\n\r\n        <div className=\"grid lg:grid-cols-2 gap-8\">\r\n          {/* Visual Preview */}\r\n          <ScrollReveal delay={0.1}>\r\n            <Card className=\"overflow-hidden\">\r\n              <CardHeader className=\"bg-gradient-to-r from-primary/5 to-accent/5\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      <ZoomIn className=\"h-5 w-5\" />\r\n                      {shapeData.name}\r\n                    </CardTitle>\r\n                    <CardDescription>{shapeData.description}</CardDescription>\r\n                  </div>\r\n                  <Button\r\n                    variant={compareMode ? \"default\" : \"outline\"}\r\n                    size=\"sm\"\r\n                    onClick={() => setCompareMode(!compareMode)}\r\n                  >\r\n                    Compare\r\n                  </Button>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent className=\"p-6\">\r\n                <DiamondSizePreview\r\n                  selectedShape={selectedShape}\r\n                  selectedSize={selectedSize}\r\n                  compareMode={compareMode}\r\n                  compareShape={compareShape}\r\n                  compareSize={compareSize}\r\n                />\r\n\r\n                {/* Compare Shape Selector */}\r\n                <AnimatePresence>\r\n                  {compareMode && (\r\n                    <motion.div\r\n                      initial={{ height: 0, opacity: 0 }}\r\n                      animate={{ height: \"auto\", opacity: 1 }}\r\n                      exit={{ height: 0, opacity: 0 }}\r\n                      className=\"mb-6 overflow-hidden\"\r\n                    >\r\n                      <p className=\"text-sm text-muted-foreground mb-3\">Compare with:</p>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {shapeKeys.filter((s) => s !== selectedShape).map((shape) => (\r\n                          <Button\r\n                            key={shape}\r\n                            variant={compareShape === shape ? \"default\" : \"outline\"}\r\n                            size=\"sm\"\r\n                            onClick={() => setCompareShape(shape)}\r\n                            className=\"gap-2\"\r\n                          >\r\n                            <DiamondShapeSVG shape={shape} size={16} />\r\n                            {DIAMOND_SHAPES[shape].name.split(\" \")[0]}\r\n                          </Button>\r\n                        ))}\r\n                      </div>\r\n                    </motion.div>\r\n                  )}\r\n                </AnimatePresence>\r\n\r\n                {/* Carat Slider */}\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm font-medium flex items-center gap-2\">\r\n                      <Scale className=\"h-4 w-4\" />\r\n                      Carat Weight\r\n                    </span>\r\n                    <span className=\"text-2xl font-bold text-primary\">{selectedSize.carat} ct</span>\r\n                  </div>\r\n                  <Slider\r\n                    value={[selectedCaratIndex]}\r\n                    onValueChange={(value) => setSelectedCaratIndex(value[0])}\r\n                    max={shapeData.sizes.length - 1}\r\n                    step={1}\r\n                    className=\"py-4\"\r\n                  />\r\n                  <div className=\"flex justify-between text-xs text-muted-foreground\">\r\n                    <span>{shapeData.sizes[0].carat} ct</span>\r\n                    <span>{shapeData.sizes[shapeData.sizes.length - 1].carat} ct</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Size Details */}\r\n                <div className=\"grid grid-cols-2 gap-4 mt-6\">\r\n                  <div className=\"p-4 rounded-lg bg-muted/50 text-center\">\r\n                    <Ruler className=\"h-5 w-5 mx-auto mb-2 text-primary\" />\r\n                    <p className=\"text-sm text-muted-foreground\">Dimensions</p>\r\n                    <p className=\"text-lg font-semibold\">{selectedSize.mm} mm</p>\r\n                  </div>\r\n                  <div className=\"p-4 rounded-lg bg-muted/50 text-center\">\r\n                    <Diamond className=\"h-5 w-5 mx-auto mb-2 text-primary\" />\r\n                    <p className=\"text-sm text-muted-foreground\">Depth</p>\r\n                    <p className=\"text-lg font-semibold\">{selectedSize.depth} mm</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Finger Reference */}\r\n                <div className=\"mt-6 p-4 rounded-lg border border-primary/20 bg-primary/5\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Hand className=\"h-5 w-5 text-primary mt-0.5\" />\r\n                    <div>\r\n                      <p className=\"font-medium text-sm\">On-Finger Reference</p>\r\n                      <p className=\"text-xs text-muted-foreground mt-1\">\r\n                        A {selectedSize.carat} carat {shapeData.name.toLowerCase()} measures approximately {selectedSize.mm} mm, \r\n                        which appears {selectedSize.carat >= 1.5 ? \"substantial\" : selectedSize.carat >= 1 ? \"elegant\" : \"delicate\"} on an average ring finger.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </ScrollReveal>\r\n\r\n          {/* Size Table */}\r\n          <ScrollReveal delay={0.2}>\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Ruler className=\"h-5 w-5\" />\r\n                  Complete Size Chart - {shapeData.name}\r\n                </CardTitle>\r\n                <CardDescription>All measurements are approximate and may vary based on cut quality</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <DiamondSizeTable\r\n                  sizes={shapeData.sizes}\r\n                  selectedCaratIndex={selectedCaratIndex}\r\n                  onSelectIndex={setSelectedCaratIndex}\r\n                />\r\n\r\n                <div className=\"mt-4 p-4 rounded-lg bg-muted/30 border\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Info className=\"h-5 w-5 text-muted-foreground mt-0.5\" />\r\n                    <div className=\"text-sm text-muted-foreground\">\r\n                      <p className=\"font-medium text-foreground mb-1\">Important Notes:</p>\r\n                      <ul className=\"list-disc list-inside space-y-1\">\r\n                        <li>Dimensions vary based on cut depth and proportions</li>\r\n                        <li>Fancy shapes may appear larger than rounds at same carat weight</li>\r\n                        <li>Length-to-width ratios affect perceived size</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </ScrollReveal>\r\n        </div>\r\n\r\n        {/* 3D Diamond Viewer */}\r\n        <ScrollReveal delay={0.25}>\r\n          <Card className=\"mt-8\">\r\n            <CardHeader className=\"bg-gradient-to-r from-muted/50 via-primary/5 to-muted/50\">\r\n              <div className=\"flex items-center justify-between flex-wrap gap-4\">\r\n                <div>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Box className=\"h-5 w-5\" />\r\n                    3D Diamond Viewer\r\n                  </CardTitle>\r\n                  <CardDescription>Rotate and explore diamond shapes in 3D - click and drag to rotate</CardDescription>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Switch id=\"auto-rotate\" checked={autoRotate3D} onCheckedChange={setAutoRotate3D} />\r\n                    <Label htmlFor=\"auto-rotate\" className=\"text-sm\">Auto-rotate</Label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6\">\r\n              <div className=\"grid md:grid-cols-2 gap-6\">\r\n                <div className=\"h-[350px] rounded-xl overflow-hidden\">\r\n                  <Suspense fallback={\r\n                    <div className=\"h-full bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center\">\r\n                      <div className=\"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full\" />\r\n                    </div>\r\n                  }>\r\n                    <Diamond3DViewer shape={selectedShape} autoRotate={autoRotate3D} showFire />\r\n                  </Suspense>\r\n                </div>\r\n                <div className=\"flex flex-col justify-center space-y-4\">\r\n                  <h3 className=\"text-xl font-semibold\">{shapeData.name}</h3>\r\n                  <p className=\"text-muted-foreground\">{shapeData.description}</p>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"p-4 rounded-lg bg-muted/30\">\r\n                      <p className=\"text-sm text-muted-foreground\">Selected Size</p>\r\n                      <p className=\"text-2xl font-bold text-primary\">{selectedSize.carat} ct</p>\r\n                    </div>\r\n                    <div className=\"p-4 rounded-lg bg-muted/30\">\r\n                      <p className=\"text-sm text-muted-foreground\">Dimensions</p>\r\n                      <p className=\"text-2xl font-bold\">{selectedSize.mm} mm</p>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Use mouse to rotate • Scroll to zoom • The 3D model represents the general shape characteristics\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </ScrollReveal>\r\n\r\n        {/* MM to Carat Lookup */}\r\n        <ScrollReveal delay={0.3}>\r\n          <Card className=\"mt-8\">\r\n            <CardHeader className=\"bg-gradient-to-r from-accent/5 to-primary/5\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Search className=\"h-5 w-5\" />\r\n                MM to Carat Lookup\r\n              </CardTitle>\r\n              <CardDescription>Enter millimeter dimensions to find approximate carat weights</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6\">\r\n              <div className=\"grid md:grid-cols-2 gap-8\">\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"mm-length\" className=\"text-sm font-medium\">Length (mm)</Label>\r\n                      <div className=\"relative\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                        <Input\r\n                          id=\"mm-length\"\r\n                          type=\"number\"\r\n                          step=\"0.1\"\r\n                          min=\"0\"\r\n                          placeholder=\"e.g., 6.5\"\r\n                          value={mmInput}\r\n                          onChange={(e) => setMmInput(e.target.value)}\r\n                          className=\"pl-9\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"mm-width\" className=\"text-sm font-medium\">\r\n                        Width (mm) <span className=\"text-muted-foreground text-xs\">(optional)</span>\r\n                      </Label>\r\n                      <Input\r\n                        id=\"mm-width\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        min=\"0\"\r\n                        placeholder=\"Same as length\"\r\n                        value={mmWidthInput}\r\n                        onChange={(e) => setMmWidthInput(e.target.value)}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Enter length for round diamonds, or both length and width for fancy shapes\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-3\">\r\n                  <p className=\"text-sm font-medium\">Matching Results</p>\r\n                  {mmToCaratResults.length > 0 ? (\r\n                    <div className=\"space-y-2 max-h-[200px] overflow-y-auto pr-2\">\r\n                      {mmToCaratResults.map((result, index) => (\r\n                        <motion.div\r\n                          key={`${result.shape}-${result.carat}`}\r\n                          initial={{ opacity: 0, x: -10 }}\r\n                          animate={{ opacity: 1, x: 0 }}\r\n                          transition={{ delay: index * 0.05 }}\r\n                          className={cn(\r\n                            \"flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all\",\r\n                            result.matchScore < 0.5 ? \"bg-primary/10 border-primary/30\" : \"bg-muted/30 hover:bg-muted/50\"\r\n                          )}\r\n                          onClick={() => {\r\n                            setSelectedShape(result.shape);\r\n                            const idx = DIAMOND_SHAPES[result.shape].sizes.findIndex(s => s.carat === result.carat);\r\n                            if (idx !== -1) setSelectedCaratIndex(idx);\r\n                          }}\r\n                        >\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <DiamondShapeSVG shape={result.shape} size={24} />\r\n                            <div>\r\n                              <p className=\"font-medium text-sm\">{result.shapeName}</p>\r\n                              <p className=\"text-xs text-muted-foreground\">{result.mm} mm</p>\r\n                            </div>\r\n                          </div>\r\n                          <Badge variant={result.matchScore < 0.5 ? \"default\" : \"secondary\"}>~{result.carat} ct</Badge>\r\n                        </motion.div>\r\n                      ))}\r\n                    </div>\r\n                  ) : mmInput ? (\r\n                    <div className=\"p-4 rounded-lg bg-muted/30 text-center text-muted-foreground\">\r\n                      <Search className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n                      <p className=\"text-sm\">No matching sizes found</p>\r\n                      <p className=\"text-xs mt-1\">Try adjusting your measurements</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"p-4 rounded-lg bg-muted/30 text-center text-muted-foreground\">\r\n                      <Ruler className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n                      <p className=\"text-sm\">Enter dimensions to search</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </ScrollReveal>\r\n\r\n        {/* Ring Size Overlay */}\r\n        <ScrollReveal delay={0.4}>\r\n          <Card className=\"mt-8\">\r\n            <CardHeader className=\"bg-gradient-to-r from-primary/5 to-accent/5\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <CircleDot className=\"h-5 w-5\" />\r\n                    Ring Size Overlay\r\n                  </CardTitle>\r\n                  <CardDescription>See how diamonds look on different finger sizes</CardDescription>\r\n                </div>\r\n                <Button\r\n                  variant={showRingOverlay ? \"default\" : \"outline\"}\r\n                  size=\"sm\"\r\n                  onClick={() => setShowRingOverlay(!showRingOverlay)}\r\n                >\r\n                  {showRingOverlay ? \"Hide Overlay\" : \"Show Overlay\"}\r\n                </Button>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6\">\r\n              <AnimatePresence mode=\"wait\">\r\n                {showRingOverlay ? (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, height: 0 }}\r\n                    animate={{ opacity: 1, height: \"auto\" }}\r\n                    exit={{ opacity: 0, height: 0 }}\r\n                  >\r\n                    <RingSizeOverlay\r\n                      selectedShape={selectedShape}\r\n                      selectedSize={selectedSize}\r\n                      selectedRingSize={selectedRingSize}\r\n                      onRingSizeChange={setSelectedRingSize}\r\n                    />\r\n                  </motion.div>\r\n                ) : (\r\n                  <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"text-center py-8 text-muted-foreground\">\r\n                    <Hand className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\r\n                    <p>Click \"Show Overlay\" to visualize diamond sizes on different ring sizes</p>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </CardContent>\r\n          </Card>\r\n        </ScrollReveal>\r\n\r\n        {/* Multi-Shape Overlay */}\r\n        <ScrollReveal delay={0.45}>\r\n          <Card className=\"mt-8\">\r\n            <CardHeader className=\"bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Layers className=\"h-5 w-5\" />\r\n                    Multi-Shape Overlay\r\n                  </CardTitle>\r\n                  <CardDescription>Compare multiple diamond shapes at the same carat weight</CardDescription>\r\n                </div>\r\n                <Button\r\n                  variant={multiOverlayMode ? \"default\" : \"outline\"}\r\n                  size=\"sm\"\r\n                  onClick={() => setMultiOverlayMode(!multiOverlayMode)}\r\n                >\r\n                  {multiOverlayMode ? \"Hide Overlay\" : \"Compare Shapes\"}\r\n                </Button>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6\">\r\n              <AnimatePresence mode=\"wait\">\r\n                {multiOverlayMode ? (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, height: 0 }}\r\n                    animate={{ opacity: 1, height: \"auto\" }}\r\n                    exit={{ opacity: 0, height: 0 }}\r\n                  >\r\n                    <MultiShapeOverlay\r\n                      selectedShapes={selectedShapesForOverlay}\r\n                      overlayCaratIndex={overlayCaratIndex}\r\n                      overlayCaratWeight={overlayCaratWeight}\r\n                      onCaratIndexChange={setOverlayCaratIndex}\r\n                      onToggleShape={toggleShapeForOverlay}\r\n                    />\r\n                  </motion.div>\r\n                ) : (\r\n                  <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"text-center py-8 text-muted-foreground\">\r\n                    <Layers className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\r\n                    <p>Click \"Compare Shapes\" to see multiple diamond shapes overlaid at the same carat weight</p>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </CardContent>\r\n          </Card>\r\n        </ScrollReveal>\r\n\r\n        {/* Quick Reference Grid */}\r\n        <ScrollReveal delay={0.5}>\r\n          <div className=\"mt-12\">\r\n            <h2 className=\"text-2xl font-bold mb-6 flex items-center gap-2\">\r\n              <Diamond className=\"h-6 w-6 text-primary\" />\r\n              Quick Reference: 1 Carat Comparison\r\n            </h2>\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4\">\r\n              {shapeKeys.map((shape) => {\r\n                const oneCaratSize = DIAMOND_SHAPES[shape].sizes.find(s => s.carat === 1);\r\n                return (\r\n                  <motion.div\r\n                    key={shape}\r\n                    className=\"p-4 rounded-xl border bg-card hover:shadow-lg hover:border-primary/50 transition-all cursor-pointer\"\r\n                    onClick={() => {\r\n                      setSelectedShape(shape);\r\n                      setSelectedCaratIndex(DIAMOND_SHAPES[shape].sizes.findIndex(s => s.carat === 1));\r\n                    }}\r\n                    whileHover={{ y: -4 }}\r\n                  >\r\n                    <DiamondShapeSVG shape={shape} size={60} className=\"mx-auto mb-3\" />\r\n                    <h3 className=\"font-semibold text-center text-sm mb-2\">{DIAMOND_SHAPES[shape].name}</h3>\r\n                    <div className=\"text-center text-xs text-muted-foreground space-y-1\">\r\n                      <p className=\"font-medium text-foreground\">{oneCaratSize?.mm} mm</p>\r\n                      <p>Depth: {oneCaratSize?.depth} mm</p>\r\n                    </div>\r\n                  </motion.div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </ScrollReveal>\r\n      </main>\r\n\r\n      <Footer />\r\n      <ThemeSwitcher />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DiamondSizingChart;\r\n"],"file":"assets/DiamondSizingChart-xXjvTPXy.js"}